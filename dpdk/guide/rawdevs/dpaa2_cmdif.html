

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>1. NXP DPAA2 CMDIF Driver &mdash; Data Plane Development Kit 20.11.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2. NXP DPAA2 QDMA Driver" href="dpaa2_qdma.html" />
    <link rel="prev" title="Rawdev Drivers" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Data Plane Development Kit
          

          
            
            <img src="../_static/DPDK_logo_vertical_rev_small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                20.11.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../linux_gsg/index.html">Getting Started Guide for Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../freebsd_gsg/index.html">Getting Started Guide for FreeBSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows_gsg/index.html">Getting Started Guide for Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sample_app_ug/index.html">Sample Applications User Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_guide/index.html">Programmer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto/index.html">HowTo Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">DPDK Tools User Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testpmd_app_ug/index.html">Testpmd Application User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nics/index.html">Network Interface Controller Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bbdevs/index.html">Baseband Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cryptodevs/index.html">Crypto Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compressdevs/index.html">Compression Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vdpadevs/index.html">vDPA Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../regexdevs/index.html">REGEX Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eventdevs/index.html">Event Device Drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Rawdev Drivers</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">1. NXP DPAA2 CMDIF Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#features">1.1. Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supported-dpaa2-socs">1.2. Supported DPAA2 SoCs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">1.3. Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enabling-logs">1.4. Enabling logs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#initialization">1.5. Initialization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#platform-requirement">1.5.1. Platform Requirement</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dpaa2_qdma.html">2. NXP DPAA2 QDMA Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="ifpga.html">3. IFPGA Rawdev Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="ioat.html">4. IOAT Rawdev Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntb.html">5. NTB Rawdev Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="octeontx2_dma.html">6. OCTEON TX2 DMA Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="octeontx2_ep.html">7. Marvell OCTEON TX2 End Point Rawdev Driver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mempool/index.html">Mempool Device Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../platform/index.html">Platform Specific Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributor’s Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rel_notes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Data Plane Development Kit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Rawdev Drivers</a> &raquo;</li>
        
      <li><span class="section-number">1. </span>NXP DPAA2 CMDIF Driver</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/rawdevs/dpaa2_cmdif.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="nxp-dpaa2-cmdif-driver">
<h1><span class="section-number">1. </span>NXP DPAA2 CMDIF Driver</h1>
<p>The DPAA2 CMDIF is an implementation of the rawdev API, that provides
communication between the GPP and AIOP (Firmware). This is achieved
via using the DPCI devices exposed by MC for GPP &lt;–&gt; AIOP interaction.</p>
<p>More information can be found at <a class="reference external" href="http://www.nxp.com/products/microcontrollers-and-processors/arm-processors/qoriq-arm-processors:QORIQ-ARM">NXP Official Website</a>.</p>
<div class="section" id="features">
<h2><span class="section-number">1.1. </span>Features</h2>
<p>The DPAA2 CMDIF implements following features in the rawdev API;</p>
<ul class="simple">
<li><p>Getting the object ID of the device (DPCI) using attributes</p></li>
<li><p>I/O to and from the AIOP device using DPCI</p></li>
</ul>
</div>
<div class="section" id="supported-dpaa2-socs">
<h2><span class="section-number">1.2. </span>Supported DPAA2 SoCs</h2>
<ul class="simple">
<li><p>LS2084A/LS2044A</p></li>
<li><p>LS2088A/LS2048A</p></li>
<li><p>LS1088A/LS1048A</p></li>
</ul>
</div>
<div class="section" id="prerequisites">
<h2><span class="section-number">1.3. </span>Prerequisites</h2>
<p>See <a class="reference internal" href="../platform/dpaa2.html"><span class="doc">NXP QorIQ DPAA2 Board Support Package</span></a> for setup information</p>
<p>Currently supported by DPDK:</p>
<ul class="simple">
<li><p>NXP SDK <strong>19.09+</strong>.</p></li>
<li><p>MC Firmware version <strong>10.18.0</strong> and higher.</p></li>
<li><p>Supported architectures:  <strong>arm64 LE</strong>.</p></li>
<li><p>Follow the DPDK <a class="reference internal" href="../linux_gsg/index.html#linux-gsg"><span class="std std-ref">Getting Started Guide for Linux</span></a> to setup the basic DPDK environment.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some part of fslmc bus code (mc flib - object library) routines are
dual licensed (BSD &amp; GPLv2).</p>
</div>
</div>
<div class="section" id="enabling-logs">
<h2><span class="section-number">1.4. </span>Enabling logs</h2>
<p>For enabling logs, use the following EAL parameter:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">./your_cmdif_application &lt;EAL args&gt; --log-level=pmd.raw.dpaa2.cmdif,&lt;level&gt;</span>
</pre></div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">pmd.raw.dpaa2.cmdif</span></code> as log matching criteria, all Event PMD logs can be
enabled which are lower than logging <code class="docutils literal notranslate"><span class="pre">level</span></code>.</p>
</div>
<div class="section" id="initialization">
<h2><span class="section-number">1.5. </span>Initialization</h2>
<p>The DPAA2 CMDIF is exposed as a vdev device which consists of dpci devices.
On EAL initialization, dpci devices will be probed and then vdev device
can be created from the application code by</p>
<ul class="simple">
<li><p>Invoking <code class="docutils literal notranslate"><span class="pre">rte_vdev_init(&quot;dpaa2_dpci&quot;)</span></code> from the application</p></li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">--vdev=&quot;dpaa2_dpci&quot;</span></code> in the EAL options, which will call
rte_vdev_init() internally</p></li>
</ul>
<p>Example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">./your_cmdif_application &lt;EAL args&gt; --vdev=&quot;dpaa2_dpci&quot;</span>
</pre></div>
</div>
<div class="section" id="platform-requirement">
<h3><span class="section-number">1.5.1. </span>Platform Requirement</h3>
<p>DPAA2 drivers for DPDK can only work on NXP SoCs as listed in the
<code class="docutils literal notranslate"><span class="pre">Supported</span> <span class="pre">DPAA2</span> <span class="pre">SoCs</span></code>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="dpaa2_qdma.html" class="btn btn-neutral float-right" title="2. NXP DPAA2 QDMA Driver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Rawdev Drivers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>