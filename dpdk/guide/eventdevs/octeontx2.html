

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>8. OCTEON TX2 SSO Eventdev Driver &mdash; Data Plane Development Kit 20.11.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="9. OPDL Eventdev Poll Mode Driver" href="opdl.html" />
    <link rel="prev" title="7. OCTEON TX SSOVF Eventdev Driver" href="octeontx.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Data Plane Development Kit
          

          
            
            <img src="../_static/DPDK_logo_vertical_rev_small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                20.11.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../linux_gsg/index.html">Getting Started Guide for Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../freebsd_gsg/index.html">Getting Started Guide for FreeBSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows_gsg/index.html">Getting Started Guide for Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sample_app_ug/index.html">Sample Applications User Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_guide/index.html">Programmer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto/index.html">HowTo Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">DPDK Tools User Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testpmd_app_ug/index.html">Testpmd Application User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nics/index.html">Network Interface Controller Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bbdevs/index.html">Baseband Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cryptodevs/index.html">Crypto Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compressdevs/index.html">Compression Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vdpadevs/index.html">vDPA Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../regexdevs/index.html">REGEX Device Drivers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Event Device Drivers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dlb.html">1. Driver for the Intel® Dynamic Load Balancer (DLB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dlb2.html">2. Driver for the Intel® Dynamic Load Balancer (DLB2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dpaa.html">3. NXP DPAA Eventdev Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="dpaa2.html">4. NXP DPAA2 Eventdev Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsw.html">5. Distributed Software Eventdev Poll Mode Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="sw.html">6. Software Eventdev Poll Mode Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="octeontx.html">7. OCTEON TX SSOVF Eventdev Driver</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">8. OCTEON TX2 SSO Eventdev Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#features">8.1. Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites-and-compilation-procedure">8.2. Prerequisites and Compilation procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#runtime-config-options">8.3. Runtime Config Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#debugging-options">8.4. Debugging Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="opdl.html">9. OPDL Eventdev Poll Mode Driver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../rawdevs/index.html">Rawdev Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mempool/index.html">Mempool Device Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../platform/index.html">Platform Specific Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributor’s Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rel_notes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Data Plane Development Kit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Event Device Drivers</a> &raquo;</li>
        
      <li><span class="section-number">8. </span>OCTEON TX2 SSO Eventdev Driver</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/eventdevs/octeontx2.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="octeon-tx2-sso-eventdev-driver">
<h1><span class="section-number">8. </span>OCTEON TX2 SSO Eventdev Driver</h1>
<p>The OCTEON TX2 SSO PMD (<strong>librte_event_octeontx2</strong>) provides poll mode
eventdev driver support for the inbuilt event device found in the <strong>Marvell OCTEON TX2</strong>
SoC family.</p>
<p>More information about OCTEON TX2 SoC can be found at <a class="reference external" href="https://www.marvell.com/embedded-processors/infrastructure-processors/">Marvell Official Website</a>.</p>
<div class="section" id="features">
<h2><span class="section-number">8.1. </span>Features</h2>
<p>Features of the OCTEON TX2 SSO PMD are:</p>
<ul class="simple">
<li><p>256 Event queues</p></li>
<li><p>26 (dual) and 52 (single) Event ports</p></li>
<li><p>HW event scheduler</p></li>
<li><p>Supports 1M flows per event queue</p></li>
<li><p>Flow based event pipelining</p></li>
<li><p>Flow pinning support in flow based event pipelining</p></li>
<li><p>Queue based event pipelining</p></li>
<li><p>Supports ATOMIC, ORDERED, PARALLEL schedule types per flow</p></li>
<li><p>Event scheduling QoS based on event queue priority</p></li>
<li><p>Open system with configurable amount of outstanding events limited only by
DRAM</p></li>
<li><p>HW accelerated dequeue timeout support to enable power management</p></li>
<li><p>HW managed event timers support through TIM, with high precision and
time granularity of 2.5us.</p></li>
<li><p>Up to 256 TIM rings aka event timer adapters.</p></li>
<li><p>Up to 8 rings traversed in parallel.</p></li>
<li><p>HW managed packets enqueued from ethdev to eventdev exposed through event eth
RX adapter.</p></li>
<li><p>N:1 ethernet device Rx queue to Event queue mapping.</p></li>
<li><p>Lockfree Tx from event eth Tx adapter using <code class="docutils literal notranslate"><span class="pre">DEV_TX_OFFLOAD_MT_LOCKFREE</span></code>
capability while maintaining receive packet order.</p></li>
<li><p>Full Rx/Tx offload support defined through ethdev queue config.</p></li>
</ul>
</div>
<div class="section" id="prerequisites-and-compilation-procedure">
<h2><span class="section-number">8.2. </span>Prerequisites and Compilation procedure</h2>
<blockquote>
<div><p>See <a class="reference internal" href="../platform/octeontx2.html"><span class="doc">Marvell OCTEON TX2 Platform Guide</span></a> for setup information.</p>
</div></blockquote>
</div>
<div class="section" id="runtime-config-options">
<h2><span class="section-number">8.3. </span>Runtime Config Options</h2>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Maximum</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">in-flight</span> <span class="pre">events</span></code> (default <code class="docutils literal notranslate"><span class="pre">8192</span></code>)</p>
<p>In <strong>Marvell OCTEON TX2</strong> the max number of in-flight events are only limited
by DRAM size, the <code class="docutils literal notranslate"><span class="pre">xae_cnt</span></code> devargs parameter is introduced to provide
upper limit for in-flight events.
For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-a 0002:0e:00.0,xae_cnt=16384
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Force</span> <span class="pre">legacy</span> <span class="pre">mode</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">single_ws</span></code> devargs parameter is introduced to force legacy mode i.e
single workslot mode in SSO and disable the default dual workslot mode.
For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-a 0002:0e:00.0,single_ws=1
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Event</span> <span class="pre">Group</span> <span class="pre">QoS</span> <span class="pre">support</span></code></p>
<p>SSO GGRPs i.e. queue uses DRAM &amp; SRAM buffers to hold in-flight
events. By default the buffers are assigned to the SSO GGRPs to
satisfy minimum HW requirements. SSO is free to assign the remaining
buffers to GGRPs based on a preconfigured threshold.
We can control the QoS of SSO GGRP by modifying the above mentioned
thresholds. GGRPs that have higher importance can be assigned higher
thresholds than the rest. The dictionary format is as follows
[Qx-XAQ-TAQ-IAQ][Qz-XAQ-TAQ-IAQ] expressed in percentages, 0 represents
default.
For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-a 0002:0e:00.0,qos=[1-50-50-50]
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">TIM</span> <span class="pre">disable</span> <span class="pre">NPA</span></code></p>
<p>By default chunks are allocated from NPA then TIM can automatically free
them when traversing the list of chunks. The <code class="docutils literal notranslate"><span class="pre">tim_disable_npa</span></code> devargs
parameter disables NPA and uses software mempool to manage chunks
For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-a 0002:0e:00.0,tim_disable_npa=1
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">TIM</span> <span class="pre">modify</span> <span class="pre">chunk</span> <span class="pre">slots</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">tim_chnk_slots</span></code> devargs can be used to modify number of chunk slots.
Chunks are used to store event timers, a chunk can be visualised as an array
where the last element points to the next chunk and rest of them are used to
store events. TIM traverses the list of chunks and enqueues the event timers
to SSO. The default value is 255 and the max value is 4095.
For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-a 0002:0e:00.0,tim_chnk_slots=1023
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">TIM</span> <span class="pre">enable</span> <span class="pre">arm/cancel</span> <span class="pre">statistics</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">tim_stats_ena</span></code> devargs can be used to enable arm and cancel stats of
event timer adapter.
For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-a 0002:0e:00.0,tim_stats_ena=1
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">TIM</span> <span class="pre">limit</span> <span class="pre">max</span> <span class="pre">rings</span> <span class="pre">reserved</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">tim_rings_lmt</span></code> devargs can be used to limit the max number of TIM
rings i.e. event timer adapter reserved on probe. Since, TIM rings are HW
resources we can avoid starving other applications by not grabbing all the
rings.
For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-a 0002:0e:00.0,tim_rings_lmt=5
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">TIM</span> <span class="pre">ring</span> <span class="pre">control</span> <span class="pre">internal</span> <span class="pre">parameters</span></code></p>
<p>When using multiple TIM rings the <code class="docutils literal notranslate"><span class="pre">tim_ring_ctl</span></code> devargs can be used to
control each TIM rings internal parameters uniquely. The following dict
format is expected [ring-chnk_slots-disable_npa-stats_ena]. 0 represents
default values.
For Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-a 0002:0e:00.0,tim_ring_ctl=[2-1023-1-0]
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Lock</span> <span class="pre">NPA</span> <span class="pre">contexts</span> <span class="pre">in</span> <span class="pre">NDC</span></code></p>
<blockquote>
<div><p>Lock NPA aura and pool contexts in NDC cache.
The device args take hexadecimal bitmask where each bit represent the
corresponding aura/pool id.</p>
<p>For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-a 0002:0e:00.0,npa_lock_mask=0xf
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="debugging-options">
<h2><span class="section-number">8.4. </span>Debugging Options</h2>
<span id="table-octeontx2-event-debug-options"></span><table class="docutils align-default" id="id1">
<caption><span class="caption-number">Table 8.1 </span><span class="caption-text">OCTEON TX2 event device debug options</span></caption>
<colgroup>
<col style="width: 4%" />
<col style="width: 17%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>#</p></th>
<th class="head"><p>Component</p></th>
<th class="head"><p>EAL log command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>SSO</p></td>
<td><p>–log-level=’pmd.event.octeontx2,8’</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>TIM</p></td>
<td><p>–log-level=’pmd.event.octeontx2.timer,8’</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="opdl.html" class="btn btn-neutral float-right" title="9. OPDL Eventdev Poll Mode Driver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="octeontx.html" class="btn btn-neutral float-left" title="7. OCTEON TX SSOVF Eventdev Driver" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>