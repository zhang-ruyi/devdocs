

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>24. Known Issues and Limitations in Legacy Releases &mdash; Data Plane Development Kit 20.11.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="25. ABI and API Deprecation" href="deprecation.html" />
    <link rel="prev" title="23. DPDK Release 1.8" href="release_1_8.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Data Plane Development Kit
          

          
            
            <img src="../_static/DPDK_logo_vertical_rev_small.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                20.11.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../linux_gsg/index.html">Getting Started Guide for Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../freebsd_gsg/index.html">Getting Started Guide for FreeBSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows_gsg/index.html">Getting Started Guide for Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sample_app_ug/index.html">Sample Applications User Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_guide/index.html">Programmer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto/index.html">HowTo Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">DPDK Tools User Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testpmd_app_ug/index.html">Testpmd Application User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nics/index.html">Network Interface Controller Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bbdevs/index.html">Baseband Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cryptodevs/index.html">Crypto Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compressdevs/index.html">Compression Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vdpadevs/index.html">vDPA Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../regexdevs/index.html">REGEX Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eventdevs/index.html">Event Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rawdevs/index.html">Rawdev Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mempool/index.html">Mempool Device Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../platform/index.html">Platform Specific Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributor’s Guidelines</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Release Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="release_20_11.html">1. DPDK Release 20.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_20_08.html">2. DPDK Release 20.08</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_20_05.html">3. DPDK Release 20.05</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_20_02.html">4. DPDK Release 20.02</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_19_11.html">5. DPDK Release 19.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_19_08.html">6. DPDK Release 19.08</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_19_05.html">7. DPDK Release 19.05</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_19_02.html">8. DPDK Release 19.02</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_18_11.html">9. DPDK Release 18.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_18_08.html">10. DPDK Release 18.08</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_18_05.html">11. DPDK Release 18.05</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_18_02.html">12. DPDK Release 18.02</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_17_11.html">13. DPDK Release 17.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_17_08.html">14. DPDK Release 17.08</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_17_05.html">15. DPDK Release 17.05</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_17_02.html">16. DPDK Release 17.02</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_16_11.html">17. DPDK Release 16.11</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_16_07.html">18. DPDK Release 16.07</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_16_04.html">19. DPDK Release 16.04</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_2_2.html">20. DPDK Release 2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_2_1.html">21. DPDK Release 2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_2_0.html">22. DPDK Release 2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_1_8.html">23. DPDK Release 1.8</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">24. Known Issues and Limitations in Legacy Releases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#unit-test-for-link-bonding-may-fail-at-test-tlb-tx-burst">24.1. Unit Test for Link Bonding may fail at test_tlb_tx_burst()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pause-frame-forwarding-does-not-work-properly-on-igb">24.2. Pause Frame Forwarding does not work properly on igb</a></li>
<li class="toctree-l3"><a class="reference internal" href="#in-packets-provided-by-the-pmd-some-flags-are-missing">24.3. In packets provided by the PMD, some flags are missing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-rte-malloc-library-is-not-fully-implemented">24.4. The rte_malloc library is not fully implemented</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hpet-reading-is-slow">24.5. HPET reading is slow</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hpet-timers-do-not-work-on-the-osage-customer-reference-platform">24.6. HPET timers do not work on the Osage customer reference platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="#not-all-variants-of-supported-nic-types-have-been-used-in-testing">24.7. Not all variants of supported NIC types have been used in testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multi-process-sample-app-requires-exact-memory-mapping">24.8. Multi-process sample app requires exact memory mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#packets-are-not-sent-by-the-1-gbe-10-gbe-sr-iov-driver-when-the-source-mac-is-not-the-mac-assigned-to-the-vf-nic">24.9. Packets are not sent by the 1 GbE/10 GbE SR-IOV driver when the source MAC is not the MAC assigned to the VF NIC</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sr-iov-drivers-do-not-fully-implement-the-rte-ethdev-api">24.10. SR-IOV drivers do not fully implement the rte_ethdev API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pmd-does-not-work-with-no-huge-eal-command-line-parameter">24.11. PMD does not work with –no-huge EAL command line parameter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#some-hardware-off-load-functions-are-not-supported-by-the-vf-driver">24.12. Some hardware off-load functions are not supported by the VF Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-crash-on-igb-port-unbinding">24.13. Kernel crash on IGB port unbinding</a></li>
<li class="toctree-l3"><a class="reference internal" href="#twinpond-and-ironpond-nics-do-not-report-link-status-correctly">24.14. Twinpond and Ironpond NICs do not report link status correctly</a></li>
<li class="toctree-l3"><a class="reference internal" href="#discrepancies-between-statistics-reported-by-different-nics">24.15. Discrepancies between statistics reported by different NICs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#error-reported-opening-files-on-dpdk-initialization">24.16. Error reported opening files on DPDK initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#intel-quickassist-technology-sample-application-does-not-work-on-a-32-bit-os-on-shumway">24.17. Intel® QuickAssist Technology sample application does not work on a 32-bit OS on Shumway</a></li>
<li class="toctree-l3"><a class="reference internal" href="#differences-in-how-different-intel-nics-handle-maximum-packet-length-for-jumbo-frame">24.18. Differences in how different Intel NICs handle maximum packet length for jumbo frame</a></li>
<li class="toctree-l3"><a class="reference internal" href="#binding-pci-devices-to-igb-uio-fails-on-linux-kernel-3-9-when-more-than-one-device-is-used">24.19. Binding PCI devices to igb_uio fails on Linux kernel 3.9 when more than one device is used</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gcc-might-generate-intel-avx-instructions-for-processors-without-intel-avx-support">24.20. GCC might generate Intel® AVX instructions for processors without Intel® AVX support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ethertype-filter-could-receive-other-packets-non-assigned-in-niantic">24.21. Ethertype filter could receive other packets (non-assigned) in Niantic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cannot-set-link-speed-on-intel-40g-ethernet-controller">24.22. Cannot set link speed on Intel® 40G Ethernet controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="#devices-bound-to-igb-uio-with-vt-d-enabled-do-not-work-on-linux-kernel-3-15-3-17">24.23. Devices bound to igb_uio with VT-d enabled do not work on Linux kernel 3.15-3.17</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vm-power-manager-may-not-work-on-systems-with-more-than-64-cores">24.24. VM power manager may not work on systems with more than 64 cores</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dpdk-may-not-build-on-some-intel-cpus-using-clang-3-7-0">24.25. DPDK may not build on some Intel CPUs using clang &lt; 3.7.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-last-eal-argument-is-replaced-by-the-program-name-in-argv">24.26. The last EAL argument is replaced by the program name in argv[]</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i40e-vf-may-not-receive-packets-in-the-promiscuous-mode">24.27. I40e VF may not receive packets in the promiscuous mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uio-pci-generic-module-bind-failed-in-x710-xl710-xxv710">24.28. uio pci generic module bind failed in X710/XL710/XXV710</a></li>
<li class="toctree-l3"><a class="reference internal" href="#virtio-tx-burst-function-cannot-do-tso-on-shared-packets">24.29. virtio tx_burst() function cannot do TSO on shared packets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#igb-uio-legacy-mode-can-not-be-used-in-x710-xl710-xxv710">24.30. igb uio legacy mode can not be used in X710/XL710/XXV710</a></li>
<li class="toctree-l3"><a class="reference internal" href="#igb-uio-can-not-be-used-when-running-l3fwd-power">24.31. igb_uio can not be used when running l3fwd-power</a></li>
<li class="toctree-l3"><a class="reference internal" href="#linux-kernel-4-10-0-iommu-attribute-read-error">24.32. Linux kernel 4.10.0 iommu attribute read error</a></li>
<li class="toctree-l3"><a class="reference internal" href="#netvsc-driver-and-application-restart">24.33. Netvsc driver and application restart</a></li>
<li class="toctree-l3"><a class="reference internal" href="#phy-link-up-fails-when-rebinding-i40e-nics-to-kernel-driver">24.34. PHY link up fails when rebinding i40e NICs to kernel driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restricted-vdev-ethdev-operations-supported-in-secondary-process">24.35. Restricted vdev ethdev operations supported in secondary process</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kernel-crash-when-hot-unplug-igb-uio-device-while-dpdk-application-is-running">24.36. Kernel crash when hot-unplug igb_uio device while DPDK application is running</a></li>
<li class="toctree-l3"><a class="reference internal" href="#avx-512-support-disabled">24.37. AVX-512 support disabled</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unsuitable-iova-mode-may-be-picked-as-the-default">24.38. Unsuitable IOVA mode may be picked as the default</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vhost-multi-queue-reconnection-failed-with-qemu-version-4-2-0">24.39. Vhost multi-queue reconnection failed with QEMU version &gt;= 4.2.0</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="deprecation.html">25. ABI and API Deprecation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQ</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Data Plane Development Kit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Release Notes</a> &raquo;</li>
        
      <li><span class="section-number">24. </span>Known Issues and Limitations in Legacy Releases</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/rel_notes/known_issues.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="known-issues-and-limitations-in-legacy-releases">
<h1><span class="section-number">24. </span>Known Issues and Limitations in Legacy Releases</h1>
<p>This section describes known issues with the DPDK software that aren’t covered in the version specific release
notes sections.</p>
<div class="section" id="unit-test-for-link-bonding-may-fail-at-test-tlb-tx-burst">
<h2><span class="section-number">24.1. </span>Unit Test for Link Bonding may fail at test_tlb_tx_burst()</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>Unit tests will fail in <code class="docutils literal notranslate"><span class="pre">test_tlb_tx_burst()</span></code> function with error for uneven distribution of packets.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>Unit test link_bonding_autotest will fail.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>There is no workaround available.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>Fedora 20.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Link Bonding.</p>
</dd>
</dl>
</div>
<div class="section" id="pause-frame-forwarding-does-not-work-properly-on-igb">
<h2><span class="section-number">24.2. </span>Pause Frame Forwarding does not work properly on igb</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>For igb devices rte_eth_flow_ctrl_set does not work as expected.
Pause frames are always forwarded on igb, regardless of the <code class="docutils literal notranslate"><span class="pre">RFCE</span></code>, <code class="docutils literal notranslate"><span class="pre">MPMCF</span></code> and <code class="docutils literal notranslate"><span class="pre">DPF</span></code> registers.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>Pause frames will never be rejected by the host on 1G NICs and they will always be forwarded.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>There is no workaround available.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="in-packets-provided-by-the-pmd-some-flags-are-missing">
<h2><span class="section-number">24.3. </span>In packets provided by the PMD, some flags are missing</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>In packets provided by the PMD, some flags are missing.
The application does not have access to information provided by the hardware
(packet is broadcast, packet is multicast, packet is IPv4 and so on).</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">ol_flags</span></code> field in the <code class="docutils literal notranslate"><span class="pre">rte_mbuf</span></code> structure is not correct and should not be used.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>The application has to parse the Ethernet header itself to get the information, which is slower.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="the-rte-malloc-library-is-not-fully-implemented">
<h2><span class="section-number">24.4. </span>The rte_malloc library is not fully implemented</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">rte_malloc</span></code> library is not fully implemented.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>All debugging features of rte_malloc library described in architecture documentation are not yet implemented.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>No workaround available.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">rte_malloc</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="hpet-reading-is-slow">
<h2><span class="section-number">24.5. </span>HPET reading is slow</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>Reading the HPET chip is slow.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>An application that calls <code class="docutils literal notranslate"><span class="pre">rte_get_hpet_cycles()</span></code> or <code class="docutils literal notranslate"><span class="pre">rte_timer_manage()</span></code> runs slower.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>The application should not call these functions too often in the main loop.
An alternative is to use the TSC register through <code class="docutils literal notranslate"><span class="pre">rte_rdtsc()</span></code> which is faster,
but specific to an lcore and is a cycle reference, not a time reference.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Environment Abstraction Layer (EAL).</p>
</dd>
</dl>
</div>
<div class="section" id="hpet-timers-do-not-work-on-the-osage-customer-reference-platform">
<h2><span class="section-number">24.6. </span>HPET timers do not work on the Osage customer reference platform</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>HPET timers do not work on the Osage customer reference platform which includes an Intel® Xeon® processor 5500
series processor) using the released BIOS from Intel.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>On Osage boards, the implementation of the <code class="docutils literal notranslate"><span class="pre">rte_delay_us()</span></code> function must be changed to not use the HPET timer.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>This can be addressed by building the system with <code class="docutils literal notranslate"><span class="pre">RTE_LIBEAL_USE_HPET</span></code> unset
or by using the <code class="docutils literal notranslate"><span class="pre">--no-hpet</span></code> EAL option.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>The Osage customer reference platform.
Other vendor platforms with Intel®  Xeon® processor 5500 series processors should
work correctly, provided the BIOS supports HPET.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">lib/librte_eal/include/rte_cycles.h</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="not-all-variants-of-supported-nic-types-have-been-used-in-testing">
<h2><span class="section-number">24.7. </span>Not all variants of supported NIC types have been used in testing</h2>
<dl>
<dt><strong>Description</strong>:</dt><dd><p>The supported network interface cards can come in a number of variants with different device ID’s.
Not all of these variants have been tested with the DPDK.</p>
<p>The NIC device identifiers used during testing:</p>
<ul class="simple">
<li><p>Intel® Ethernet Controller XL710 for 40GbE QSFP+ [8086:1584]</p></li>
<li><p>Intel® Ethernet Controller XL710 for 40GbE QSFP+ [8086:1583]</p></li>
<li><p>Intel® Ethernet Controller X710 for 10GbE SFP+ [8086:1572]</p></li>
<li><p>Intel® 82576 Gigabit Ethernet Controller [8086:10c9]</p></li>
<li><p>Intel® 82576 Quad Copper Gigabit Ethernet Controller [8086:10e8]</p></li>
<li><p>Intel® 82580 Dual Copper Gigabit Ethernet Controller [8086:150e]</p></li>
<li><p>Intel® I350 Quad Copper Gigabit Ethernet Controller [8086:1521]</p></li>
<li><p>Intel® 82599 Dual Fibre 10 Gigabit Ethernet Controller [8086:10fb]</p></li>
<li><p>Intel® Ethernet Server Adapter X520-T2 [8086: 151c]</p></li>
<li><p>Intel® Ethernet Controller X540-T2 [8086:1528]</p></li>
<li><p>Intel® 82574L Gigabit Network Connection [8086:10d3]</p></li>
<li><p>Emulated Intel® 82540EM Gigabit Ethernet Controller [8086:100e]</p></li>
<li><p>Emulated Intel® 82545EM Gigabit Ethernet Controller [8086:100f]</p></li>
<li><p>Intel® Ethernet Server Adapter X520-4 [8086:154a]</p></li>
<li><p>Intel® Ethernet Controller I210 [8086:1533]</p></li>
</ul>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>Risk of issues with untested variants.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Use tested NIC variants. For those supported Ethernet controllers, additional device
IDs may be added to the software if required.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll-mode drivers</p>
</dd>
</dl>
</div>
<div class="section" id="multi-process-sample-app-requires-exact-memory-mapping">
<h2><span class="section-number">24.8. </span>Multi-process sample app requires exact memory mapping</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>The multi-process example application assumes that
it is possible to map the hugepage memory to the same virtual addresses in client and server applications.
Occasionally, very rarely with 64-bit, this does not occur and a client application will fail on startup.
The Linux “address-space layout randomization” security feature can sometimes cause this to occur.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>A multi-process client application fails to initialize.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>See the “Multi-process Limitations” section in the DPDK Programmer’s Guide for more information.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Multi-process example application</p>
</dd>
</dl>
</div>
<div class="section" id="packets-are-not-sent-by-the-1-gbe-10-gbe-sr-iov-driver-when-the-source-mac-is-not-the-mac-assigned-to-the-vf-nic">
<h2><span class="section-number">24.9. </span>Packets are not sent by the 1 GbE/10 GbE SR-IOV driver when the source MAC is not the MAC assigned to the VF NIC</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>The 1 GbE/10 GbE SR-IOV driver can only send packets when the Ethernet header’s source MAC address is the same as
that of the VF NIC.
The reason for this is that the Linux <code class="docutils literal notranslate"><span class="pre">ixgbe</span></code> driver module in the host OS has its anti-spoofing feature enabled.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>Packets sent using the 1 GbE/10 GbE SR-IOV driver must have the source MAC address correctly set to that of the VF NIC.
Packets with other source address values are dropped by the NIC if the application attempts to transmit them.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Configure the Ethernet source address in each packet to match that of the VF NIC.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>1 GbE/10 GbE VF Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="sr-iov-drivers-do-not-fully-implement-the-rte-ethdev-api">
<h2><span class="section-number">24.10. </span>SR-IOV drivers do not fully implement the rte_ethdev API</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>The SR-IOV drivers only supports the following rte_ethdev API functions:</p>
<ul class="simple">
<li><p>rte_eth_dev_configure()</p></li>
<li><p>rte_eth_tx_queue_setup()</p></li>
<li><p>rte_eth_rx_queue_setup()</p></li>
<li><p>rte_eth_dev_info_get()</p></li>
<li><p>rte_eth_dev_start()</p></li>
<li><p>rte_eth_tx_burst()</p></li>
<li><p>rte_eth_rx_burst()</p></li>
<li><p>rte_eth_dev_stop()</p></li>
<li><p>rte_eth_stats_get()</p></li>
<li><p>rte_eth_stats_reset()</p></li>
<li><p>rte_eth_link_get()</p></li>
<li><p>rte_eth_link_get_no_wait()</p></li>
</ul>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>Calling an unsupported function will result in an application error.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Do not use other rte_ethdev API functions in applications that use the SR-IOV drivers.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>VF Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="pmd-does-not-work-with-no-huge-eal-command-line-parameter">
<h2><span class="section-number">24.11. </span>PMD does not work with –no-huge EAL command line parameter</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>Currently, the DPDK does not store any information about memory allocated by <code class="docutils literal notranslate"><span class="pre">malloc()`</span> <span class="pre">(for</span> <span class="pre">example,</span> <span class="pre">NUMA</span> <span class="pre">node,</span>
<span class="pre">physical</span> <span class="pre">address),</span> <span class="pre">hence</span> <span class="pre">PMD</span> <span class="pre">drivers</span> <span class="pre">do</span> <span class="pre">not</span> <span class="pre">work</span> <span class="pre">when</span> <span class="pre">the</span> <span class="pre">``--no-huge</span></code> command line parameter is supplied to EAL.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>Sending and receiving data with PMD will not work.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Use huge page memory or use VFIO to map devices.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>Systems running the DPDK on Linux</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="some-hardware-off-load-functions-are-not-supported-by-the-vf-driver">
<h2><span class="section-number">24.12. </span>Some hardware off-load functions are not supported by the VF Driver</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>Currently, configuration of the following items is not supported by the VF driver:</p>
<ul class="simple">
<li><p>IP/UDP/TCP checksum offload</p></li>
<li><p>Jumbo Frame Receipt</p></li>
<li><p>HW Strip CRC</p></li>
</ul>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>Any configuration for these items in the VF register will be ignored.
The behavior is dependent on the current PF setting.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>For the PF (Physical Function) status on which the VF driver depends, there is an option item under PMD in the
config file.
For others, the VF will keep the same behavior as PF setting.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>VF (SR-IOV) Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="kernel-crash-on-igb-port-unbinding">
<h2><span class="section-number">24.13. </span>Kernel crash on IGB port unbinding</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>Kernel crash may occur when unbinding 1G ports from the igb_uio driver, on 2.6.3x kernels such as shipped
with Fedora 14.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>Kernel crash occurs.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Use newer kernels or do not unbind ports.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>2.6.3x kernels such as  shipped with Fedora 14</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>IGB Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="twinpond-and-ironpond-nics-do-not-report-link-status-correctly">
<h2><span class="section-number">24.14. </span>Twinpond and Ironpond NICs do not report link status correctly</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>Twin Pond/Iron Pond NICs do not bring the physical link down when shutting down the port.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>The link is reported as up even after issuing <code class="docutils literal notranslate"><span class="pre">shutdown</span></code> command unless the cable is physically disconnected.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>None.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>Twin Pond and Iron Pond NICs</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="discrepancies-between-statistics-reported-by-different-nics">
<h2><span class="section-number">24.15. </span>Discrepancies between statistics reported by different NICs</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>Gigabit Ethernet devices from Intel include CRC bytes when calculating packet reception statistics regardless
of hardware CRC stripping state, while 10-Gigabit Ethernet devices from Intel do so only when hardware CRC
stripping is disabled.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>There may be a  discrepancy in how different NICs display packet reception statistics.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>None</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="error-reported-opening-files-on-dpdk-initialization">
<h2><span class="section-number">24.16. </span>Error reported opening files on DPDK initialization</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>On DPDK application startup, errors may be reported when opening files as part of the initialization process.
This occurs if a large number, for example, 500 or more, or if hugepages are used, due to the per-process
limit on the number of open files.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>The DPDK application may fail to run.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>If using 2 MB hugepages, consider switching to a fewer number of 1 GB pages.
Alternatively, use the <code class="docutils literal notranslate"><span class="pre">ulimit</span></code> command to increase the number of files which can be opened by a process.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Environment Abstraction Layer (EAL).</p>
</dd>
</dl>
</div>
<div class="section" id="intel-quickassist-technology-sample-application-does-not-work-on-a-32-bit-os-on-shumway">
<h2><span class="section-number">24.17. </span>Intel® QuickAssist Technology sample application does not work on a 32-bit OS on Shumway</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>The Intel® Communications Chipset 89xx Series device does not fully support NUMA on a 32-bit OS.
Consequently, the sample application cannot work properly on Shumway, since it requires NUMA on both nodes.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>The sample application cannot work in 32-bit mode with emulated NUMA, on multi-socket boards.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>There is no workaround available.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>Shumway</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>All.</p>
</dd>
</dl>
</div>
<div class="section" id="differences-in-how-different-intel-nics-handle-maximum-packet-length-for-jumbo-frame">
<h2><span class="section-number">24.18. </span>Differences in how different Intel NICs handle maximum packet length for jumbo frame</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>10 Gigabit Ethernet devices from Intel do not take VLAN tags into account when calculating packet size
while Gigabit Ethernet devices do so for jumbo frames.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>When receiving packets with VLAN tags, the actual maximum size of useful payload that Intel Gigabit Ethernet
devices are able to receive is 4 bytes (or 8 bytes in the case of packets with extended VLAN tags) less than
that of Intel 10 Gigabit Ethernet devices.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Increase the configured maximum packet size when using Intel Gigabit Ethernet devices.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="binding-pci-devices-to-igb-uio-fails-on-linux-kernel-3-9-when-more-than-one-device-is-used">
<h2><span class="section-number">24.19. </span>Binding PCI devices to igb_uio fails on Linux kernel 3.9 when more than one device is used</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>A known bug in the uio driver included in Linux kernel version 3.9 prevents more than one PCI device to be
bound to the igb_uio driver.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>The Poll Mode Driver (PMD) will crash on initialization.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Use earlier or later kernel versions, or apply the following
<a class="reference external" href="https://github.com/torvalds/linux/commit/5ed0505c713805f89473cdc0bbfb5110dfd840cb">patch</a>.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>Linux systems with kernel version 3.9</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>igb_uio module</p>
</dd>
</dl>
</div>
<div class="section" id="gcc-might-generate-intel-avx-instructions-for-processors-without-intel-avx-support">
<h2><span class="section-number">24.20. </span>GCC might generate Intel® AVX instructions for processors without Intel® AVX support</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>When compiling DPDK (and any DPDK app), gcc may generate Intel® AVX instructions, even when the
processor does not support Intel® AVX.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>Any DPDK app might crash while starting up.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Either compile using icc or set <code class="docutils literal notranslate"><span class="pre">EXTRA_CFLAGS='-O3'</span></code> prior to compilation.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>Platforms which processor does not support Intel® AVX.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Environment Abstraction Layer (EAL).</p>
</dd>
</dl>
</div>
<div class="section" id="ethertype-filter-could-receive-other-packets-non-assigned-in-niantic">
<h2><span class="section-number">24.21. </span>Ethertype filter could receive other packets (non-assigned) in Niantic</h2>
<dl>
<dt><strong>Description</strong>:</dt><dd><p>On Intel®  Ethernet Controller 82599EB When Ethertype filter (priority enable) was set, unmatched packets also
could be received on the assigned queue, such as ARP packets without 802.1q tags or with the user priority not
equal to set value.
Launch the testpmd by disabling RSS and with multiply queues, then add the ethertype filter like the following
and then start forwarding:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>add_ethertype_filter 0 ethertype 0x0806 priority enable 3 queue 2 index 1
</pre></div>
</div>
<p>When sending ARP packets without 802.1q tag and with user priority as non-3 by tester, all the ARP packets can
be received on the assigned queue.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>The user priority comparing in Ethertype filter cannot work probably.
It is a NIC’s issue due to the following: “In fact, ETQF.UP is not functional, and the information will
be added in errata of 82599 and X540.”</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>None</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="cannot-set-link-speed-on-intel-40g-ethernet-controller">
<h2><span class="section-number">24.22. </span>Cannot set link speed on Intel® 40G Ethernet controller</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>On Intel® 40G Ethernet Controller you cannot set the link to specific speed.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>The link speed cannot be changed forcibly, though it can be configured by application.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>None</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="devices-bound-to-igb-uio-with-vt-d-enabled-do-not-work-on-linux-kernel-3-15-3-17">
<h2><span class="section-number">24.23. </span>Devices bound to igb_uio with VT-d enabled do not work on Linux kernel 3.15-3.17</h2>
<dl>
<dt><strong>Description</strong>:</dt><dd><p>When VT-d is enabled (<code class="docutils literal notranslate"><span class="pre">iommu=pt</span> <span class="pre">intel_iommu=on</span></code>), devices are 1:1 mapped.
In the Linux kernel unbinding devices from drivers removes that mapping which result in IOMMU errors.
Introduced in Linux <a class="reference external" href="https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/drivers/iommu/intel-iommu.c?id=816997d03bca9fabcee65f3481eb0297103eceb7">kernel 3.15 commit</a>,
solved in Linux <a class="reference external" href="https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/drivers/iommu/intel-iommu.c?id=1196c2fb0407683c2df92d3d09f9144d42830894">kernel 3.18 commit</a>.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>Devices will not be allowed to access memory, resulting in following kernel errors:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dmar: DRHD: handling fault status reg 2
dmar: DMAR:[DMA Read] Request device [02:00.0] fault addr a0c58000
DMAR:[fault reason 02] Present bit in context entry is clear
</pre></div>
</div>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Use earlier or later kernel versions, or avoid driver binding on boot by blacklisting the driver modules.
I.e., in the case of <code class="docutils literal notranslate"><span class="pre">ixgbe</span></code>, we can pass the kernel command line option: <code class="docutils literal notranslate"><span class="pre">modprobe.blacklist=ixgbe</span></code>.
This way we do not need to unbind the device to bind it to igb_uio.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>Linux systems with kernel versions 3.15 to 3.17.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">igb_uio</span></code> module.</p>
</dd>
</dl>
</div>
<div class="section" id="vm-power-manager-may-not-work-on-systems-with-more-than-64-cores">
<h2><span class="section-number">24.24. </span>VM power manager may not work on systems with more than 64 cores</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>When using VM power manager on a system with more than 64 cores, VM(s) should not use cores 64 or higher.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>VM power manager should not be used with VM(s) that are using cores 64 or above.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Do not use cores 64 or above.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>Platforms with more than 64 cores.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>VM power manager application.</p>
</dd>
</dl>
</div>
<div class="section" id="dpdk-may-not-build-on-some-intel-cpus-using-clang-3-7-0">
<h2><span class="section-number">24.25. </span>DPDK may not build on some Intel CPUs using clang &lt; 3.7.0</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>When compiling DPDK with an earlier version than 3.7.0 of clang, CPU flags are not detected on some Intel platforms
such as Intel Broadwell/Skylake (and possibly future CPUs), and therefore compilation fails due to missing intrinsics.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>DPDK will not build when using a clang version &lt; 3.7.0.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Use clang 3.7.0 or higher, or gcc.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>Platforms with Intel Broadwell/Skylake using an old clang version.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Environment Abstraction Layer (EAL).</p>
</dd>
</dl>
</div>
<div class="section" id="the-last-eal-argument-is-replaced-by-the-program-name-in-argv">
<h2><span class="section-number">24.26. </span>The last EAL argument is replaced by the program name in argv[]</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>The last EAL argument is replaced by program name in <code class="docutils literal notranslate"><span class="pre">argv[]</span></code> after <code class="docutils literal notranslate"><span class="pre">eal_parse_args</span></code> is called.
This is the intended behavior but it causes the pointer to the last EAL argument to be lost.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>If the last EAL argument in <code class="docutils literal notranslate"><span class="pre">argv[]</span></code> is generated by a malloc function, changing it will cause memory
issues when freeing the argument.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>An application should not consider the value in <code class="docutils literal notranslate"><span class="pre">argv[]</span></code> as unchanged.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>ALL.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Environment Abstraction Layer (EAL).</p>
</dd>
</dl>
</div>
<div class="section" id="i40e-vf-may-not-receive-packets-in-the-promiscuous-mode">
<h2><span class="section-number">24.27. </span>I40e VF may not receive packets in the promiscuous mode</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>Promiscuous mode is not supported by the DPDK i40e VF driver when using the
i40e Linux kernel driver as host driver.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>The i40e VF does not receive packets when the destination MAC address is unknown.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Use a explicit destination MAC address that matches the VF.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="uio-pci-generic-module-bind-failed-in-x710-xl710-xxv710">
<h2><span class="section-number">24.28. </span>uio pci generic module bind failed in X710/XL710/XXV710</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">uio_pci_generic</span></code> module is not supported by XL710, since the errata of XL710
states that the Interrupt Status bit is not implemented. The errata is the item #71
from the <a class="reference external" href="http://www.intel.com/content/www/us/en/embedded/products/networking/xl710-10-40-controller-spec-update.html">xl710 controller spec</a>.
The hw limitation is the same as other X710/XXV710 NICs.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>When use <code class="docutils literal notranslate"><span class="pre">--bind=uio_pci_generic</span></code>, the <code class="docutils literal notranslate"><span class="pre">uio_pci_generic</span></code> module probes device and check the Interrupt
Status bit. Since it is not supported by X710/XL710/XXV710, it return a <em>failed</em> value. The statement
that these products don’t support INTx masking, is indicated in the related <a class="reference external" href="https://git.kernel.org/cgit/linux/kernel/git/stable/linux-stable.git/commit/drivers/pci/quirks.c?id=8bcf4525c5d43306c5fd07e132bc8650e3491aec">linux kernel commit</a>.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Do not bind the <code class="docutils literal notranslate"><span class="pre">uio_pci_generic</span></code> module in X710/XL710/XXV710 NICs.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="virtio-tx-burst-function-cannot-do-tso-on-shared-packets">
<h2><span class="section-number">24.29. </span>virtio tx_burst() function cannot do TSO on shared packets</h2>
<dl>
<dt><strong>Description</strong>:</dt><dd><p>The standard TX function of virtio driver does not manage shared
packets properly when doing TSO. These packets should be read-only
but the driver modifies them.</p>
<p>When doing TSO, the virtio standard expects that the L4 checksum is
set to the pseudo header checksum in the packet data, which is
different than the DPDK API. The driver patches the L4 checksum to
conform to the virtio standard, but this solution is invalid when
dealing with shared packets (clones), because the packet data should
not be modified.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>In this situation, the shared data will be modified by the driver,
potentially causing race conditions with the other users of the mbuf
data.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>The workaround in the application is to ensure that the network
headers in the packet data are not shared.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>Virtual machines running a virtio driver.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="igb-uio-legacy-mode-can-not-be-used-in-x710-xl710-xxv710">
<h2><span class="section-number">24.30. </span>igb uio legacy mode can not be used in X710/XL710/XXV710</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>X710/XL710/XXV710 NICs lack support for indicating INTx is asserted via the interrupt
bit in the PCI status register. Linux deleted them from INTx support table. The related
<a class="reference external" href="https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable.git/commit/drivers/pci/quirks.c?id=8bcf4525c5d43306c5fd07e132bc8650e3491aec">commit</a>.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>When insmod <code class="docutils literal notranslate"><span class="pre">igb_uio</span></code> with <code class="docutils literal notranslate"><span class="pre">intr_mode=legacy</span></code> and test link status interrupt. Since
INTx interrupt is not supported by X710/XL710/XXV710, it will cause Input/Output error
when reading file descriptor.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Do not bind <code class="docutils literal notranslate"><span class="pre">igb_uio</span></code> with legacy mode in X710/XL710/XXV710 NICs, or do not use kernel
version &gt;4.7 when you bind <code class="docutils literal notranslate"><span class="pre">igb_uio</span></code> with legacy mode.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>ALL.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="igb-uio-can-not-be-used-when-running-l3fwd-power">
<h2><span class="section-number">24.31. </span>igb_uio can not be used when running l3fwd-power</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>Link Status Change(LSC) interrupt and packet receiving interrupt are all enabled in l3fwd-power
APP. Because of UIO only support one interrupt, so these two kinds of interrupt need to share
one, and the receiving interrupt have the higher priority, so can’t get the right link status.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>When insmod <code class="docutils literal notranslate"><span class="pre">igb_uio</span></code> and running l3fwd-power APP, link status getting doesn’t work properly.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Use vfio-pci when LSC and packet receiving interrupt enabled.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>ALL.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">igb_uio</span></code> module.</p>
</dd>
</dl>
</div>
<div class="section" id="linux-kernel-4-10-0-iommu-attribute-read-error">
<h2><span class="section-number">24.32. </span>Linux kernel 4.10.0 iommu attribute read error</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>When VT-d is enabled (<code class="docutils literal notranslate"><span class="pre">iommu=pt</span> <span class="pre">intel_iommu=on</span></code>), reading IOMMU attributes from
/sys/devices/virtual/iommu/dmarXXX/intel-iommu/cap on Linux kernel 4.10.0 error.
This bug is fixed in <a class="reference external" href="https://patchwork.kernel.org/patch/9595727/">Linux commit a7fdb6e648fb</a>,
This bug is introduced in <a class="reference external" href="https://patchwork.kernel.org/patch/9554403/">Linux commit 39ab9555c241</a>,</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>When binding devices to VFIO and attempting to run testpmd application,
testpmd (and other DPDK applications) will not initialize.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Use other linux kernel version. It only happens in linux kernel 4.10.0.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>ALL OS of linux kernel 4.10.0.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">vfio-pci</span></code> module.</p>
</dd>
</dl>
</div>
<div class="section" id="netvsc-driver-and-application-restart">
<h2><span class="section-number">24.33. </span>Netvsc driver and application restart</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>The Linux kernel uio_hv_generic driver does not completely shutdown and clean up
resources properly if application using Netvsc PMD exits.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>When application using Netvsc PMD is restarted it can not complete initialization
handshake sequence with the host.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>Either reboot the guest or remove and reinsert the hv_uio_generic module.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>Linux Hyper-V.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">uio_hv_generic</span></code> module.</p>
</dd>
</dl>
</div>
<div class="section" id="phy-link-up-fails-when-rebinding-i40e-nics-to-kernel-driver">
<h2><span class="section-number">24.34. </span>PHY link up fails when rebinding i40e NICs to kernel driver</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>Some kernel drivers are not able to handle the link status correctly
after DPDK application sets the PHY to link down.</p>
</dd>
<dt><strong>Implication</strong>:</dt><dd><p>The link status can’t be set to “up” after the NIC is rebound to the
kernel driver. Before a DPDK application quits it will invoke the
function <code class="docutils literal notranslate"><span class="pre">i40e_dev_stop()</span></code> which will sets the PHY to link down. Some
kernel drivers may not be able to handle the link status correctly after
it retakes control of the device. This is a known PHY link configuration
issue in the i40e kernel driver. The fix has been addressed in the 2.7.4 rc
version. So if the i40e kernel driver is &lt; 2.7.4 and doesn’t have the
fix backported it will encounter this issue.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>First try to remove and reinsert the i40e kernel driver. If that fails
reboot the system.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>All.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="restricted-vdev-ethdev-operations-supported-in-secondary-process">
<h2><span class="section-number">24.35. </span>Restricted vdev ethdev operations supported in secondary process</h2>
<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>In current virtual device sharing model, Ethernet device data structure will be
shared between primary and secondary process. Only those Ethernet device operations
which based on it are workable in secondary process.</p>
</dd>
<dt><strong>Implication</strong></dt><dd><p>Some Ethernet device operations like device start/stop will be failed on virtual
device in secondary process.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>ALL.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Virtual Device Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
<div class="section" id="kernel-crash-when-hot-unplug-igb-uio-device-while-dpdk-application-is-running">
<h2><span class="section-number">24.36. </span>Kernel crash when hot-unplug igb_uio device while DPDK application is running</h2>
<dl class="simple">
<dt><strong>Description</strong>:</dt><dd><p>When device has been bound to igb_uio driver and application is running,
hot-unplugging the device may cause kernel crash.</p>
</dd>
<dt><strong>Reason</strong>:</dt><dd><p>When device is hot-unplugged, igb_uio driver will be removed which will destroy UIO resources.
Later trying to access any uio resource will cause kernel crash.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>If using DPDK for PCI HW hot-unplug, prefer to bind device with VFIO instead of IGB_UIO.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>ALL.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">igb_uio</span></code> module.</p>
</dd>
</dl>
</div>
<div class="section" id="avx-512-support-disabled">
<h2><span class="section-number">24.37. </span>AVX-512 support disabled</h2>
<dl>
<dt><strong>Description</strong>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">AVX-512</span></code> support has been disabled on some conditions.</p>
<p>On DPDK v18.11 <code class="docutils literal notranslate"><span class="pre">AVX-512</span></code> is disabled for all <code class="docutils literal notranslate"><span class="pre">GCC</span></code> builds which reported to cause a performance
drop.</p>
<p>On DPDK v19.02 <code class="docutils literal notranslate"><span class="pre">AVX-512</span></code> disable scope is reduced to <code class="docutils literal notranslate"><span class="pre">GCC</span></code> and <code class="docutils literal notranslate"><span class="pre">binutils</span> <span class="pre">version</span> <span class="pre">2.30</span></code> based
on information accrued from the GCC community defect.</p>
</dd>
<dt><strong>Reason</strong>:</dt><dd><p>Generated <code class="docutils literal notranslate"><span class="pre">AVX-512</span></code> code cause crash:
<a class="reference external" href="https://bugs.dpdk.org/show_bug.cgi?id=97">https://bugs.dpdk.org/show_bug.cgi?id=97</a>
<a class="reference external" href="https://gcc.gnu.org/bugzilla/show_bug.cgi?id=88096">https://gcc.gnu.org/bugzilla/show_bug.cgi?id=88096</a></p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><ul class="simple">
<li><p>Update <code class="docutils literal notranslate"><span class="pre">binutils</span></code> to newer version than <code class="docutils literal notranslate"><span class="pre">2.30</span></code>.</p></li>
</ul>
<p>OR</p>
<ul class="simple">
<li><p>Use different compiler, like <code class="docutils literal notranslate"><span class="pre">clang</span></code> for this case.</p></li>
</ul>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">GCC</span></code> and <code class="docutils literal notranslate"><span class="pre">binutils</span> <span class="pre">version</span> <span class="pre">2.30</span></code>.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>ALL.</p>
</dd>
</dl>
</div>
<div class="section" id="unsuitable-iova-mode-may-be-picked-as-the-default">
<h2><span class="section-number">24.38. </span>Unsuitable IOVA mode may be picked as the default</h2>
<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>Not all kernel drivers and not all devices support all IOVA modes. EAL will
attempt to pick a reasonable default based on a number of factors, but there
may be cases where the default may be unsuitable (for example, hotplugging
devices using <cite>igb_uio</cite> driver while having picked IOVA as VA mode on EAL
initialization).</p>
</dd>
<dt><strong>Implication</strong></dt><dd><p>Some devices (hotplugged or otherwise) may not work due to incompatible IOVA
mode being automatically picked by EAL.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>It is possible to force EAL to pick a particular IOVA mode by using the
<cite>–iova-mode</cite> command-line parameter. If conflicting requirements are present
(such as one device requiring IOVA as PA and one requiring IOVA as VA mode),
there is no workaround.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>Linux.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>ALL.</p>
</dd>
</dl>
</div>
<div class="section" id="vhost-multi-queue-reconnection-failed-with-qemu-version-4-2-0">
<h2><span class="section-number">24.39. </span>Vhost multi-queue reconnection failed with QEMU version &gt;= 4.2.0</h2>
<dl class="simple">
<dt><strong>Description</strong></dt><dd><p>It’s a QEMU regression bug (bad commit: c6beefd674ff). QEMU only saves
acked features for one vhost-net when vhost quits. When vhost reconnects
to virtio-net/virtio-pmd in multi-queue situations, the features been
set multiple times are not consistent.</p>
</dd>
<dt><strong>Implication</strong></dt><dd><p>Vhost cannot reconnect back to virtio-net/virtio-pmd normally.</p>
</dd>
<dt><strong>Resolution/Workaround</strong>:</dt><dd><p>It is possible to filter the incorrect acked features at vhost-user side.</p>
</dd>
<dt><strong>Affected Environment/Platform</strong>:</dt><dd><p>ALL.</p>
</dd>
<dt><strong>Driver/Module</strong>:</dt><dd><p>Virtual Device Poll Mode Driver (PMD).</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="deprecation.html" class="btn btn-neutral float-right" title="25. ABI and API Deprecation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="release_1_8.html" class="btn btn-neutral float-left" title="23. DPDK Release 1.8" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>