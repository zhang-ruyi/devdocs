<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: examples/bbdev_app/main.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">examples/bbdev_app/main.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/* SPDX-License-Identifier: BSD-3-Clause</span></div>
<div class="line"><span class="comment"> * Copyright(c) 2017 Intel Corporation</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/types.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/unistd.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/queue.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdarg.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ctype.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;getopt.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__atomic_8h.html">rte_atomic.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__common_8h.html">rte_common.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__eal_8h.html">rte_eal.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__cycles_8h.html">rte_cycles.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__ether_8h.html">rte_ether.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__ethdev_8h.html">rte_ethdev.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__ip_8h.html">rte_ip.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__lcore_8h.html">rte_lcore.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__malloc_8h.html">rte_malloc.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__mbuf_8h.html">rte_mbuf.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__mbuf__dyn_8h.html">rte_mbuf_dyn.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__memory_8h.html">rte_memory.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__mempool_8h.html">rte_mempool.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__log_8h.html">rte_log.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__bbdev_8h.html">rte_bbdev.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__bbdev__op_8h.html">rte_bbdev_op.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* LLR values - negative value for &#39;1&#39; bit */</span></div>
<div class="line"><span class="preprocessor">#define LLR_1_BIT 0x81</span></div>
<div class="line"><span class="preprocessor">#define LLR_0_BIT 0x7F</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define MAX_PKT_BURST 32</span></div>
<div class="line"><span class="preprocessor">#define NB_MBUF 8191</span></div>
<div class="line"><span class="preprocessor">#define MEMPOOL_CACHE_SIZE 256</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Hardcoded K value */</span></div>
<div class="line"><span class="preprocessor">#define K 40</span></div>
<div class="line"><span class="preprocessor">#define NCB (3 * RTE_ALIGN_CEIL(K + 4, 32))</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define CRC_24B_LEN 3</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Configurable number of RX/TX ring descriptors */</span></div>
<div class="line"><span class="preprocessor">#define RTE_TEST_RX_DESC_DEFAULT 128</span></div>
<div class="line"><span class="preprocessor">#define RTE_TEST_TX_DESC_DEFAULT 512</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define BBDEV_ASSERT(a) do { \</span></div>
<div class="line"><span class="preprocessor">    if (!(a)) { \</span></div>
<div class="line"><span class="preprocessor">        usage(prgname); \</span></div>
<div class="line"><span class="preprocessor">        return -1; \</span></div>
<div class="line"><span class="preprocessor">    } \</span></div>
<div class="line"><span class="preprocessor">} while (0)</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> input_dynfield_offset = -1;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a name="_a0"></a><a class="code" href="structrte__mbuf.html">rte_mbuf</a> **</div>
<div class="line">mbuf_input(<span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> *mbuf)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a name="a1"></a><a class="code" href="rte__mbuf__dyn_8h.html#ae3519e5885e62b3f99fa275b238418a5">RTE_MBUF_DYNFIELD</a>(mbuf,</div>
<div class="line">            input_dynfield_offset, <span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> **);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a name="_a2"></a><a class="code" href="structrte__eth__conf.html">rte_eth_conf</a> port_conf = {</div>
<div class="line">    .<a name="a3"></a><a class="code" href="structrte__eth__conf.html#a346eef99c24f617b74c440c1aa565d01">rxmode</a> = {</div>
<div class="line">        .<a name="a4"></a><a class="code" href="structrte__eth__rxmode.html#aa0562513c4569f1aa53050f1beac6b5d">mq_mode</a> = <a name="a5"></a><a class="code" href="rte__ethdev_8h.html#a586b8e86131b4ec0ccaf464e847ccf3ea4600ff07419327deb9b8534bc66daf19">ETH_MQ_RX_NONE</a>,</div>
<div class="line">        .max_rx_pkt_len = <a name="a6"></a><a class="code" href="rte__ether_8h.html#af1fb088707ce5b2ebb7825cb69b5cb58">RTE_ETHER_MAX_LEN</a>,</div>
<div class="line">        .split_hdr_size = 0,</div>
<div class="line">    },</div>
<div class="line">    .txmode = {</div>
<div class="line">        .mq_mode = <a name="a7"></a><a class="code" href="rte__ethdev_8h.html#a4834f572f4dd4e46d81ad09b7d5fffd5aada568551470d5f419cd2f3d6b6bfedc">ETH_MQ_TX_NONE</a>,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a name="_a8"></a><a class="code" href="structrte__bbdev__op__turbo__enc.html">rte_bbdev_op_turbo_enc</a> def_op_enc = {</div>
<div class="line">    <span class="comment">/* These values are arbitrarily put, and does not map to the real</span></div>
<div class="line"><span class="comment">     * values for the data received from ethdev ports</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    .<a name="a9"></a><a class="code" href="structrte__bbdev__op__turbo__enc.html#ab57e28ab010377b20bd238f91aaeb2ea">rv_index</a> = 0,</div>
<div class="line">    .code_block_mode = 1,</div>
<div class="line">    .cb_params = {</div>
<div class="line">        .k = K,</div>
<div class="line">    },</div>
<div class="line">    .op_flags = <a name="a10"></a><a class="code" href="rte__bbdev__op_8h.html#a830c2d6335223123f1081f78ab56ebcbac5df62b0055834480e616e6b6e6bc141">RTE_BBDEV_TURBO_CRC_24A_ATTACH</a></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a name="_a11"></a><a class="code" href="structrte__bbdev__op__turbo__dec.html">rte_bbdev_op_turbo_dec</a> def_op_dec = {</div>
<div class="line">    <span class="comment">/* These values are arbitrarily put, and does not map to the real</span></div>
<div class="line"><span class="comment">     * values for the data received from ethdev ports</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    .<a name="a12"></a><a class="code" href="structrte__bbdev__op__turbo__dec.html#a583b6033e11870c84f9129d99baddaf5">code_block_mode</a> = 1,</div>
<div class="line">    .cb_params = {</div>
<div class="line">        .k = K,</div>
<div class="line">    },</div>
<div class="line">    .rv_index = 0,</div>
<div class="line">    .iter_max = 8,</div>
<div class="line">    .iter_min = 4,</div>
<div class="line">    .ext_scale = 15,</div>
<div class="line">    .num_maps = 0,</div>
<div class="line">    .op_flags = <a name="a13"></a><a class="code" href="rte__bbdev__op_8h.html#a526f0e30660a4b519c25d44f73c30f1dab50956101d94eba1814eb94d002349d2">RTE_BBDEV_TURBO_NEG_LLR_1_BIT_IN</a></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>app_config_params {</div>
<div class="line">    <span class="comment">/* Placeholders for app params */</span></div>
<div class="line">    uint16_t port_id;</div>
<div class="line">    uint16_t bbdev_id;</div>
<div class="line">    uint64_t enc_core_mask;</div>
<div class="line">    uint64_t dec_core_mask;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Values filled during init time */</span></div>
<div class="line">    uint16_t enc_queue_ids[RTE_MAX_LCORE];</div>
<div class="line">    uint16_t dec_queue_ids[RTE_MAX_LCORE];</div>
<div class="line">    uint16_t num_enc_cores;</div>
<div class="line">    uint16_t num_dec_cores;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>lcore_statistics {</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> enqueued;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dequeued;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rx_lost_packets;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> enc_to_dec_lost_packets;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tx_lost_packets;</div>
<div class="line">} <a name="a14"></a><a class="code" href="rte__common_8h.html#a38e32f822bc941e90fdcbe5a9c69b178">__rte_cache_aligned</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>lcore_conf {</div>
<div class="line">    uint64_t core_type;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> port_id;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> rx_queue_id;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tx_queue_id;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bbdev_id;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> enc_queue_id;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dec_queue_id;</div>
<div class="line"> </div>
<div class="line">    uint8_t llr_temp_buf[NCB];</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span><a name="_a15"></a><a class="code" href="structrte__mempool.html">rte_mempool</a> *bbdev_dec_op_pool;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__mempool.html">rte_mempool</a> *bbdev_enc_op_pool;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__mempool.html">rte_mempool</a> *enc_out_pool;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a16"></a><a class="code" href="structrte__ring.html">rte_ring</a> *enc_to_dec_ring;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span>lcore_statistics *lcore_stats;</div>
<div class="line">} <a class="code" href="rte__common_8h.html#a38e32f822bc941e90fdcbe5a9c69b178">__rte_cache_aligned</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>stats_lcore_params {</div>
<div class="line">    <span class="keyword">struct </span>lcore_conf *lconf;</div>
<div class="line">    <span class="keyword">struct </span>app_config_params *app_params;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>app_config_params def_app_config = {</div>
<div class="line">    .port_id = 0,</div>
<div class="line">    .bbdev_id = 0,</div>
<div class="line">    .enc_core_mask = 0x2,</div>
<div class="line">    .dec_core_mask = 0x4,</div>
<div class="line">    .num_enc_cores = 1,</div>
<div class="line">    .num_dec_cores = 1,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a name="_a17"></a><a class="code" href="structrte__atomic16__t.html">rte_atomic16_t</a> global_exit_flag;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* display usage */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">usage(<span class="keyword">const</span> <span class="keywordtype">char</span> *prgname)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;%s [EAL options] &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;  --\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;  --enc_cores - number of encoding cores (default = 0x2)\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;  --dec_cores - number of decoding cores (default = 0x4)\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;  --port_id - Ethernet port ID (default = 0)\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;  --bbdev_id - BBDev ID (default = 0)\n&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;\n&quot;</span>, prgname);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* parse core mask */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span></div>
<div class="line">uint16_t bbdev_parse_mask(<span class="keyword">const</span> <span class="keywordtype">char</span> *mask)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> *end = NULL;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> pm;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* parse hexadecimal string */</span></div>
<div class="line">    pm = strtoul(mask, &amp;end, 16);</div>
<div class="line">    <span class="keywordflow">if</span> ((mask[0] == <span class="charliteral">&#39;\0&#39;</span>) || (end == NULL) || (*end != <span class="charliteral">&#39;\0&#39;</span>))</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> pm;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* parse core mask */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span></div>
<div class="line">uint16_t bbdev_parse_number(<span class="keyword">const</span> <span class="keywordtype">char</span> *mask)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> *end = NULL;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> pm;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* parse hexadecimal string */</span></div>
<div class="line">    pm = strtoul(mask, &amp;end, 10);</div>
<div class="line">    <span class="keywordflow">if</span> ((mask[0] == <span class="charliteral">&#39;\0&#39;</span>) || (end == NULL) || (*end != <span class="charliteral">&#39;\0&#39;</span>))</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> pm;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">bbdev_parse_args(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv,</div>
<div class="line">        <span class="keyword">struct</span> app_config_params *app_params)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> optind = 0;</div>
<div class="line">    <span class="keywordtype">int</span> opt;</div>
<div class="line">    <span class="keywordtype">int</span> opt_indx = 0;</div>
<div class="line">    <span class="keywordtype">char</span> *prgname = argv[0];</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">struct </span>option lgopts[] = {</div>
<div class="line">        { <span class="stringliteral">&quot;enc_core_mask&quot;</span>, required_argument, 0, <span class="charliteral">&#39;e&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;dec_core_mask&quot;</span>, required_argument, 0, <span class="charliteral">&#39;d&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;port_id&quot;</span>, required_argument, 0, <span class="charliteral">&#39;p&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;bbdev_id&quot;</span>, required_argument, 0, <span class="charliteral">&#39;b&#39;</span> },</div>
<div class="line">        { NULL, 0, 0, 0 }</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    BBDEV_ASSERT(argc != 0);</div>
<div class="line">    BBDEV_ASSERT(argv != NULL);</div>
<div class="line">    BBDEV_ASSERT(app_params != NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> ((opt = getopt_long(argc, argv, <span class="stringliteral">&quot;e:d:p:b:&quot;</span>, lgopts, &amp;opt_indx)) !=</div>
<div class="line">        EOF) {</div>
<div class="line">        <span class="keywordflow">switch</span> (opt) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>:</div>
<div class="line">            app_params-&gt;enc_core_mask =</div>
<div class="line">                bbdev_parse_mask(optarg);</div>
<div class="line">            <span class="keywordflow">if</span> (app_params-&gt;enc_core_mask == 0) {</div>
<div class="line">                usage(prgname);</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            app_params-&gt;num_enc_cores =</div>
<div class="line">                __builtin_popcount(app_params-&gt;enc_core_mask);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div>
<div class="line">            app_params-&gt;dec_core_mask =</div>
<div class="line">                bbdev_parse_mask(optarg);</div>
<div class="line">            <span class="keywordflow">if</span> (app_params-&gt;dec_core_mask == 0) {</div>
<div class="line">                usage(prgname);</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            app_params-&gt;num_dec_cores =</div>
<div class="line">                __builtin_popcount(app_params-&gt;dec_core_mask);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line">            app_params-&gt;port_id = bbdev_parse_number(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div>
<div class="line">            app_params-&gt;bbdev_id = bbdev_parse_number(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            usage(prgname);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    optind = 0;</div>
<div class="line">    <span class="keywordflow">return</span> optind;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">signal_handler(<span class="keywordtype">int</span> signum)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nSignal %d received\n&quot;</span>, signum);</div>
<div class="line">    <a name="a18"></a><a class="code" href="rte__atomic_8h.html#a5705c61f4f064c620634cd9bbd4f6fb5">rte_atomic16_set</a>(&amp;global_exit_flag, 1);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">print_mac(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> portid, <span class="keyword">struct</span> <a name="_a19"></a><a class="code" href="structrte__ether__addr.html">rte_ether_addr</a> *bbdev_ports_eth_address)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;Port %u, MAC address: %02X:%02X:%02X:%02X:%02X:%02X\n\n&quot;</span>,</div>
<div class="line">            (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) portid,</div>
<div class="line">            bbdev_ports_eth_address-&gt;<a name="a20"></a><a class="code" href="structrte__ether__addr.html#ad6f7cb65b39d12b5250ecf82c8ffaa45">addr_bytes</a>[0],</div>
<div class="line">            bbdev_ports_eth_address-&gt;<a class="code" href="structrte__ether__addr.html#ad6f7cb65b39d12b5250ecf82c8ffaa45">addr_bytes</a>[1],</div>
<div class="line">            bbdev_ports_eth_address-&gt;<a class="code" href="structrte__ether__addr.html#ad6f7cb65b39d12b5250ecf82c8ffaa45">addr_bytes</a>[2],</div>
<div class="line">            bbdev_ports_eth_address-&gt;<a class="code" href="structrte__ether__addr.html#ad6f7cb65b39d12b5250ecf82c8ffaa45">addr_bytes</a>[3],</div>
<div class="line">            bbdev_ports_eth_address-&gt;<a class="code" href="structrte__ether__addr.html#ad6f7cb65b39d12b5250ecf82c8ffaa45">addr_bytes</a>[4],</div>
<div class="line">            bbdev_ports_eth_address-&gt;<a class="code" href="structrte__ether__addr.html#ad6f7cb65b39d12b5250ecf82c8ffaa45">addr_bytes</a>[5]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">pktmbuf_free_bulk(<span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> **mbufs, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb_to_free)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; nb_to_free; ++i)</div>
<div class="line">        <a name="a21"></a><a class="code" href="rte__mbuf_8h.html#a1215458932900b7cd5192326fa4a6902">rte_pktmbuf_free</a>(mbufs[i]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">pktmbuf_input_free_bulk(<span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> **mbufs, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb_to_free)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; nb_to_free; ++i) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__mbuf.html">rte_mbuf</a> *rx_pkt = *mbuf_input(mbufs[i]);</div>
<div class="line">        <a class="code" href="rte__mbuf_8h.html#a1215458932900b7cd5192326fa4a6902">rte_pktmbuf_free</a>(rx_pkt);</div>
<div class="line">        <a class="code" href="rte__mbuf_8h.html#a1215458932900b7cd5192326fa4a6902">rte_pktmbuf_free</a>(mbufs[i]);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Check the link status of all ports in up to 9s, and print them finally */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">check_port_link_status(uint16_t port_id)</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#define CHECK_INTERVAL 100 </span><span class="comment">/* 100ms */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define MAX_CHECK_TIME 90 </span><span class="comment">/* 9s (90 * 100ms) in total */</span><span class="preprocessor"></span></div>
<div class="line">    uint8_t count;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a22"></a><a class="code" href="structrte__eth__link.html">rte_eth_link</a> link;</div>
<div class="line">    <span class="keywordtype">int</span> link_get_err = -EINVAL;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\nChecking link status.&quot;</span>);</div>
<div class="line">    fflush(stdout);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (count = 0; count &lt;= MAX_CHECK_TIME &amp;&amp;</div>
<div class="line">            !<a name="a23"></a><a class="code" href="rte__atomic_8h.html#abf8058eb8021112818597b328c58abbc">rte_atomic16_read</a>(&amp;global_exit_flag); count++) {</div>
<div class="line">        memset(&amp;link, 0, <span class="keyword">sizeof</span>(link));</div>
<div class="line">        link_get_err = <a name="a24"></a><a class="code" href="rte__ethdev_8h.html#ad1263899f41301923c483c3b4ce0486f">rte_eth_link_get_nowait</a>(port_id, &amp;link);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (link_get_err &gt;= 0 &amp;&amp; link.link_status) {</div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">char</span> *dp = (link.link_duplex ==</div>
<div class="line">                <a name="a25"></a><a class="code" href="rte__ethdev_8h.html#a042c83951613bf2db5d3056b967041d6">ETH_LINK_FULL_DUPLEX</a>) ?</div>
<div class="line">                <span class="stringliteral">&quot;full-duplex&quot;</span> : <span class="stringliteral">&quot;half-duplex&quot;</span>;</div>
<div class="line">            printf(<span class="stringliteral">&quot;\nPort %u Link Up - speed %s - %s\n&quot;</span>,</div>
<div class="line">                port_id,</div>
<div class="line">                <a name="a26"></a><a class="code" href="rte__ethdev_8h.html#ade8a6c56c3b7c65fa4cabf1d1106fdc7">rte_eth_link_speed_to_str</a>(link.link_speed),</div>
<div class="line">                dp);</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        }</div>
<div class="line">        printf(<span class="stringliteral">&quot;.&quot;</span>);</div>
<div class="line">        fflush(stdout);</div>
<div class="line">        <a name="a27"></a><a class="code" href="rte__cycles_8h.html#af73b844d50b98de74b1a0e1730262f85">rte_delay_ms</a>(CHECK_INTERVAL);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (link_get_err &gt;= 0)</div>
<div class="line">        printf(<span class="stringliteral">&quot;\nPort %d Link Down\n&quot;</span>, port_id);</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        printf(<span class="stringliteral">&quot;\nGet link failed (port %d): %s\n&quot;</span>, port_id,</div>
<div class="line">               <a name="a28"></a><a class="code" href="rte__errno_8h.html#a129a7eb4cfa1f5bdac5783bf49137d06">rte_strerror</a>(-link_get_err));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">add_ether_hdr(<span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> *pkt_src, <span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> *pkt_dst)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a name="_a29"></a><a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a> *eth_from;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a> *eth_to;</div>
<div class="line"> </div>
<div class="line">    eth_from = <a name="a30"></a><a class="code" href="rte__mbuf__core_8h.html#a2a8b10263496c7b580e9d0c7f2a1f073">rte_pktmbuf_mtod</a>(pkt_src, <span class="keyword">struct</span> <a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a> *);</div>
<div class="line">    eth_to = <a class="code" href="rte__mbuf__core_8h.html#a2a8b10263496c7b580e9d0c7f2a1f073">rte_pktmbuf_mtod</a>(pkt_dst, <span class="keyword">struct</span> <a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a> *);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* copy header */</span></div>
<div class="line">    <a name="a31"></a><a class="code" href="rte__memcpy_8h.html#a09f4d8cdb1a7c25398a363906e1db8cd">rte_memcpy</a>(eth_to, eth_from, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">add_awgn(<span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> **mbufs, uint16_t num_pkts)</div>
<div class="line">{</div>
<div class="line">    <a name="a32"></a><a class="code" href="rte__common_8h.html#aaedd6d14e7370916fee58e0f69d8c37a">RTE_SET_USED</a>(mbufs);</div>
<div class="line">    <a class="code" href="rte__common_8h.html#aaedd6d14e7370916fee58e0f69d8c37a">RTE_SET_USED</a>(num_pkts);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Encoder output to Decoder input adapter. The Decoder accepts only soft input</span></div>
<div class="line"><span class="comment"> * so each bit of the encoder output must be translated into one byte of LLR. If</span></div>
<div class="line"><span class="comment"> * Sub-block Deinterleaver is bypassed, which is the case, the padding bytes</span></div>
<div class="line"><span class="comment"> * must additionally be insterted at the end of each sub-block.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">transform_enc_out_dec_in(<span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> **mbufs, uint8_t *temp_buf,</div>
<div class="line">        uint16_t num_pkts, uint16_t k)</div>
<div class="line">{</div>
<div class="line">    uint16_t i, l, j;</div>
<div class="line">    uint16_t start_bit_idx;</div>
<div class="line">    uint16_t out_idx;</div>
<div class="line">    uint16_t d = k + 4;</div>
<div class="line">    uint16_t kpi = <a name="a33"></a><a class="code" href="rte__common_8h.html#a856650153655096752b4c2a29690a15d">RTE_ALIGN_CEIL</a>(d, 32);</div>
<div class="line">    uint16_t nd = kpi - d;</div>
<div class="line">    uint16_t ncb = 3 * kpi;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; num_pkts; ++i) {</div>
<div class="line">        uint16_t pkt_data_len = <a name="a34"></a><a class="code" href="rte__mbuf_8h.html#a2a1e1b30162161ed11d3ba2faf7bbf13">rte_pktmbuf_data_len</a>(mbufs[i]) -</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Resize the packet if needed */</span></div>
<div class="line">        <span class="keywordflow">if</span> (pkt_data_len &lt; ncb) {</div>
<div class="line">            <span class="keywordtype">char</span> *data = <a name="a35"></a><a class="code" href="rte__mbuf_8h.html#ad5b0cd686ad3bcbb83416ca8395a080b">rte_pktmbuf_append</a>(mbufs[i],</div>
<div class="line">                    ncb - pkt_data_len);</div>
<div class="line">            <span class="keywordflow">if</span> (data == NULL)</div>
<div class="line">                printf(</div>
<div class="line">                    <span class="stringliteral">&quot;Not enough space in decoder input packet&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Translate each bit into 1 LLR byte. */</span></div>
<div class="line">        start_bit_idx = 0;</div>
<div class="line">        out_idx = 0;</div>
<div class="line">        <span class="keywordflow">for</span> (j = 0; j &lt; 3; ++j) {</div>
<div class="line">            <span class="keywordflow">for</span> (l = start_bit_idx; l &lt; start_bit_idx + d; ++l) {</div>
<div class="line">                uint8_t *data = <a name="a36"></a><a class="code" href="rte__mbuf__core_8h.html#ad63e1de0ec54d7c7603ea984c76ca956">rte_pktmbuf_mtod_offset</a>(</div>
<div class="line">                    mbufs[i], uint8_t *,</div>
<div class="line">                    <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>) +</div>
<div class="line">                    (l &gt;&gt; 3));</div>
<div class="line">                <span class="keywordflow">if</span> (*data &amp; (0x80 &gt;&gt; (l &amp; 7)))</div>
<div class="line">                    temp_buf[out_idx] = LLR_1_BIT;</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                    temp_buf[out_idx] = LLR_0_BIT;</div>
<div class="line">                ++out_idx;</div>
<div class="line">            }</div>
<div class="line">            <span class="comment">/* Padding bytes should be at the end of the sub-block.</span></div>
<div class="line"><span class="comment">             */</span></div>
<div class="line">            memset(&amp;temp_buf[out_idx], 0, nd);</div>
<div class="line">            out_idx += nd;</div>
<div class="line">            start_bit_idx += d;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="rte__memcpy_8h.html#a09f4d8cdb1a7c25398a363906e1db8cd">rte_memcpy</a>(<a class="code" href="rte__mbuf__core_8h.html#ad63e1de0ec54d7c7603ea984c76ca956">rte_pktmbuf_mtod_offset</a>(mbufs[i], uint8_t *,</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>)), temp_buf, ncb);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">verify_data(<span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> **mbufs, uint16_t num_pkts)</div>
<div class="line">{</div>
<div class="line">    uint16_t i;</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; num_pkts; ++i) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__mbuf.html">rte_mbuf</a> *out = mbufs[i];</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__mbuf.html">rte_mbuf</a> *in = *mbuf_input(out);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (memcmp(<a class="code" href="rte__mbuf__core_8h.html#ad63e1de0ec54d7c7603ea984c76ca956">rte_pktmbuf_mtod_offset</a>(in, uint8_t *,</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>)),</div>
<div class="line">                <a class="code" href="rte__mbuf__core_8h.html#ad63e1de0ec54d7c7603ea984c76ca956">rte_pktmbuf_mtod_offset</a>(out, uint8_t *,</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>)),</div>
<div class="line">                K / 8 - CRC_24B_LEN))</div>
<div class="line">            printf(<span class="stringliteral">&quot;Input and output buffers are not equal!\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">initialize_ports(<span class="keyword">struct</span> app_config_params *app_params,</div>
<div class="line">        <span class="keyword">struct</span> <a class="code" href="structrte__mempool.html">rte_mempool</a> *ethdev_mbuf_mempool)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> ret;</div>
<div class="line">    uint16_t port_id = app_params-&gt;port_id;</div>
<div class="line">    uint16_t q;</div>
<div class="line">    <span class="comment">/* ethernet addresses of ports */</span></div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__ether__addr.html">rte_ether_addr</a> bbdev_port_eth_addr;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* initialize ports */</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;\nInitializing port %u...\n&quot;</span>, app_params-&gt;port_id);</div>
<div class="line">    ret = <a name="a37"></a><a class="code" href="rte__ethdev_8h.html#a1a7d3a20b102fee222541fda50fd87bd">rte_eth_dev_configure</a>(port_id, app_params-&gt;num_enc_cores,</div>
<div class="line">        app_params-&gt;num_dec_cores, &amp;port_conf);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Cannot configure device: err=%d, port=%u\n&quot;</span>,</div>
<div class="line">            ret, port_id);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* initialize RX queues for encoder */</span></div>
<div class="line">    <span class="keywordflow">for</span> (q = 0; q &lt; app_params-&gt;num_enc_cores; q++) {</div>
<div class="line">        ret = <a name="a38"></a><a class="code" href="rte__ethdev_8h.html#a36ba70a5a6fce2c2c1f774828ba78f8d">rte_eth_rx_queue_setup</a>(port_id, q,</div>
<div class="line">            RTE_TEST_RX_DESC_DEFAULT,</div>
<div class="line">            <a name="a39"></a><a class="code" href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a>(port_id),</div>
<div class="line">            NULL, ethdev_mbuf_mempool);</div>
<div class="line">        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;rte_eth_rx_queue_setup: err=%d, queue=%u\n&quot;</span>,</div>
<div class="line">                ret, q);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/* initialize TX queues for decoder */</span></div>
<div class="line">    <span class="keywordflow">for</span> (q = 0; q &lt; app_params-&gt;num_dec_cores; q++) {</div>
<div class="line">        ret = <a name="a40"></a><a class="code" href="rte__ethdev_8h.html#a796c2f20778984c6f41b271e36bae50e">rte_eth_tx_queue_setup</a>(port_id, q,</div>
<div class="line">            RTE_TEST_TX_DESC_DEFAULT,</div>
<div class="line">            <a class="code" href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a>(port_id), NULL);</div>
<div class="line">        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;rte_eth_tx_queue_setup: err=%d, queue=%u\n&quot;</span>,</div>
<div class="line">                ret, q);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ret = <a name="a41"></a><a class="code" href="rte__ethdev_8h.html#a5dd1dedaa45f05c72bcc35495e441e91">rte_eth_promiscuous_enable</a>(port_id);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Cannot enable promiscuous mode: err=%s, port=%u\n&quot;</span>,</div>
<div class="line">            <a class="code" href="rte__errno_8h.html#a129a7eb4cfa1f5bdac5783bf49137d06">rte_strerror</a>(-ret), port_id);</div>
<div class="line">        <span class="keywordflow">return</span> ret;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ret = <a name="a42"></a><a class="code" href="rte__ethdev_8h.html#a8a28375b279ded9125c99a46bf3956ef">rte_eth_macaddr_get</a>(port_id, &amp;bbdev_port_eth_addr);</div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;rte_eth_macaddr_get: err=%d, queue=%u\n&quot;</span>,</div>
<div class="line">            ret, q);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    print_mac(port_id, &amp;bbdev_port_eth_addr);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">lcore_conf_init(<span class="keyword">struct</span> app_config_params *app_params,</div>
<div class="line">        <span class="keyword">struct</span> lcore_conf *lcore_conf,</div>
<div class="line">        <span class="keyword">struct</span> <a class="code" href="structrte__mempool.html">rte_mempool</a> **bbdev_op_pools,</div>
<div class="line">        <span class="keyword">struct</span> <a class="code" href="structrte__mempool.html">rte_mempool</a> *bbdev_mbuf_mempool,</div>
<div class="line">        <span class="keyword">struct</span> <a class="code" href="structrte__ring.html">rte_ring</a> *enc_to_dec_ring,</div>
<div class="line">        <span class="keyword">struct</span> lcore_statistics *lcore_stats)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lcore_id;</div>
<div class="line">    <span class="keyword">struct </span>lcore_conf *lconf;</div>
<div class="line">    uint16_t rx_queue_id = 0;</div>
<div class="line">    uint16_t tx_queue_id = 0;</div>
<div class="line">    uint16_t enc_q_id = 0;</div>
<div class="line">    uint16_t dec_q_id = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure lcores */</span></div>
<div class="line">    <span class="keywordflow">for</span> (lcore_id = 0; lcore_id &lt; 8 * <span class="keyword">sizeof</span>(uint64_t); ++lcore_id) {</div>
<div class="line">        lconf = &amp;lcore_conf[lcore_id];</div>
<div class="line">        lconf-&gt;core_type = 0;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ((1ULL &lt;&lt; lcore_id) &amp; app_params-&gt;enc_core_mask) {</div>
<div class="line">            lconf-&gt;core_type |= (1 &lt;&lt; <a name="a43"></a><a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a726fc8d3992a0b722e577b36cc74a58d">RTE_BBDEV_OP_TURBO_ENC</a>);</div>
<div class="line">            lconf-&gt;rx_queue_id = rx_queue_id++;</div>
<div class="line">            lconf-&gt;enc_queue_id =</div>
<div class="line">                    app_params-&gt;enc_queue_ids[enc_q_id++];</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ((1ULL &lt;&lt; lcore_id) &amp; app_params-&gt;dec_core_mask) {</div>
<div class="line">            lconf-&gt;core_type |= (1 &lt;&lt; <a name="a44"></a><a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a4e6b7a74546a648d6cae5f5be4b6f06c">RTE_BBDEV_OP_TURBO_DEC</a>);</div>
<div class="line">            lconf-&gt;tx_queue_id = tx_queue_id++;</div>
<div class="line">            lconf-&gt;dec_queue_id =</div>
<div class="line">                    app_params-&gt;dec_queue_ids[dec_q_id++];</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        lconf-&gt;bbdev_enc_op_pool =</div>
<div class="line">                bbdev_op_pools[<a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a726fc8d3992a0b722e577b36cc74a58d">RTE_BBDEV_OP_TURBO_ENC</a>];</div>
<div class="line">        lconf-&gt;bbdev_dec_op_pool =</div>
<div class="line">                bbdev_op_pools[<a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a4e6b7a74546a648d6cae5f5be4b6f06c">RTE_BBDEV_OP_TURBO_DEC</a>];</div>
<div class="line">        lconf-&gt;bbdev_id = app_params-&gt;bbdev_id;</div>
<div class="line">        lconf-&gt;port_id = app_params-&gt;port_id;</div>
<div class="line">        lconf-&gt;enc_out_pool = bbdev_mbuf_mempool;</div>
<div class="line">        lconf-&gt;enc_to_dec_ring = enc_to_dec_ring;</div>
<div class="line">        lconf-&gt;lcore_stats = &amp;lcore_stats[lcore_id];</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">print_lcore_stats(<span class="keyword">struct</span> lcore_statistics *lstats, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lcore_id)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *stats_border = <span class="stringliteral">&quot;_______&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\nLcore %d: %s enqueued count:\t\t%u\n&quot;</span>,</div>
<div class="line">            lcore_id, stats_border, lstats-&gt;enqueued);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Lcore %d: %s dequeued count:\t\t%u\n&quot;</span>,</div>
<div class="line">            lcore_id, stats_border, lstats-&gt;dequeued);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Lcore %d: %s RX lost packets count:\t\t%u\n&quot;</span>,</div>
<div class="line">            lcore_id, stats_border, lstats-&gt;rx_lost_packets);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Lcore %d: %s encoder-to-decoder lost count:\t%u\n&quot;</span>,</div>
<div class="line">            lcore_id, stats_border,</div>
<div class="line">            lstats-&gt;enc_to_dec_lost_packets);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Lcore %d: %s TX lost packets count:\t\t%u\n&quot;</span>,</div>
<div class="line">            lcore_id, stats_border, lstats-&gt;tx_lost_packets);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">print_stats(<span class="keyword">struct</span> stats_lcore_params *stats_lcore)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> l_id;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bbdev_id = stats_lcore-&gt;app_params-&gt;bbdev_id;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> port_id = stats_lcore-&gt;app_params-&gt;port_id;</div>
<div class="line">    <span class="keywordtype">int</span> len, ret, i;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span><a name="_a45"></a><a class="code" href="structrte__eth__xstat.html">rte_eth_xstat</a> *xstats;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a46"></a><a class="code" href="structrte__eth__xstat__name.html">rte_eth_xstat_name</a> *xstats_names;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a47"></a><a class="code" href="structrte__bbdev__stats.html">rte_bbdev_stats</a> bbstats;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *stats_border = <span class="stringliteral">&quot;_______&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> clr[] = { 27, <span class="charliteral">&#39;[&#39;</span>, <span class="charliteral">&#39;2&#39;</span>, <span class="charliteral">&#39;J&#39;</span>, <span class="charliteral">&#39;\0&#39;</span> };</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> topLeft[] = { 27, <span class="charliteral">&#39;[&#39;</span>, <span class="charliteral">&#39;1&#39;</span>, <span class="charliteral">&#39;;&#39;</span>, <span class="charliteral">&#39;1&#39;</span>, <span class="charliteral">&#39;H&#39;</span>, <span class="charliteral">&#39;\0&#39;</span> };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Clear screen and move to top left */</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;%s%s&quot;</span>, clr, topLeft);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;PORT STATISTICS:\n================\n&quot;</span>);</div>
<div class="line">    len = <a name="a48"></a><a class="code" href="rte__ethdev_8h.html#a300d75b583c1f5acfe5b162a5d8c0ac1">rte_eth_xstats_get</a>(port_id, NULL, 0);</div>
<div class="line">    <span class="keywordflow">if</span> (len &lt; 0)</div>
<div class="line">        <a name="a49"></a><a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                <span class="stringliteral">&quot;rte_eth_xstats_get(%u) failed: %d&quot;</span>, port_id,</div>
<div class="line">                len);</div>
<div class="line"> </div>
<div class="line">    xstats = calloc(len, <span class="keyword">sizeof</span>(*xstats));</div>
<div class="line">    <span class="keywordflow">if</span> (xstats == NULL)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                <span class="stringliteral">&quot;Failed to calloc memory for xstats&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    ret = <a class="code" href="rte__ethdev_8h.html#a300d75b583c1f5acfe5b162a5d8c0ac1">rte_eth_xstats_get</a>(port_id, xstats, len);</div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0 || ret &gt; len) {</div>
<div class="line">        free(xstats);</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                <span class="stringliteral">&quot;rte_eth_xstats_get(%u) len%i failed: %d&quot;</span>,</div>
<div class="line">                port_id, len, ret);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    xstats_names = calloc(len, <span class="keyword">sizeof</span>(*xstats_names));</div>
<div class="line">    <span class="keywordflow">if</span> (xstats_names == NULL) {</div>
<div class="line">        free(xstats);</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                <span class="stringliteral">&quot;Failed to calloc memory for xstats_names&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ret = <a name="a50"></a><a class="code" href="rte__ethdev_8h.html#a418ad970673eb171673185e36044fd79">rte_eth_xstats_get_names</a>(port_id, xstats_names, len);</div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0 || ret &gt; len) {</div>
<div class="line">        free(xstats);</div>
<div class="line">        free(xstats_names);</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                <span class="stringliteral">&quot;rte_eth_xstats_get_names(%u) len%i failed: %d&quot;</span>,</div>
<div class="line">                port_id, len, ret);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; len; i++) {</div>
<div class="line">        <span class="keywordflow">if</span> (xstats[i].value &gt; 0)</div>
<div class="line">            printf(<span class="stringliteral">&quot;Port %u: %s %s:\t\t%&quot;</span>PRIu64<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">                    port_id, stats_border,</div>
<div class="line">                    xstats_names[i].name,</div>
<div class="line">                    xstats[i].value);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ret = <a name="a51"></a><a class="code" href="rte__bbdev_8h.html#af24d9072b98e2d987387123e222c41c8">rte_bbdev_stats_get</a>(bbdev_id, &amp;bbstats);</div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">        free(xstats);</div>
<div class="line">        free(xstats_names);</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                <span class="stringliteral">&quot;ERROR(%d): Failure to get BBDEV %u statistics\n&quot;</span>,</div>
<div class="line">                ret, bbdev_id);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\nBBDEV STATISTICS:\n=================\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;BBDEV %u: %s enqueue count:\t\t%&quot;</span>PRIu64<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">            bbdev_id, stats_border,</div>
<div class="line">            bbstats.enqueued_count);</div>
<div class="line">    printf(<span class="stringliteral">&quot;BBDEV %u: %s dequeue count:\t\t%&quot;</span>PRIu64<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">            bbdev_id, stats_border,</div>
<div class="line">            bbstats.dequeued_count);</div>
<div class="line">    printf(<span class="stringliteral">&quot;BBDEV %u: %s enqueue error count:\t\t%&quot;</span>PRIu64<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">            bbdev_id, stats_border,</div>
<div class="line">            bbstats.enqueue_err_count);</div>
<div class="line">    printf(<span class="stringliteral">&quot;BBDEV %u: %s dequeue error count:\t\t%&quot;</span>PRIu64<span class="stringliteral">&quot;\n\n&quot;</span>,</div>
<div class="line">            bbdev_id, stats_border,</div>
<div class="line">            bbstats.dequeue_err_count);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;LCORE STATISTICS:\n=================\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">for</span> (l_id = 0; l_id &lt; RTE_MAX_LCORE; ++l_id) {</div>
<div class="line">        <span class="keywordflow">if</span> (stats_lcore-&gt;lconf[l_id].core_type == 0)</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        print_lcore_stats(stats_lcore-&gt;lconf[l_id].lcore_stats, l_id);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    fflush(stdout);</div>
<div class="line"> </div>
<div class="line">    free(xstats);</div>
<div class="line">    free(xstats_names);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">stats_loop(<span class="keywordtype">void</span> *arg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>stats_lcore_params *stats_lcore = arg;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (!<a class="code" href="rte__atomic_8h.html#abf8058eb8021112818597b328c58abbc">rte_atomic16_read</a>(&amp;global_exit_flag)) {</div>
<div class="line">        print_stats(stats_lcore);</div>
<div class="line">        <a class="code" href="rte__cycles_8h.html#af73b844d50b98de74b1a0e1730262f85">rte_delay_ms</a>(500);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">run_encoding(<span class="keyword">struct</span> lcore_conf *lcore_conf)</div>
<div class="line">{</div>
<div class="line">    uint16_t i;</div>
<div class="line">    uint16_t port_id, rx_queue_id;</div>
<div class="line">    uint16_t bbdev_id, enc_queue_id;</div>
<div class="line">    uint16_t nb_rx, nb_enq, nb_deq, nb_sent;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__mbuf.html">rte_mbuf</a> *rx_pkts_burst[MAX_PKT_BURST];</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__mbuf.html">rte_mbuf</a> *enc_out_pkts[MAX_PKT_BURST];</div>
<div class="line">    <span class="keyword">struct </span><a name="_a52"></a><a class="code" href="structrte__bbdev__enc__op.html">rte_bbdev_enc_op</a> *bbdev_ops_burst[MAX_PKT_BURST];</div>
<div class="line">    <span class="keyword">struct </span>lcore_statistics *lcore_stats;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__mempool.html">rte_mempool</a> *bbdev_op_pool, *enc_out_pool;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> *enc_to_dec_ring;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> in_data_len = (def_op_enc.<a name="a53"></a><a class="code" href="structrte__bbdev__op__turbo__enc.html#aff744a8d7158e1a4efcd4ed018e7ed4d">cb_params</a>.<a name="a54"></a><a class="code" href="structrte__bbdev__op__enc__turbo__cb__params.html#a0a079030ddf01045984049d505b8cf78">k</a> / 8) - CRC_24B_LEN;</div>
<div class="line"> </div>
<div class="line">    lcore_stats = lcore_conf-&gt;lcore_stats;</div>
<div class="line">    port_id = lcore_conf-&gt;port_id;</div>
<div class="line">    rx_queue_id = lcore_conf-&gt;rx_queue_id;</div>
<div class="line">    bbdev_id = lcore_conf-&gt;bbdev_id;</div>
<div class="line">    enc_queue_id = lcore_conf-&gt;enc_queue_id;</div>
<div class="line">    bbdev_op_pool = lcore_conf-&gt;bbdev_enc_op_pool;</div>
<div class="line">    enc_out_pool = lcore_conf-&gt;enc_out_pool;</div>
<div class="line">    enc_to_dec_ring = lcore_conf-&gt;enc_to_dec_ring;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Read packet from RX queues*/</span></div>
<div class="line">    nb_rx = <a name="a55"></a><a class="code" href="rte__ethdev_8h.html#a3e7d76a451b46348686ea97d6367f102">rte_eth_rx_burst</a>(port_id, rx_queue_id, rx_pkts_burst,</div>
<div class="line">            MAX_PKT_BURST);</div>
<div class="line">    <span class="keywordflow">if</span> (!nb_rx)</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a56"></a><a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a name="a57"></a><a class="code" href="rte__mempool_8h.html#a0d326354d53ef5068d86a8b7d9ec2d61">rte_mempool_get_bulk</a>(enc_out_pool, (<span class="keywordtype">void</span> **)enc_out_pkts,</div>
<div class="line">            nb_rx) != 0)) {</div>
<div class="line">        pktmbuf_free_bulk(rx_pkts_burst, nb_rx);</div>
<div class="line">        lcore_stats-&gt;rx_lost_packets += nb_rx;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a name="a58"></a><a class="code" href="rte__bbdev__op_8h.html#a5b23763ae981d1311759a64d1f66cc16">rte_bbdev_enc_op_alloc_bulk</a>(bbdev_op_pool, bbdev_ops_burst,</div>
<div class="line">            nb_rx) != 0)) {</div>
<div class="line">        pktmbuf_free_bulk(enc_out_pkts, nb_rx);</div>
<div class="line">        pktmbuf_free_bulk(rx_pkts_burst, nb_rx);</div>
<div class="line">        lcore_stats-&gt;rx_lost_packets += nb_rx;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; nb_rx; i++) {</div>
<div class="line">        <span class="keywordtype">char</span> *data;</div>
<div class="line">        <span class="keyword">const</span> uint16_t pkt_data_len =</div>
<div class="line">                <a class="code" href="rte__mbuf_8h.html#a2a1e1b30162161ed11d3ba2faf7bbf13">rte_pktmbuf_data_len</a>(rx_pkts_burst[i]) -</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>);</div>
<div class="line">        <span class="comment">/* save input mbuf pointer for later comparison */</span></div>
<div class="line">        *mbuf_input(enc_out_pkts[i]) = rx_pkts_burst[i];</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* copy ethernet header */</span></div>
<div class="line">        <a name="a59"></a><a class="code" href="rte__mbuf_8h.html#afc84d82d50361f568dd1d3a0e95d4aa4">rte_pktmbuf_reset</a>(enc_out_pkts[i]);</div>
<div class="line">        data = <a class="code" href="rte__mbuf_8h.html#ad5b0cd686ad3bcbb83416ca8395a080b">rte_pktmbuf_append</a>(enc_out_pkts[i],</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>));</div>
<div class="line">        <span class="keywordflow">if</span> (data == NULL) {</div>
<div class="line">            printf(</div>
<div class="line">                <span class="stringliteral">&quot;Not enough space for ethernet header in encoder output mbuf\n&quot;</span>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line">        add_ether_hdr(rx_pkts_burst[i], enc_out_pkts[i]);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* set op */</span></div>
<div class="line">        bbdev_ops_burst[i]-&gt;<a name="a60"></a><a class="code" href="structrte__bbdev__enc__op.html#ade5f0f28c1910337edb082a84411b6f9">turbo_enc</a> = def_op_enc;</div>
<div class="line"> </div>
<div class="line">        bbdev_ops_burst[i]-&gt;<a class="code" href="structrte__bbdev__enc__op.html#ade5f0f28c1910337edb082a84411b6f9">turbo_enc</a>.<a name="a61"></a><a class="code" href="structrte__bbdev__op__turbo__enc.html#aae4510aafdefd0d724de5b03cc210da1">input</a>.<a name="a62"></a><a class="code" href="structrte__bbdev__op__data.html#a66d43788ee916713d9ad62997d92e6b3">data</a> =</div>
<div class="line">                rx_pkts_burst[i];</div>
<div class="line">        bbdev_ops_burst[i]-&gt;<a class="code" href="structrte__bbdev__enc__op.html#ade5f0f28c1910337edb082a84411b6f9">turbo_enc</a>.<a class="code" href="structrte__bbdev__op__turbo__enc.html#aae4510aafdefd0d724de5b03cc210da1">input</a>.<a name="a63"></a><a class="code" href="structrte__bbdev__op__data.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> =</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>);</div>
<div class="line">        <span class="comment">/* Encoder will attach the CRC24B, adjust the length */</span></div>
<div class="line">        bbdev_ops_burst[i]-&gt;<a class="code" href="structrte__bbdev__enc__op.html#ade5f0f28c1910337edb082a84411b6f9">turbo_enc</a>.<a class="code" href="structrte__bbdev__op__turbo__enc.html#aae4510aafdefd0d724de5b03cc210da1">input</a>.<a name="a64"></a><a class="code" href="structrte__bbdev__op__data.html#aebb70c2aab3407a9f05334c47131a43b">length</a> = in_data_len;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (in_data_len &lt; pkt_data_len)</div>
<div class="line">            <a name="a65"></a><a class="code" href="rte__mbuf_8h.html#abe1bed439015acec170d1342e8dabb3b">rte_pktmbuf_trim</a>(rx_pkts_burst[i], pkt_data_len -</div>
<div class="line">                    in_data_len);</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (in_data_len &gt; pkt_data_len) {</div>
<div class="line">            data = <a class="code" href="rte__mbuf_8h.html#ad5b0cd686ad3bcbb83416ca8395a080b">rte_pktmbuf_append</a>(rx_pkts_burst[i],</div>
<div class="line">                    in_data_len - pkt_data_len);</div>
<div class="line">            <span class="keywordflow">if</span> (data == NULL)</div>
<div class="line">                printf(</div>
<div class="line">                    <span class="stringliteral">&quot;Not enough storage in mbuf to perform the encoding\n&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        bbdev_ops_burst[i]-&gt;<a class="code" href="structrte__bbdev__enc__op.html#ade5f0f28c1910337edb082a84411b6f9">turbo_enc</a>.<a name="a66"></a><a class="code" href="structrte__bbdev__op__turbo__enc.html#a63756ebd6b9a87351066d5d1dae39569">output</a>.<a class="code" href="structrte__bbdev__op__data.html#a66d43788ee916713d9ad62997d92e6b3">data</a> =</div>
<div class="line">                enc_out_pkts[i];</div>
<div class="line">        bbdev_ops_burst[i]-&gt;<a class="code" href="structrte__bbdev__enc__op.html#ade5f0f28c1910337edb082a84411b6f9">turbo_enc</a>.<a class="code" href="structrte__bbdev__op__turbo__enc.html#a63756ebd6b9a87351066d5d1dae39569">output</a>.<a class="code" href="structrte__bbdev__op__data.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> =</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Enqueue packets on BBDevice */</span></div>
<div class="line">    nb_enq = <a name="a67"></a><a class="code" href="rte__bbdev_8h.html#aab860c77fa5cd1b0dcc590748441bedf">rte_bbdev_enqueue_enc_ops</a>(bbdev_id, enc_queue_id,</div>
<div class="line">            bbdev_ops_burst, nb_rx);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(nb_enq &lt; nb_rx)) {</div>
<div class="line">        pktmbuf_input_free_bulk(&amp;enc_out_pkts[nb_enq],</div>
<div class="line">                nb_rx - nb_enq);</div>
<div class="line">        <a name="a68"></a><a class="code" href="rte__bbdev__op_8h.html#abfd321a3a3054f00e1c502c57a25e673">rte_bbdev_enc_op_free_bulk</a>(&amp;bbdev_ops_burst[nb_enq],</div>
<div class="line">                nb_rx - nb_enq);</div>
<div class="line">        lcore_stats-&gt;rx_lost_packets += nb_rx - nb_enq;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!nb_enq)</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    lcore_stats-&gt;enqueued += nb_enq;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Dequeue packets from bbdev device*/</span></div>
<div class="line">    nb_deq = 0;</div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        nb_deq += <a name="a69"></a><a class="code" href="rte__bbdev_8h.html#a09e024de23689af0824205792802e9e3">rte_bbdev_dequeue_enc_ops</a>(bbdev_id, enc_queue_id,</div>
<div class="line">                &amp;bbdev_ops_burst[nb_deq], nb_enq - nb_deq);</div>
<div class="line">    } <span class="keywordflow">while</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(nb_deq &lt; nb_enq));</div>
<div class="line"> </div>
<div class="line">    lcore_stats-&gt;dequeued += nb_deq;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Generate and add AWGN */</span></div>
<div class="line">    add_awgn(enc_out_pkts, nb_deq);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="rte__bbdev__op_8h.html#abfd321a3a3054f00e1c502c57a25e673">rte_bbdev_enc_op_free_bulk</a>(bbdev_ops_burst, nb_deq);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Enqueue packets to encoder-to-decoder ring */</span></div>
<div class="line">    nb_sent = <a name="a70"></a><a class="code" href="rte__ring_8h.html#a85ad08ed07e2e485c94466e03bf252c4">rte_ring_enqueue_burst</a>(enc_to_dec_ring, (<span class="keywordtype">void</span> **)enc_out_pkts,</div>
<div class="line">            nb_deq, NULL);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(nb_sent &lt; nb_deq)) {</div>
<div class="line">        pktmbuf_input_free_bulk(&amp;enc_out_pkts[nb_sent],</div>
<div class="line">                nb_deq - nb_sent);</div>
<div class="line">        lcore_stats-&gt;enc_to_dec_lost_packets += nb_deq - nb_sent;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">run_decoding(<span class="keyword">struct</span> lcore_conf *lcore_conf)</div>
<div class="line">{</div>
<div class="line">    uint16_t i;</div>
<div class="line">    uint16_t port_id, tx_queue_id;</div>
<div class="line">    uint16_t bbdev_id, bbdev_queue_id;</div>
<div class="line">    uint16_t nb_recv, nb_enq, nb_deq, nb_tx;</div>
<div class="line">    uint8_t *llr_temp_buf;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__mbuf.html">rte_mbuf</a> *recv_pkts_burst[MAX_PKT_BURST];</div>
<div class="line">    <span class="keyword">struct </span><a name="_a71"></a><a class="code" href="structrte__bbdev__dec__op.html">rte_bbdev_dec_op</a> *bbdev_ops_burst[MAX_PKT_BURST];</div>
<div class="line">    <span class="keyword">struct </span>lcore_statistics *lcore_stats;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__mempool.html">rte_mempool</a> *bbdev_op_pool;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> *enc_to_dec_ring;</div>
<div class="line"> </div>
<div class="line">    lcore_stats = lcore_conf-&gt;lcore_stats;</div>
<div class="line">    port_id = lcore_conf-&gt;port_id;</div>
<div class="line">    tx_queue_id = lcore_conf-&gt;tx_queue_id;</div>
<div class="line">    bbdev_id = lcore_conf-&gt;bbdev_id;</div>
<div class="line">    bbdev_queue_id = lcore_conf-&gt;dec_queue_id;</div>
<div class="line">    bbdev_op_pool = lcore_conf-&gt;bbdev_dec_op_pool;</div>
<div class="line">    enc_to_dec_ring = lcore_conf-&gt;enc_to_dec_ring;</div>
<div class="line">    llr_temp_buf = lcore_conf-&gt;llr_temp_buf;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Dequeue packets from the ring */</span></div>
<div class="line">    nb_recv = <a name="a72"></a><a class="code" href="rte__ring_8h.html#a9dd35643c4cdc6fa00ece3cafbcd94d2">rte_ring_dequeue_burst</a>(enc_to_dec_ring,</div>
<div class="line">            (<span class="keywordtype">void</span> **)recv_pkts_burst, MAX_PKT_BURST, NULL);</div>
<div class="line">    <span class="keywordflow">if</span> (!nb_recv)</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a name="a73"></a><a class="code" href="rte__bbdev__op_8h.html#a2f8d8bc9d43322c48933299dd350b7d3">rte_bbdev_dec_op_alloc_bulk</a>(bbdev_op_pool, bbdev_ops_burst,</div>
<div class="line">            nb_recv) != 0)) {</div>
<div class="line">        pktmbuf_input_free_bulk(recv_pkts_burst, nb_recv);</div>
<div class="line">        lcore_stats-&gt;rx_lost_packets += nb_recv;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    transform_enc_out_dec_in(recv_pkts_burst, llr_temp_buf, nb_recv,</div>
<div class="line">            def_op_dec.<a name="a74"></a><a class="code" href="structrte__bbdev__op__turbo__dec.html#a6b198e601f5aadc6d3e5f412e90f93d0">cb_params</a>.<a name="a75"></a><a class="code" href="structrte__bbdev__op__dec__turbo__cb__params.html#a0a079030ddf01045984049d505b8cf78">k</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; nb_recv; i++) {</div>
<div class="line">        <span class="comment">/* set op */</span></div>
<div class="line">        bbdev_ops_burst[i]-&gt;<a name="a76"></a><a class="code" href="structrte__bbdev__dec__op.html#a25f54cfa3e1072eaab86c33c5673daa6">turbo_dec</a> = def_op_dec;</div>
<div class="line"> </div>
<div class="line">        bbdev_ops_burst[i]-&gt;<a class="code" href="structrte__bbdev__dec__op.html#a25f54cfa3e1072eaab86c33c5673daa6">turbo_dec</a>.<a name="a77"></a><a class="code" href="structrte__bbdev__op__turbo__dec.html#aae4510aafdefd0d724de5b03cc210da1">input</a>.<a class="code" href="structrte__bbdev__op__data.html#a66d43788ee916713d9ad62997d92e6b3">data</a> = recv_pkts_burst[i];</div>
<div class="line">        bbdev_ops_burst[i]-&gt;<a class="code" href="structrte__bbdev__dec__op.html#a25f54cfa3e1072eaab86c33c5673daa6">turbo_dec</a>.<a class="code" href="structrte__bbdev__op__turbo__dec.html#aae4510aafdefd0d724de5b03cc210da1">input</a>.<a class="code" href="structrte__bbdev__op__data.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> =</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>);</div>
<div class="line">        bbdev_ops_burst[i]-&gt;<a class="code" href="structrte__bbdev__dec__op.html#a25f54cfa3e1072eaab86c33c5673daa6">turbo_dec</a>.<a class="code" href="structrte__bbdev__op__turbo__dec.html#aae4510aafdefd0d724de5b03cc210da1">input</a>.<a class="code" href="structrte__bbdev__op__data.html#aebb70c2aab3407a9f05334c47131a43b">length</a> =</div>
<div class="line">                <a class="code" href="rte__mbuf_8h.html#a2a1e1b30162161ed11d3ba2faf7bbf13">rte_pktmbuf_data_len</a>(recv_pkts_burst[i])</div>
<div class="line">                - <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>);</div>
<div class="line"> </div>
<div class="line">        bbdev_ops_burst[i]-&gt;<a class="code" href="structrte__bbdev__dec__op.html#a25f54cfa3e1072eaab86c33c5673daa6">turbo_dec</a>.<a name="a78"></a><a class="code" href="structrte__bbdev__op__turbo__dec.html#aa0989a013b220d77e15506e353aa1d28">hard_output</a>.<a class="code" href="structrte__bbdev__op__data.html#a66d43788ee916713d9ad62997d92e6b3">data</a> =</div>
<div class="line">                recv_pkts_burst[i];</div>
<div class="line">        bbdev_ops_burst[i]-&gt;<a class="code" href="structrte__bbdev__dec__op.html#a25f54cfa3e1072eaab86c33c5673daa6">turbo_dec</a>.<a class="code" href="structrte__bbdev__op__turbo__dec.html#aa0989a013b220d77e15506e353aa1d28">hard_output</a>.<a class="code" href="structrte__bbdev__op__data.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> =</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Enqueue packets on BBDevice */</span></div>
<div class="line">    nb_enq = <a name="a79"></a><a class="code" href="rte__bbdev_8h.html#a68431704ff25eafa914c20da694f1c1c">rte_bbdev_enqueue_dec_ops</a>(bbdev_id, bbdev_queue_id,</div>
<div class="line">            bbdev_ops_burst, nb_recv);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(nb_enq &lt; nb_recv)) {</div>
<div class="line">        pktmbuf_input_free_bulk(&amp;recv_pkts_burst[nb_enq],</div>
<div class="line">                nb_recv - nb_enq);</div>
<div class="line">        <a name="a80"></a><a class="code" href="rte__bbdev__op_8h.html#a80f550612a95abc9a6b3e7fe4e9a1f26">rte_bbdev_dec_op_free_bulk</a>(&amp;bbdev_ops_burst[nb_enq],</div>
<div class="line">                nb_recv - nb_enq);</div>
<div class="line">        lcore_stats-&gt;rx_lost_packets += nb_recv - nb_enq;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!nb_enq)</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    lcore_stats-&gt;enqueued += nb_enq;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Dequeue packets from BBDevice */</span></div>
<div class="line">    nb_deq = 0;</div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        nb_deq += <a name="a81"></a><a class="code" href="rte__bbdev_8h.html#af8762149adde87a41b4dc7e990f6920b">rte_bbdev_dequeue_dec_ops</a>(bbdev_id, bbdev_queue_id,</div>
<div class="line">                &amp;bbdev_ops_burst[nb_deq], nb_enq - nb_deq);</div>
<div class="line">    } <span class="keywordflow">while</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(nb_deq &lt; nb_enq));</div>
<div class="line"> </div>
<div class="line">    lcore_stats-&gt;dequeued += nb_deq;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="rte__bbdev__op_8h.html#a80f550612a95abc9a6b3e7fe4e9a1f26">rte_bbdev_dec_op_free_bulk</a>(bbdev_ops_burst, nb_deq);</div>
<div class="line"> </div>
<div class="line">    verify_data(recv_pkts_burst, nb_deq);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Free the RX mbufs after verification */</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; nb_deq; ++i)</div>
<div class="line">        <a class="code" href="rte__mbuf_8h.html#a1215458932900b7cd5192326fa4a6902">rte_pktmbuf_free</a>(*mbuf_input(recv_pkts_burst[i]));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Transmit the packets */</span></div>
<div class="line">    nb_tx = <a name="a82"></a><a class="code" href="rte__ethdev_8h.html#a83e56cabbd31637efd648e3fc010392b">rte_eth_tx_burst</a>(port_id, tx_queue_id, recv_pkts_burst, nb_deq);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(nb_tx &lt; nb_deq)) {</div>
<div class="line">        pktmbuf_input_free_bulk(&amp;recv_pkts_burst[nb_tx],</div>
<div class="line">                nb_deq - nb_tx);</div>
<div class="line">        lcore_stats-&gt;tx_lost_packets += nb_deq - nb_tx;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">processing_loop(<span class="keywordtype">void</span> *arg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>lcore_conf *lcore_conf = arg;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">bool</span> run_encoder = (lcore_conf-&gt;core_type &amp;</div>
<div class="line">            (1 &lt;&lt; <a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a726fc8d3992a0b722e577b36cc74a58d">RTE_BBDEV_OP_TURBO_ENC</a>));</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">bool</span> run_decoder = (lcore_conf-&gt;core_type &amp;</div>
<div class="line">            (1 &lt;&lt; <a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a4e6b7a74546a648d6cae5f5be4b6f06c">RTE_BBDEV_OP_TURBO_DEC</a>));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (!<a class="code" href="rte__atomic_8h.html#abf8058eb8021112818597b328c58abbc">rte_atomic16_read</a>(&amp;global_exit_flag)) {</div>
<div class="line">        <span class="keywordflow">if</span> (run_encoder)</div>
<div class="line">            run_encoding(lcore_conf);</div>
<div class="line">        <span class="keywordflow">if</span> (run_decoder)</div>
<div class="line">            run_decoding(lcore_conf);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">prepare_bbdev_device(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dev_id, <span class="keyword">struct</span> <a name="_a83"></a><a class="code" href="structrte__bbdev__info.html">rte_bbdev_info</a> *info,</div>
<div class="line">        <span class="keyword">struct</span> app_config_params *app_params)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> ret;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> q_id, dec_q_id, enc_q_id;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a84"></a><a class="code" href="structrte__bbdev__queue__conf.html">rte_bbdev_queue_conf</a> qconf = {0};</div>
<div class="line">    uint16_t dec_qs_nb = app_params-&gt;num_dec_cores;</div>
<div class="line">    uint16_t enc_qs_nb = app_params-&gt;num_enc_cores;</div>
<div class="line">    uint16_t tot_qs = dec_qs_nb + enc_qs_nb;</div>
<div class="line"> </div>
<div class="line">    ret = <a name="a85"></a><a class="code" href="rte__bbdev_8h.html#a623e937648f4c54539df6d0a1f2e6b58">rte_bbdev_setup_queues</a>(dev_id, tot_qs, info-&gt;<a name="a86"></a><a class="code" href="structrte__bbdev__info.html#a229cb0bd24215f0cb940e0724dbd4d55">socket_id</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                <span class="stringliteral">&quot;ERROR(%d): BBDEV %u not configured properly\n&quot;</span>,</div>
<div class="line">                ret, dev_id);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* setup device DEC queues */</span></div>
<div class="line">    qconf.<a name="a87"></a><a class="code" href="structrte__bbdev__queue__conf.html#a3666576f6b88007cc7b8f26c7da596c8">socket</a> = info-&gt;<a class="code" href="structrte__bbdev__info.html#a229cb0bd24215f0cb940e0724dbd4d55">socket_id</a>;</div>
<div class="line">    qconf.<a name="a88"></a><a class="code" href="structrte__bbdev__queue__conf.html#a9808e4fc7d6caea514cc51657678e22e">queue_size</a> = info-&gt;<a name="a89"></a><a class="code" href="structrte__bbdev__info.html#a5eb8ce621256a14429d4bcb8410b3428">drv</a>.<a name="a90"></a><a class="code" href="structrte__bbdev__driver__info.html#abe1523aac231432864d4e3d4c0653217">queue_size_lim</a>;</div>
<div class="line">    qconf.<a name="a91"></a><a class="code" href="structrte__bbdev__queue__conf.html#a4f10d8852ba0301b8728f11caf3a6ff1">op_type</a> = <a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a4e6b7a74546a648d6cae5f5be4b6f06c">RTE_BBDEV_OP_TURBO_DEC</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (q_id = 0, dec_q_id = 0; q_id &lt; dec_qs_nb; q_id++) {</div>
<div class="line">        ret = <a name="a92"></a><a class="code" href="rte__bbdev_8h.html#a3058136163aeb9f4f7b08e9393d0b44a">rte_bbdev_queue_configure</a>(dev_id, q_id, &amp;qconf);</div>
<div class="line">        <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">            <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                    <span class="stringliteral">&quot;ERROR(%d): BBDEV %u DEC queue %u not configured properly\n&quot;</span>,</div>
<div class="line">                    ret, dev_id, q_id);</div>
<div class="line">        app_params-&gt;dec_queue_ids[dec_q_id++] = q_id;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* setup device ENC queues */</span></div>
<div class="line">    qconf.<a class="code" href="structrte__bbdev__queue__conf.html#a4f10d8852ba0301b8728f11caf3a6ff1">op_type</a> = <a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a726fc8d3992a0b722e577b36cc74a58d">RTE_BBDEV_OP_TURBO_ENC</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (q_id = dec_qs_nb, enc_q_id = 0; q_id &lt; tot_qs; q_id++) {</div>
<div class="line">        ret = <a class="code" href="rte__bbdev_8h.html#a3058136163aeb9f4f7b08e9393d0b44a">rte_bbdev_queue_configure</a>(dev_id, q_id, &amp;qconf);</div>
<div class="line">        <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">            <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                    <span class="stringliteral">&quot;ERROR(%d): BBDEV %u ENC queue %u not configured properly\n&quot;</span>,</div>
<div class="line">                    ret, dev_id, q_id);</div>
<div class="line">        app_params-&gt;enc_queue_ids[enc_q_id++] = q_id;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ret = <a name="a93"></a><a class="code" href="rte__bbdev_8h.html#a2082859a085d3bbe939e446fc3f98271">rte_bbdev_start</a>(dev_id);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (ret != 0)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;ERROR(%d): BBDEV %u not started\n&quot;</span>,</div>
<div class="line">            ret, dev_id);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;BBdev %u started\n&quot;</span>, dev_id);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span></div>
<div class="line">check_matching_capabilities(uint64_t mask, uint64_t required_mask)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> (mask &amp; required_mask) == required_mask;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">enable_bbdev(<span class="keyword">struct</span> app_config_params *app_params)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__bbdev__info.html">rte_bbdev_info</a> dev_info;</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct </span><a name="_a94"></a><a class="code" href="structrte__bbdev__op__cap.html">rte_bbdev_op_cap</a> *op_cap;</div>
<div class="line">    uint16_t bbdev_id = app_params-&gt;bbdev_id;</div>
<div class="line">    <span class="keywordtype">bool</span> encoder_capable = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> decoder_capable = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">    <a name="a95"></a><a class="code" href="rte__bbdev_8h.html#a5b3e166b35448bb139d0328f44e2c61d">rte_bbdev_info_get</a>(bbdev_id, &amp;dev_info);</div>
<div class="line">    op_cap = dev_info.drv.capabilities;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (op_cap-&gt;<a name="a96"></a><a class="code" href="structrte__bbdev__op__cap.html#ac9c26b2e42890281a10a88ea2bcd7bf0">type</a> != <a name="a97"></a><a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a85f6ca196ad00ffab40b765721d5cbf6">RTE_BBDEV_OP_NONE</a>) {</div>
<div class="line">        <span class="keywordflow">if</span> (op_cap-&gt;<a class="code" href="structrte__bbdev__op__cap.html#ac9c26b2e42890281a10a88ea2bcd7bf0">type</a> == <a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a726fc8d3992a0b722e577b36cc74a58d">RTE_BBDEV_OP_TURBO_ENC</a>) {</div>
<div class="line">            <span class="keywordflow">if</span> (check_matching_capabilities(</div>
<div class="line">                    op_cap-&gt;<a name="a98"></a><a class="code" href="structrte__bbdev__op__cap.html#a44d5181624b5eebf0cbf3f010ef2cdcd">cap</a>.<a name="a99"></a>turbo_enc.<a name="a100"></a><a class="code" href="structrte__bbdev__op__cap__turbo__enc.html#a6eac06fa8e313fd5f944c68bf1e59d37">capability_flags</a>,</div>
<div class="line">                    def_op_enc.<a name="a101"></a><a class="code" href="structrte__bbdev__op__turbo__enc.html#ae21d944c29997c20293f403244ff41dc">op_flags</a>))</div>
<div class="line">                encoder_capable = <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (op_cap-&gt;<a class="code" href="structrte__bbdev__op__cap.html#ac9c26b2e42890281a10a88ea2bcd7bf0">type</a> == <a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a4e6b7a74546a648d6cae5f5be4b6f06c">RTE_BBDEV_OP_TURBO_DEC</a>) {</div>
<div class="line">            <span class="keywordflow">if</span> (check_matching_capabilities(</div>
<div class="line">                    op_cap-&gt;<a class="code" href="structrte__bbdev__op__cap.html#a44d5181624b5eebf0cbf3f010ef2cdcd">cap</a>.<a name="a102"></a>turbo_dec.<a name="a103"></a><a class="code" href="structrte__bbdev__op__cap__turbo__dec.html#a6eac06fa8e313fd5f944c68bf1e59d37">capability_flags</a>,</div>
<div class="line">                    def_op_dec.<a name="a104"></a><a class="code" href="structrte__bbdev__op__turbo__dec.html#ae21d944c29997c20293f403244ff41dc">op_flags</a>))</div>
<div class="line">                decoder_capable = <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        op_cap++;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (encoder_capable == <span class="keyword">false</span>)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">            <span class="stringliteral">&quot;The specified BBDev %u doesn&#39;t have required encoder capabilities!\n&quot;</span>,</div>
<div class="line">            bbdev_id);</div>
<div class="line">    <span class="keywordflow">if</span> (decoder_capable == <span class="keyword">false</span>)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">            <span class="stringliteral">&quot;The specified BBDev %u doesn&#39;t have required decoder capabilities!\n&quot;</span>,</div>
<div class="line">            bbdev_id);</div>
<div class="line"> </div>
<div class="line">    prepare_bbdev_device(bbdev_id, &amp;dev_info, app_params);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> ret;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb_bbdevs, flags, lcore_id;</div>
<div class="line">    <span class="keywordtype">void</span> *sigret;</div>
<div class="line">    <span class="keyword">struct </span>app_config_params app_params = def_app_config;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__mempool.html">rte_mempool</a> *ethdev_mbuf_mempool, *bbdev_mbuf_mempool;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__mempool.html">rte_mempool</a> *bbdev_op_pools[<a name="a105"></a><a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a386c7b6d4678bb05f0167a62b08bf7de">RTE_BBDEV_OP_TYPE_COUNT</a>];</div>
<div class="line">    <span class="keyword">struct </span>lcore_conf lcore_conf[RTE_MAX_LCORE] = { {0} };</div>
<div class="line">    <span class="keyword">struct </span>lcore_statistics lcore_stats[RTE_MAX_LCORE] = { {0} };</div>
<div class="line">    <span class="keyword">struct </span>stats_lcore_params stats_lcore;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> *enc_to_dec_ring;</div>
<div class="line">    <span class="keywordtype">bool</span> stats_thread_started = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> main_lcore_id = <a name="a106"></a><a class="code" href="rte__lcore_8h.html#a5449c6ee062fe3641520374152ce6c67">rte_get_main_lcore</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a name="_a107"></a><a class="code" href="structrte__mbuf__dynfield.html">rte_mbuf_dynfield</a> input_dynfield_desc = {</div>
<div class="line">        .<a name="a108"></a><a class="code" href="structrte__mbuf__dynfield.html#af0eef0d99d09298d94b2e9937b7a498a">name</a> = <span class="stringliteral">&quot;example_bbdev_dynfield_input&quot;</span>,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__mbuf.html">rte_mbuf</a> *),</div>
<div class="line">        .align = __alignof__(<span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> *),</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <a name="a109"></a><a class="code" href="rte__atomic_8h.html#a9272b225480a0776cb68088227fe0aff">rte_atomic16_init</a>(&amp;global_exit_flag);</div>
<div class="line"> </div>
<div class="line">    sigret = signal(SIGTERM, signal_handler);</div>
<div class="line">    <span class="keywordflow">if</span> (sigret == SIG_ERR)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;signal(%d, ...) failed&quot;</span>, SIGTERM);</div>
<div class="line"> </div>
<div class="line">    sigret = signal(SIGINT, signal_handler);</div>
<div class="line">    <span class="keywordflow">if</span> (sigret == SIG_ERR)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;signal(%d, ...) failed&quot;</span>, SIGINT);</div>
<div class="line"> </div>
<div class="line">    ret = <a name="a110"></a><a class="code" href="rte__eal_8h.html#a5c3f4dddc25e38c5a186ecd8a69260e3">rte_eal_init</a>(argc, argv);</div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Invalid EAL arguments\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    argc -= ret;</div>
<div class="line">    argv += ret;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* parse application arguments (after the EAL ones) */</span></div>
<div class="line">    ret = bbdev_parse_args(argc, argv, &amp;app_params);</div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Invalid BBDEV arguments\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*create bbdev op pools*/</span></div>
<div class="line">    bbdev_op_pools[<a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a4e6b7a74546a648d6cae5f5be4b6f06c">RTE_BBDEV_OP_TURBO_DEC</a>] =</div>
<div class="line">            <a name="a111"></a><a class="code" href="rte__bbdev__op_8h.html#a6e77422a56cbdc6439b77d14fb7404d3">rte_bbdev_op_pool_create</a>(<span class="stringliteral">&quot;bbdev_op_pool_dec&quot;</span>,</div>
<div class="line">            <a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a4e6b7a74546a648d6cae5f5be4b6f06c">RTE_BBDEV_OP_TURBO_DEC</a>, NB_MBUF, 128, <a name="a112"></a><a class="code" href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a>());</div>
<div class="line">    bbdev_op_pools[<a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a726fc8d3992a0b722e577b36cc74a58d">RTE_BBDEV_OP_TURBO_ENC</a>] =</div>
<div class="line">            <a class="code" href="rte__bbdev__op_8h.html#a6e77422a56cbdc6439b77d14fb7404d3">rte_bbdev_op_pool_create</a>(<span class="stringliteral">&quot;bbdev_op_pool_enc&quot;</span>,</div>
<div class="line">            <a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a726fc8d3992a0b722e577b36cc74a58d">RTE_BBDEV_OP_TURBO_ENC</a>, NB_MBUF, 128, <a class="code" href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a>());</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ((bbdev_op_pools[<a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a4e6b7a74546a648d6cae5f5be4b6f06c">RTE_BBDEV_OP_TURBO_DEC</a>] == NULL) ||</div>
<div class="line">            (bbdev_op_pools[<a class="code" href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a726fc8d3992a0b722e577b36cc74a58d">RTE_BBDEV_OP_TURBO_ENC</a>] == NULL))</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot create bbdev op pools\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Create encoder to decoder ring */</span></div>
<div class="line">    flags = (app_params.num_enc_cores == 1) ? <a name="a113"></a><a class="code" href="rte__ring__core_8h.html#a127c66adbeab4653a47649993b94f35b">RING_F_SP_ENQ</a> : 0;</div>
<div class="line">    <span class="keywordflow">if</span> (app_params.num_dec_cores == 1)</div>
<div class="line">        flags |= <a name="a114"></a><a class="code" href="rte__ring__core_8h.html#a421a61b2f94cdf65b3a6ac146c492fb9">RING_F_SC_DEQ</a>;</div>
<div class="line"> </div>
<div class="line">    enc_to_dec_ring = <a name="a115"></a><a class="code" href="rte__ring_8h.html#ae4dece63653850041afd5c16d3d6e052">rte_ring_create</a>(<span class="stringliteral">&quot;enc_to_dec_ring&quot;</span>,</div>
<div class="line">        <a name="a116"></a><a class="code" href="rte__common_8h.html#a5a85fd1038be9376de166494057e6aa1">rte_align32pow2</a>(NB_MBUF), <a class="code" href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a>(), flags);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Get the number of available bbdev devices */</span></div>
<div class="line">    nb_bbdevs = <a name="a117"></a><a class="code" href="rte__bbdev_8h.html#a34d49972bdea770c7c223731c7652835">rte_bbdev_count</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (nb_bbdevs &lt;= app_params.bbdev_id)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                <span class="stringliteral">&quot;%u BBDevs detected, cannot use BBDev with ID %u!\n&quot;</span>,</div>
<div class="line">                nb_bbdevs, app_params.bbdev_id);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Number of bbdevs detected: %d\n&quot;</span>, nb_bbdevs);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!<a name="a118"></a><a class="code" href="rte__ethdev_8h.html#a22dcfd3f5f2b34f657131d66132e23a7">rte_eth_dev_is_valid_port</a>(app_params.port_id))</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                <span class="stringliteral">&quot;cannot use port with ID %u!\n&quot;</span>,</div>
<div class="line">                app_params.port_id);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* create the mbuf mempool for ethdev pkts */</span></div>
<div class="line">    ethdev_mbuf_mempool = <a name="a119"></a><a class="code" href="rte__mbuf_8h.html#a593921f13307803b94bbb4e0932db962">rte_pktmbuf_pool_create</a>(<span class="stringliteral">&quot;ethdev_mbuf_pool&quot;</span>,</div>
<div class="line">            NB_MBUF, MEMPOOL_CACHE_SIZE, 0,</div>
<div class="line">            RTE_MBUF_DEFAULT_BUF_SIZE, <a class="code" href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a>());</div>
<div class="line">    <span class="keywordflow">if</span> (ethdev_mbuf_mempool == NULL)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot create ethdev mbuf mempool\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* create the mbuf mempool for encoder output */</span></div>
<div class="line">    bbdev_mbuf_mempool = <a class="code" href="rte__mbuf_8h.html#a593921f13307803b94bbb4e0932db962">rte_pktmbuf_pool_create</a>(<span class="stringliteral">&quot;bbdev_mbuf_pool&quot;</span>,</div>
<div class="line">            NB_MBUF, MEMPOOL_CACHE_SIZE, 0,</div>
<div class="line">            RTE_MBUF_DEFAULT_BUF_SIZE, <a class="code" href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a>());</div>
<div class="line">    <span class="keywordflow">if</span> (bbdev_mbuf_mempool == NULL)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot create ethdev mbuf mempool\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* register mbuf field to store input pointer */</span></div>
<div class="line">    input_dynfield_offset =</div>
<div class="line">        <a name="a120"></a><a class="code" href="rte__mbuf__dyn_8h.html#a3984617f05c58035165f4cd48e777581">rte_mbuf_dynfield_register</a>(&amp;input_dynfield_desc);</div>
<div class="line">    <span class="keywordflow">if</span> (input_dynfield_offset &lt; 0)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot register mbuf field\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* initialize ports */</span></div>
<div class="line">    ret = initialize_ports(&amp;app_params, ethdev_mbuf_mempool);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Check if all requested lcores are available */</span></div>
<div class="line">    <span class="keywordflow">for</span> (lcore_id = 0; lcore_id &lt; 8 * <span class="keyword">sizeof</span>(uint64_t); ++lcore_id)</div>
<div class="line">        <span class="keywordflow">if</span> (((1ULL &lt;&lt; lcore_id) &amp; app_params.enc_core_mask) ||</div>
<div class="line">                ((1ULL &lt;&lt; lcore_id) &amp; app_params.dec_core_mask))</div>
<div class="line">            <span class="keywordflow">if</span> (!<a name="a121"></a><a class="code" href="rte__lcore_8h.html#a5404ee6ac26cbe5a4f4ddef44d690b76">rte_lcore_is_enabled</a>(lcore_id))</div>
<div class="line">                <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                        <span class="stringliteral">&quot;Requested lcore_id %u is not enabled!\n&quot;</span>,</div>
<div class="line">                        lcore_id);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Start ethernet port */</span></div>
<div class="line">    ret = <a name="a122"></a><a class="code" href="rte__ethdev_8h.html#afdc834c1c52e9fb512301990468ca7c2">rte_eth_dev_start</a>(app_params.port_id);</div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;rte_eth_dev_start:err=%d, port=%u\n&quot;</span>,</div>
<div class="line">                ret, app_params.port_id);</div>
<div class="line"> </div>
<div class="line">    ret = check_port_link_status(app_params.port_id);</div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">        exit(EXIT_FAILURE);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* start BBDevice and save BBDev queue IDs */</span></div>
<div class="line">    enable_bbdev(&amp;app_params);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize the port/queue configuration of each logical core */</span></div>
<div class="line">    lcore_conf_init(&amp;app_params, lcore_conf, bbdev_op_pools,</div>
<div class="line">            bbdev_mbuf_mempool, enc_to_dec_ring, lcore_stats);</div>
<div class="line"> </div>
<div class="line">    stats_lcore.app_params = &amp;app_params;</div>
<div class="line">    stats_lcore.lconf = lcore_conf;</div>
<div class="line"> </div>
<div class="line">    <a name="a123"></a><a class="code" href="rte__lcore_8h.html#ac779e61584eb9d087c3e20bf2d1150c8">RTE_LCORE_FOREACH_WORKER</a>(lcore_id) {</div>
<div class="line">        <span class="keywordflow">if</span> (lcore_conf[lcore_id].core_type != 0)</div>
<div class="line">            <span class="comment">/* launch per-lcore processing loop on worker lcores */</span></div>
<div class="line">            <a name="a124"></a><a class="code" href="rte__launch_8h.html#a2bf98eda211728b3dc69aa7694758c6d">rte_eal_remote_launch</a>(processing_loop,</div>
<div class="line">                    &amp;lcore_conf[lcore_id], lcore_id);</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!stats_thread_started) {</div>
<div class="line">            <span class="comment">/* launch statistics printing loop */</span></div>
<div class="line">            <a class="code" href="rte__launch_8h.html#a2bf98eda211728b3dc69aa7694758c6d">rte_eal_remote_launch</a>(stats_loop, &amp;stats_lcore,</div>
<div class="line">                    lcore_id);</div>
<div class="line">            stats_thread_started = <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!stats_thread_started &amp;&amp;</div>
<div class="line">            lcore_conf[main_lcore_id].core_type != 0)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                <span class="stringliteral">&quot;Not enough lcores to run the statistics printing loop!&quot;</span>);</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lcore_conf[main_lcore_id].core_type != 0)</div>
<div class="line">        processing_loop(&amp;lcore_conf[main_lcore_id]);</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!stats_thread_started)</div>
<div class="line">        stats_loop(&amp;stats_lcore);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="rte__lcore_8h.html#ac779e61584eb9d087c3e20bf2d1150c8">RTE_LCORE_FOREACH_WORKER</a>(lcore_id) {</div>
<div class="line">        ret |= <a name="a125"></a><a class="code" href="rte__launch_8h.html#ae9500e1d35bd4cfb95d18c0be863cb1e">rte_eal_wait_lcore</a>(lcore_id);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<div class="ttc" id="astructrte__bbdev__op__turbo__dec_html_aa0989a013b220d77e15506e353aa1d28"><div class="ttname"><a href="structrte__bbdev__op__turbo__dec.html#aa0989a013b220d77e15506e353aa1d28">rte_bbdev_op_turbo_dec::hard_output</a></div><div class="ttdeci">struct rte_bbdev_op_data hard_output</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00336">rte_bbdev_op.h:373</a></div></div>
<div class="ttc" id="arte__bbdev_8h_html"><div class="ttname"><a href="rte__bbdev_8h.html">rte_bbdev.h</a></div></div>
<div class="ttc" id="arte__bbdev__op_8h_html_a35a82e6bdeafffb0038dc34bb5ff9889a85f6ca196ad00ffab40b765721d5cbf6"><div class="ttname"><a href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a85f6ca196ad00ffab40b765721d5cbf6">RTE_BBDEV_OP_NONE</a></div><div class="ttdeci">@ RTE_BBDEV_OP_NONE</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00736">rte_bbdev_op.h:736</a></div></div>
<div class="ttc" id="arte__bbdev__op_8h_html_a6e77422a56cbdc6439b77d14fb7404d3"><div class="ttname"><a href="rte__bbdev__op_8h.html#a6e77422a56cbdc6439b77d14fb7404d3">rte_bbdev_op_pool_create</a></div><div class="ttdeci">__rte_experimental struct rte_mempool * rte_bbdev_op_pool_create(const char *name, enum rte_bbdev_op_type type, unsigned int num_elements, unsigned int cache_size, int socket_id)</div></div>
<div class="ttc" id="arte__common_8h_html_a856650153655096752b4c2a29690a15d"><div class="ttname"><a href="rte__common_8h.html#a856650153655096752b4c2a29690a15d">RTE_ALIGN_CEIL</a></div><div class="ttdeci">#define RTE_ALIGN_CEIL(val, align)</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00304">rte_common.h:304</a></div></div>
<div class="ttc" id="arte__malloc_8h_html"><div class="ttname"><a href="rte__malloc_8h.html">rte_malloc.h</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__data_html_aebb70c2aab3407a9f05334c47131a43b"><div class="ttname"><a href="structrte__bbdev__op__data.html#aebb70c2aab3407a9f05334c47131a43b">rte_bbdev_op_data::length</a></div><div class="ttdeci">uint32_t length</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00264">rte_bbdev_op.h:264</a></div></div>
<div class="ttc" id="arte__lcore_8h_html_a5404ee6ac26cbe5a4f4ddef44d690b76"><div class="ttname"><a href="rte__lcore_8h.html#a5404ee6ac26cbe5a4f4ddef44d690b76">rte_lcore_is_enabled</a></div><div class="ttdeci">int rte_lcore_is_enabled(unsigned int lcore_id)</div></div>
<div class="ttc" id="arte__memory_8h_html"><div class="ttname"><a href="rte__memory_8h.html">rte_memory.h</a></div></div>
<div class="ttc" id="arte__branch__prediction_8h_html_ac6c45889010c1bd68631771b64f18101"><div class="ttname"><a href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a></div><div class="ttdeci">#define unlikely(x)</div><div class="ttdef"><b>Definition:</b> <a href="rte__branch__prediction_8h_source.html#l00038">rte_branch_prediction.h:38</a></div></div>
<div class="ttc" id="arte__lcore_8h_html"><div class="ttname"><a href="rte__lcore_8h.html">rte_lcore.h</a></div></div>
<div class="ttc" id="arte__bbdev__op_8h_html_a35a82e6bdeafffb0038dc34bb5ff9889a4e6b7a74546a648d6cae5f5be4b6f06c"><div class="ttname"><a href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a4e6b7a74546a648d6cae5f5be4b6f06c">RTE_BBDEV_OP_TURBO_DEC</a></div><div class="ttdeci">@ RTE_BBDEV_OP_TURBO_DEC</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00737">rte_bbdev_op.h:737</a></div></div>
<div class="ttc" id="arte__ring_8h_html_ae4dece63653850041afd5c16d3d6e052"><div class="ttname"><a href="rte__ring_8h.html#ae4dece63653850041afd5c16d3d6e052">rte_ring_create</a></div><div class="ttdeci">struct rte_ring * rte_ring_create(const char *name, unsigned int count, int socket_id, unsigned int flags)</div></div>
<div class="ttc" id="arte__lcore_8h_html_a7c8da4664df26a64cf05dc508a4f26df"><div class="ttname"><a href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a></div><div class="ttdeci">unsigned int rte_socket_id(void)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_a4834f572f4dd4e46d81ad09b7d5fffd5aada568551470d5f419cd2f3d6b6bfedc"><div class="ttname"><a href="rte__ethdev_8h.html#a4834f572f4dd4e46d81ad09b7d5fffd5aada568551470d5f419cd2f3d6b6bfedc">ETH_MQ_TX_NONE</a></div><div class="ttdeci">@ ETH_MQ_TX_NONE</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l00384">rte_ethdev.h:384</a></div></div>
<div class="ttc" id="arte__bbdev__op_8h_html_a80f550612a95abc9a6b3e7fe4e9a1f26"><div class="ttname"><a href="rte__bbdev__op_8h.html#a80f550612a95abc9a6b3e7fe4e9a1f26">rte_bbdev_dec_op_free_bulk</a></div><div class="ttdeci">static __rte_experimental void rte_bbdev_dec_op_free_bulk(struct rte_bbdev_dec_op **ops, unsigned int num_ops)</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00926">rte_bbdev_op.h:926</a></div></div>
<div class="ttc" id="arte__bbdev_8h_html_a09e024de23689af0824205792802e9e3"><div class="ttname"><a href="rte__bbdev_8h.html#a09e024de23689af0824205792802e9e3">rte_bbdev_dequeue_enc_ops</a></div><div class="ttdeci">static __rte_experimental uint16_t rte_bbdev_dequeue_enc_ops(uint16_t dev_id, uint16_t queue_id, struct rte_bbdev_enc_op **ops, uint16_t num_ops)</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev_8h_source.html#l00621">rte_bbdev.h:621</a></div></div>
<div class="ttc" id="arte__log_8h_html"><div class="ttname"><a href="rte__log_8h.html">rte_log.h</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a796c2f20778984c6f41b271e36bae50e"><div class="ttname"><a href="rte__ethdev_8h.html#a796c2f20778984c6f41b271e36bae50e">rte_eth_tx_queue_setup</a></div><div class="ttdeci">int rte_eth_tx_queue_setup(uint16_t port_id, uint16_t tx_queue_id, uint16_t nb_tx_desc, unsigned int socket_id, const struct rte_eth_txconf *tx_conf)</div></div>
<div class="ttc" id="arte__bbdev__op_8h_html_a35a82e6bdeafffb0038dc34bb5ff9889a386c7b6d4678bb05f0167a62b08bf7de"><div class="ttname"><a href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a386c7b6d4678bb05f0167a62b08bf7de">RTE_BBDEV_OP_TYPE_COUNT</a></div><div class="ttdeci">@ RTE_BBDEV_OP_TYPE_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00741">rte_bbdev_op.h:741</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a1a7d3a20b102fee222541fda50fd87bd"><div class="ttname"><a href="rte__ethdev_8h.html#a1a7d3a20b102fee222541fda50fd87bd">rte_eth_dev_configure</a></div><div class="ttdeci">int rte_eth_dev_configure(uint16_t port_id, uint16_t nb_rx_queue, uint16_t nb_tx_queue, const struct rte_eth_conf *eth_conf)</div></div>
<div class="ttc" id="arte__errno_8h_html_a129a7eb4cfa1f5bdac5783bf49137d06"><div class="ttname"><a href="rte__errno_8h.html#a129a7eb4cfa1f5bdac5783bf49137d06">rte_strerror</a></div><div class="ttdeci">const char * rte_strerror(int errnum)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_a586b8e86131b4ec0ccaf464e847ccf3ea4600ff07419327deb9b8534bc66daf19"><div class="ttname"><a href="rte__ethdev_8h.html#a586b8e86131b4ec0ccaf464e847ccf3ea4600ff07419327deb9b8534bc66daf19">ETH_MQ_RX_NONE</a></div><div class="ttdeci">@ ETH_MQ_RX_NONE</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l00352">rte_ethdev.h:352</a></div></div>
<div class="ttc" id="arte__bbdev_8h_html_a623e937648f4c54539df6d0a1f2e6b58"><div class="ttname"><a href="rte__bbdev_8h.html#a623e937648f4c54539df6d0a1f2e6b58">rte_bbdev_setup_queues</a></div><div class="ttdeci">__rte_experimental int rte_bbdev_setup_queues(uint16_t dev_id, uint16_t num_queues, int socket_id)</div></div>
<div class="ttc" id="astructrte__atomic16__t_html"><div class="ttname"><a href="structrte__atomic16__t.html">rte_atomic16_t</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__atomic_8h_source.html#l00189">rte_atomic.h:189</a></div></div>
<div class="ttc" id="astructrte__bbdev__info_html_a5eb8ce621256a14429d4bcb8410b3428"><div class="ttname"><a href="structrte__bbdev__info.html#a5eb8ce621256a14429d4bcb8410b3428">rte_bbdev_info::drv</a></div><div class="ttdeci">struct rte_bbdev_driver_info drv</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev_8h_source.html#l00333">rte_bbdev.h:334</a></div></div>
<div class="ttc" id="astructrte__bbdev__info_html"><div class="ttname"><a href="structrte__bbdev__info.html">rte_bbdev_info</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev_8h_source.html#l00328">rte_bbdev.h:328</a></div></div>
<div class="ttc" id="astructrte__eth__link_html"><div class="ttname"><a href="structrte__eth__link.html">rte_eth_link</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l00313">rte_ethdev.h:313</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__cap_html_a44d5181624b5eebf0cbf3f010ef2cdcd"><div class="ttname"><a href="structrte__bbdev__op__cap.html#a44d5181624b5eebf0cbf3f010ef2cdcd">rte_bbdev_op_cap::cap</a></div><div class="ttdeci">union rte_bbdev_op_cap::@78 cap</div></div>
<div class="ttc" id="astructrte__bbdev__enc__op_html"><div class="ttname"><a href="structrte__bbdev__enc__op.html">rte_bbdev_enc_op</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00753">rte_bbdev_op.h:753</a></div></div>
<div class="ttc" id="arte__bbdev_8h_html_aab860c77fa5cd1b0dcc590748441bedf"><div class="ttname"><a href="rte__bbdev_8h.html#aab860c77fa5cd1b0dcc590748441bedf">rte_bbdev_enqueue_enc_ops</a></div><div class="ttdeci">static __rte_experimental uint16_t rte_bbdev_enqueue_enc_ops(uint16_t dev_id, uint16_t queue_id, struct rte_bbdev_enc_op **ops, uint16_t num_ops)</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev_8h_source.html#l00495">rte_bbdev.h:495</a></div></div>
<div class="ttc" id="astructrte__eth__conf_html_a346eef99c24f617b74c440c1aa565d01"><div class="ttname"><a href="structrte__eth__conf.html#a346eef99c24f617b74c440c1aa565d01">rte_eth_conf::rxmode</a></div><div class="ttdeci">struct rte_eth_rxmode rxmode</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01294">rte_ethdev.h:1301</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__turbo__dec_html_aae4510aafdefd0d724de5b03cc210da1"><div class="ttname"><a href="structrte__bbdev__op__turbo__dec.html#aae4510aafdefd0d724de5b03cc210da1">rte_bbdev_op_turbo_dec::input</a></div><div class="ttdeci">struct rte_bbdev_op_data input</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00336">rte_bbdev_op.h:369</a></div></div>
<div class="ttc" id="arte__common_8h_html_a38e32f822bc941e90fdcbe5a9c69b178"><div class="ttname"><a href="rte__common_8h.html#a38e32f822bc941e90fdcbe5a9c69b178">__rte_cache_aligned</a></div><div class="ttdeci">#define __rte_cache_aligned</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00400">rte_common.h:400</a></div></div>
<div class="ttc" id="arte__eal_8h_html"><div class="ttname"><a href="rte__eal_8h.html">rte_eal.h</a></div></div>
<div class="ttc" id="arte__atomic_8h_html_a9272b225480a0776cb68088227fe0aff"><div class="ttname"><a href="rte__atomic_8h.html#a9272b225480a0776cb68088227fe0aff">rte_atomic16_init</a></div><div class="ttdeci">static void rte_atomic16_init(rte_atomic16_t *v)</div><div class="ttdef"><b>Definition:</b> <a href="rte__atomic_8h_source.html#l00205">rte_atomic.h:205</a></div></div>
<div class="ttc" id="astructrte__bbdev__queue__conf_html_a9808e4fc7d6caea514cc51657678e22e"><div class="ttname"><a href="structrte__bbdev__queue__conf.html#a9808e4fc7d6caea514cc51657678e22e">rte_bbdev_queue_conf::queue_size</a></div><div class="ttdeci">uint32_t queue_size</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev_8h_source.html#l00140">rte_bbdev.h:140</a></div></div>
<div class="ttc" id="astructrte__eth__rxmode_html_aa0562513c4569f1aa53050f1beac6b5d"><div class="ttname"><a href="structrte__eth__rxmode.html#aa0562513c4569f1aa53050f1beac6b5d">rte_eth_rxmode::mq_mode</a></div><div class="ttdeci">enum rte_eth_rx_mq_mode mq_mode</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l00336">rte_ethdev.h:402</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a042c83951613bf2db5d3056b967041d6"><div class="ttname"><a href="rte__ethdev_8h.html#a042c83951613bf2db5d3056b967041d6">ETH_LINK_FULL_DUPLEX</a></div><div class="ttdeci">#define ETH_LINK_FULL_DUPLEX</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l00322">rte_ethdev.h:322</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a3e7d76a451b46348686ea97d6367f102"><div class="ttname"><a href="rte__ethdev_8h.html#a3e7d76a451b46348686ea97d6367f102">rte_eth_rx_burst</a></div><div class="ttdeci">static uint16_t rte_eth_rx_burst(uint16_t port_id, uint16_t queue_id, struct rte_mbuf **rx_pkts, const uint16_t nb_pkts)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l04834">rte_ethdev.h:4834</a></div></div>
<div class="ttc" id="arte__bbdev__op_8h_html_a2f8d8bc9d43322c48933299dd350b7d3"><div class="ttname"><a href="rte__bbdev__op_8h.html#a2f8d8bc9d43322c48933299dd350b7d3">rte_bbdev_dec_op_alloc_bulk</a></div><div class="ttdeci">static __rte_experimental int rte_bbdev_dec_op_alloc_bulk(struct rte_mempool *mempool, struct rte_bbdev_dec_op **ops, uint16_t num_ops)</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00893">rte_bbdev_op.h:893</a></div></div>
<div class="ttc" id="arte__memcpy_8h_html_a09f4d8cdb1a7c25398a363906e1db8cd"><div class="ttname"><a href="rte__memcpy_8h.html#a09f4d8cdb1a7c25398a363906e1db8cd">rte_memcpy</a></div><div class="ttdeci">static void * rte_memcpy(void *dst, const void *src, size_t n)</div></div>
<div class="ttc" id="astructrte__bbdev__op__turbo__enc_html"><div class="ttname"><a href="structrte__bbdev__op__turbo__enc.html">rte_bbdev_op_turbo_enc</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00608">rte_bbdev_op.h:608</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__data_html_a894bdfa2d603d8343f8ef01dda6fcd23"><div class="ttname"><a href="structrte__bbdev__op__data.html#a894bdfa2d603d8343f8ef01dda6fcd23">rte_bbdev_op_data::offset</a></div><div class="ttdeci">uint32_t offset</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00251">rte_bbdev_op.h:251</a></div></div>
<div class="ttc" id="arte__ether_8h_html"><div class="ttname"><a href="rte__ether_8h.html">rte_ether.h</a></div></div>
<div class="ttc" id="astructrte__mbuf_html"><div class="ttname"><a href="structrte__mbuf.html">rte_mbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__core_8h_source.html#l00473">rte_mbuf_core.h:473</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_ad1263899f41301923c483c3b4ce0486f"><div class="ttname"><a href="rte__ethdev_8h.html#ad1263899f41301923c483c3b4ce0486f">rte_eth_link_get_nowait</a></div><div class="ttdeci">int rte_eth_link_get_nowait(uint16_t port_id, struct rte_eth_link *link)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_a300d75b583c1f5acfe5b162a5d8c0ac1"><div class="ttname"><a href="rte__ethdev_8h.html#a300d75b583c1f5acfe5b162a5d8c0ac1">rte_eth_xstats_get</a></div><div class="ttdeci">int rte_eth_xstats_get(uint16_t port_id, struct rte_eth_xstat *xstats, unsigned int n)</div></div>
<div class="ttc" id="astructrte__bbdev__queue__conf_html"><div class="ttname"><a href="structrte__bbdev__queue__conf.html">rte_bbdev_queue_conf</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev_8h_source.html#l00138">rte_bbdev.h:138</a></div></div>
<div class="ttc" id="arte__mbuf__dyn_8h_html"><div class="ttname"><a href="rte__mbuf__dyn_8h.html">rte_mbuf_dyn.h</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a5dd1dedaa45f05c72bcc35495e441e91"><div class="ttname"><a href="rte__ethdev_8h.html#a5dd1dedaa45f05c72bcc35495e441e91">rte_eth_promiscuous_enable</a></div><div class="ttdeci">int rte_eth_promiscuous_enable(uint16_t port_id)</div></div>
<div class="ttc" id="arte__atomic_8h_html"><div class="ttname"><a href="rte__atomic_8h.html">rte_atomic.h</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a22dcfd3f5f2b34f657131d66132e23a7"><div class="ttname"><a href="rte__ethdev_8h.html#a22dcfd3f5f2b34f657131d66132e23a7">rte_eth_dev_is_valid_port</a></div><div class="ttdeci">int rte_eth_dev_is_valid_port(uint16_t port_id)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_a8a28375b279ded9125c99a46bf3956ef"><div class="ttname"><a href="rte__ethdev_8h.html#a8a28375b279ded9125c99a46bf3956ef">rte_eth_macaddr_get</a></div><div class="ttdeci">int rte_eth_macaddr_get(uint16_t port_id, struct rte_ether_addr *mac_addr)</div></div>
<div class="ttc" id="arte__mbuf_8h_html_afc84d82d50361f568dd1d3a0e95d4aa4"><div class="ttname"><a href="rte__mbuf_8h.html#afc84d82d50361f568dd1d3a0e95d4aa4">rte_pktmbuf_reset</a></div><div class="ttdeci">static void rte_pktmbuf_reset(struct rte_mbuf *m)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf_8h_source.html#l00861">rte_mbuf.h:861</a></div></div>
<div class="ttc" id="arte__mbuf_8h_html_abe1bed439015acec170d1342e8dabb3b"><div class="ttname"><a href="rte__mbuf_8h.html#abe1bed439015acec170d1342e8dabb3b">rte_pktmbuf_trim</a></div><div class="ttdeci">static int rte_pktmbuf_trim(struct rte_mbuf *m, uint16_t len)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf_8h_source.html#l01666">rte_mbuf.h:1666</a></div></div>
<div class="ttc" id="arte__common_8h_html_ac5169870c983b3463cb226bdb8a94880"><div class="ttname"><a href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a></div><div class="ttdeci">__rte_noreturn void rte_exit(int exit_code, const char *format,...) __rte_format_printf(2</div></div>
<div class="ttc" id="astructrte__mbuf__dynfield_html_af0eef0d99d09298d94b2e9937b7a498a"><div class="ttname"><a href="structrte__mbuf__dynfield.html#af0eef0d99d09298d94b2e9937b7a498a">rte_mbuf_dynfield::name</a></div><div class="ttdeci">char name[RTE_MBUF_DYN_NAMESIZE]</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__dyn_8h_source.html#l00079">rte_mbuf_dyn.h:79</a></div></div>
<div class="ttc" id="arte__mbuf__core_8h_html_ad63e1de0ec54d7c7603ea984c76ca956"><div class="ttname"><a href="rte__mbuf__core_8h.html#ad63e1de0ec54d7c7603ea984c76ca956">rte_pktmbuf_mtod_offset</a></div><div class="ttdeci">#define rte_pktmbuf_mtod_offset(m, t, o)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__core_8h_source.html#l00711">rte_mbuf_core.h:711</a></div></div>
<div class="ttc" id="astructrte__bbdev__info_html_a229cb0bd24215f0cb940e0724dbd4d55"><div class="ttname"><a href="structrte__bbdev__info.html#a229cb0bd24215f0cb940e0724dbd4d55">rte_bbdev_info::socket_id</a></div><div class="ttdeci">int socket_id</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev_8h_source.html#l00329">rte_bbdev.h:329</a></div></div>
<div class="ttc" id="arte__ip_8h_html"><div class="ttname"><a href="rte__ip_8h.html">rte_ip.h</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a83e56cabbd31637efd648e3fc010392b"><div class="ttname"><a href="rte__ethdev_8h.html#a83e56cabbd31637efd648e3fc010392b">rte_eth_tx_burst</a></div><div class="ttdeci">static uint16_t rte_eth_tx_burst(uint16_t port_id, uint16_t queue_id, struct rte_mbuf **tx_pkts, uint16_t nb_pkts)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l05112">rte_ethdev.h:5112</a></div></div>
<div class="ttc" id="arte__ring__core_8h_html_a127c66adbeab4653a47649993b94f35b"><div class="ttname"><a href="rte__ring__core_8h.html#a127c66adbeab4653a47649993b94f35b">RING_F_SP_ENQ</a></div><div class="ttdeci">#define RING_F_SP_ENQ</div><div class="ttdef"><b>Definition:</b> <a href="rte__ring__core_8h_source.html#l00161">rte_ring_core.h:161</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__turbo__dec_html"><div class="ttname"><a href="structrte__bbdev__op__turbo__dec.html">rte_bbdev_op_turbo_dec</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00367">rte_bbdev_op.h:367</a></div></div>
<div class="ttc" id="arte__common_8h_html_a5a85fd1038be9376de166494057e6aa1"><div class="ttname"><a href="rte__common_8h.html#a5a85fd1038be9376de166494057e6aa1">rte_align32pow2</a></div><div class="ttdeci">static uint32_t rte_align32pow2(uint32_t x)</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00508">rte_common.h:508</a></div></div>
<div class="ttc" id="astructrte__ring_html"><div class="ttname"><a href="structrte__ring.html">rte_ring</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ring__core_8h_source.html#l00123">rte_ring_core.h:123</a></div></div>
<div class="ttc" id="arte__cycles_8h_html"><div class="ttname"><a href="rte__cycles_8h.html">rte_cycles.h</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__turbo__enc_html_ab57e28ab010377b20bd238f91aaeb2ea"><div class="ttname"><a href="structrte__bbdev__op__turbo__enc.html#ab57e28ab010377b20bd238f91aaeb2ea">rte_bbdev_op_turbo_enc::rv_index</a></div><div class="ttdeci">uint8_t rv_index</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00617">rte_bbdev_op.h:617</a></div></div>
<div class="ttc" id="astructrte__mbuf__dynfield_html"><div class="ttname"><a href="structrte__mbuf__dynfield.html">rte_mbuf_dynfield</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__dyn_8h_source.html#l00078">rte_mbuf_dyn.h:78</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a418ad970673eb171673185e36044fd79"><div class="ttname"><a href="rte__ethdev_8h.html#a418ad970673eb171673185e36044fd79">rte_eth_xstats_get_names</a></div><div class="ttdeci">int rte_eth_xstats_get_names(uint16_t port_id, struct rte_eth_xstat_name *xstats_names, unsigned int size)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_ade8a6c56c3b7c65fa4cabf1d1106fdc7"><div class="ttname"><a href="rte__ethdev_8h.html#ade8a6c56c3b7c65fa4cabf1d1106fdc7">rte_eth_link_speed_to_str</a></div><div class="ttdeci">__rte_experimental const char * rte_eth_link_speed_to_str(uint32_t link_speed)</div></div>
<div class="ttc" id="arte__bbdev__op_8h_html_a526f0e30660a4b519c25d44f73c30f1dab50956101d94eba1814eb94d002349d2"><div class="ttname"><a href="rte__bbdev__op_8h.html#a526f0e30660a4b519c25d44f73c30f1dab50956101d94eba1814eb94d002349d2">RTE_BBDEV_TURBO_NEG_LLR_1_BIT_IN</a></div><div class="ttdeci">@ RTE_BBDEV_TURBO_NEG_LLR_1_BIT_IN</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00091">rte_bbdev_op.h:91</a></div></div>
<div class="ttc" id="astructrte__bbdev__dec__op_html"><div class="ttname"><a href="structrte__bbdev__dec__op.html">rte_bbdev_dec_op</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00769">rte_bbdev_op.h:769</a></div></div>
<div class="ttc" id="arte__mbuf_8h_html_ad5b0cd686ad3bcbb83416ca8395a080b"><div class="ttname"><a href="rte__mbuf_8h.html#ad5b0cd686ad3bcbb83416ca8395a080b">rte_pktmbuf_append</a></div><div class="ttdeci">static char * rte_pktmbuf_append(struct rte_mbuf *m, uint16_t len)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf_8h_source.html#l01605">rte_mbuf.h:1605</a></div></div>
<div class="ttc" id="arte__mbuf__core_8h_html_a2a8b10263496c7b580e9d0c7f2a1f073"><div class="ttname"><a href="rte__mbuf__core_8h.html#a2a8b10263496c7b580e9d0c7f2a1f073">rte_pktmbuf_mtod</a></div><div class="ttdeci">#define rte_pktmbuf_mtod(m, t)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__core_8h_source.html#l00726">rte_mbuf_core.h:726</a></div></div>
<div class="ttc" id="arte__bbdev__op_8h_html_a5b23763ae981d1311759a64d1f66cc16"><div class="ttname"><a href="rte__bbdev__op_8h.html#a5b23763ae981d1311759a64d1f66cc16">rte_bbdev_enc_op_alloc_bulk</a></div><div class="ttdeci">static __rte_experimental int rte_bbdev_enc_op_alloc_bulk(struct rte_mempool *mempool, struct rte_bbdev_enc_op **ops, uint16_t num_ops)</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00856">rte_bbdev_op.h:856</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_afdc834c1c52e9fb512301990468ca7c2"><div class="ttname"><a href="rte__ethdev_8h.html#afdc834c1c52e9fb512301990468ca7c2">rte_eth_dev_start</a></div><div class="ttdeci">int rte_eth_dev_start(uint16_t port_id)</div></div>
<div class="ttc" id="astructrte__bbdev__op__data_html_a66d43788ee916713d9ad62997d92e6b3"><div class="ttname"><a href="structrte__bbdev__op__data.html#a66d43788ee916713d9ad62997d92e6b3">rte_bbdev_op_data::data</a></div><div class="ttdeci">struct rte_mbuf * data</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00243">rte_bbdev_op.h:243</a></div></div>
<div class="ttc" id="arte__bbdev__op_8h_html"><div class="ttname"><a href="rte__bbdev__op_8h.html">rte_bbdev_op.h</a></div></div>
<div class="ttc" id="astructrte__bbdev__queue__conf_html_a3666576f6b88007cc7b8f26c7da596c8"><div class="ttname"><a href="structrte__bbdev__queue__conf.html#a3666576f6b88007cc7b8f26c7da596c8">rte_bbdev_queue_conf::socket</a></div><div class="ttdeci">int socket</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev_8h_source.html#l00139">rte_bbdev.h:139</a></div></div>
<div class="ttc" id="astructrte__ether__hdr_html"><div class="ttname"><a href="structrte__ether__hdr.html">rte_ether_hdr</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ether_8h_source.html#l00264">rte_ether.h:264</a></div></div>
<div class="ttc" id="arte__bbdev_8h_html_a68431704ff25eafa914c20da694f1c1c"><div class="ttname"><a href="rte__bbdev_8h.html#a68431704ff25eafa914c20da694f1c1c">rte_bbdev_enqueue_dec_ops</a></div><div class="ttdeci">static __rte_experimental uint16_t rte_bbdev_enqueue_dec_ops(uint16_t dev_id, uint16_t queue_id, struct rte_bbdev_dec_op **ops, uint16_t num_ops)</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev_8h_source.html#l00526">rte_bbdev.h:526</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__turbo__dec_html_ae21d944c29997c20293f403244ff41dc"><div class="ttname"><a href="structrte__bbdev__op__turbo__dec.html#ae21d944c29997c20293f403244ff41dc">rte_bbdev_op_turbo_dec::op_flags</a></div><div class="ttdeci">uint32_t op_flags</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00378">rte_bbdev_op.h:378</a></div></div>
<div class="ttc" id="arte__common_8h_html"><div class="ttname"><a href="rte__common_8h.html">rte_common.h</a></div></div>
<div class="ttc" id="arte__ring_8h_html_a9dd35643c4cdc6fa00ece3cafbcd94d2"><div class="ttname"><a href="rte__ring_8h.html#a9dd35643c4cdc6fa00ece3cafbcd94d2">rte_ring_dequeue_burst</a></div><div class="ttdeci">static __rte_always_inline unsigned int rte_ring_dequeue_burst(struct rte_ring *r, void **obj_table, unsigned int n, unsigned int *available)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ring_8h_source.html#l00798">rte_ring.h:798</a></div></div>
<div class="ttc" id="arte__bbdev_8h_html_a34d49972bdea770c7c223731c7652835"><div class="ttname"><a href="rte__bbdev_8h.html#a34d49972bdea770c7c223731c7652835">rte_bbdev_count</a></div><div class="ttdeci">__rte_experimental uint16_t rte_bbdev_count(void)</div></div>
<div class="ttc" id="astructrte__bbdev__op__turbo__enc_html_ae21d944c29997c20293f403244ff41dc"><div class="ttname"><a href="structrte__bbdev__op__turbo__enc.html#ae21d944c29997c20293f403244ff41dc">rte_bbdev_op_turbo_enc::op_flags</a></div><div class="ttdeci">uint32_t op_flags</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00614">rte_bbdev_op.h:614</a></div></div>
<div class="ttc" id="arte__launch_8h_html_a2bf98eda211728b3dc69aa7694758c6d"><div class="ttname"><a href="rte__launch_8h.html#a2bf98eda211728b3dc69aa7694758c6d">rte_eal_remote_launch</a></div><div class="ttdeci">int rte_eal_remote_launch(lcore_function_t *f, void *arg, unsigned worker_id)</div></div>
<div class="ttc" id="astructrte__bbdev__op__turbo__enc_html_a63756ebd6b9a87351066d5d1dae39569"><div class="ttname"><a href="structrte__bbdev__op__turbo__enc.html#a63756ebd6b9a87351066d5d1dae39569">rte_bbdev_op_turbo_enc::output</a></div><div class="ttdeci">struct rte_bbdev_op_data output</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00586">rte_bbdev_op.h:612</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__turbo__dec_html_a6b198e601f5aadc6d3e5f412e90f93d0"><div class="ttname"><a href="structrte__bbdev__op__turbo__dec.html#a6b198e601f5aadc6d3e5f412e90f93d0">rte_bbdev_op_turbo_dec::cb_params</a></div><div class="ttdeci">struct rte_bbdev_op_dec_turbo_cb_params cb_params</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00402">rte_bbdev_op.h:405</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__turbo__enc_html_aff744a8d7158e1a4efcd4ed018e7ed4d"><div class="ttname"><a href="structrte__bbdev__op__turbo__enc.html#aff744a8d7158e1a4efcd4ed018e7ed4d">rte_bbdev_op_turbo_enc::cb_params</a></div><div class="ttdeci">struct rte_bbdev_op_enc_turbo_cb_params cb_params</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00619">rte_bbdev_op.h:622</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__cap_html_ac9c26b2e42890281a10a88ea2bcd7bf0"><div class="ttname"><a href="structrte__bbdev__op__cap.html#ac9c26b2e42890281a10a88ea2bcd7bf0">rte_bbdev_op_cap::type</a></div><div class="ttdeci">enum rte_bbdev_op_type type</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00775">rte_bbdev_op.h:786</a></div></div>
<div class="ttc" id="arte__bbdev_8h_html_a2082859a085d3bbe939e446fc3f98271"><div class="ttname"><a href="rte__bbdev_8h.html#a2082859a085d3bbe939e446fc3f98271">rte_bbdev_start</a></div><div class="ttdeci">__rte_experimental int rte_bbdev_start(uint16_t dev_id)</div></div>
<div class="ttc" id="arte__eal_8h_html_a5c3f4dddc25e38c5a186ecd8a69260e3"><div class="ttname"><a href="rte__eal_8h.html#a5c3f4dddc25e38c5a186ecd8a69260e3">rte_eal_init</a></div><div class="ttdeci">int rte_eal_init(int argc, char **argv)</div></div>
<div class="ttc" id="astructrte__mempool_html"><div class="ttname"><a href="structrte__mempool.html">rte_mempool</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__mempool_8h_source.html#l00207">rte_mempool.h:207</a></div></div>
<div class="ttc" id="arte__mbuf_8h_html_a593921f13307803b94bbb4e0932db962"><div class="ttname"><a href="rte__mbuf_8h.html#a593921f13307803b94bbb4e0932db962">rte_pktmbuf_pool_create</a></div><div class="ttdeci">struct rte_mempool * rte_pktmbuf_pool_create(const char *name, unsigned n, unsigned cache_size, uint16_t priv_size, uint16_t data_room_size, int socket_id)</div></div>
<div class="ttc" id="arte__bbdev__op_8h_html_a830c2d6335223123f1081f78ab56ebcbac5df62b0055834480e616e6b6e6bc141"><div class="ttname"><a href="rte__bbdev__op_8h.html#a830c2d6335223123f1081f78ab56ebcbac5df62b0055834480e616e6b6e6bc141">RTE_BBDEV_TURBO_CRC_24A_ATTACH</a></div><div class="ttdeci">@ RTE_BBDEV_TURBO_CRC_24A_ATTACH</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00130">rte_bbdev_op.h:130</a></div></div>
<div class="ttc" id="arte__bbdev_8h_html_af24d9072b98e2d987387123e222c41c8"><div class="ttname"><a href="rte__bbdev_8h.html#af24d9072b98e2d987387123e222c41c8">rte_bbdev_stats_get</a></div><div class="ttdeci">__rte_experimental int rte_bbdev_stats_get(uint16_t dev_id, struct rte_bbdev_stats *stats)</div></div>
<div class="ttc" id="arte__common_8h_html_aaedd6d14e7370916fee58e0f69d8c37a"><div class="ttname"><a href="rte__common_8h.html#aaedd6d14e7370916fee58e0f69d8c37a">RTE_SET_USED</a></div><div class="ttdeci">#define RTE_SET_USED(x)</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00131">rte_common.h:131</a></div></div>
<div class="ttc" id="arte__lcore_8h_html_a5449c6ee062fe3641520374152ce6c67"><div class="ttname"><a href="rte__lcore_8h.html#a5449c6ee062fe3641520374152ce6c67">rte_get_main_lcore</a></div><div class="ttdeci">unsigned int rte_get_main_lcore(void)</div></div>
<div class="ttc" id="arte__mbuf_8h_html_a1215458932900b7cd5192326fa4a6902"><div class="ttname"><a href="rte__mbuf_8h.html#a1215458932900b7cd5192326fa4a6902">rte_pktmbuf_free</a></div><div class="ttdeci">static void rte_pktmbuf_free(struct rte_mbuf *m)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf_8h_source.html#l01397">rte_mbuf.h:1397</a></div></div>
<div class="ttc" id="arte__bbdev__op_8h_html_abfd321a3a3054f00e1c502c57a25e673"><div class="ttname"><a href="rte__bbdev__op_8h.html#abfd321a3a3054f00e1c502c57a25e673">rte_bbdev_enc_op_free_bulk</a></div><div class="ttdeci">static __rte_experimental void rte_bbdev_enc_op_free_bulk(struct rte_bbdev_enc_op **ops, unsigned int num_ops)</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00944">rte_bbdev_op.h:944</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__turbo__dec_html_a583b6033e11870c84f9129d99baddaf5"><div class="ttname"><a href="structrte__bbdev__op__turbo__dec.html#a583b6033e11870c84f9129d99baddaf5">rte_bbdev_op_turbo_dec::code_block_mode</a></div><div class="ttdeci">uint8_t code_block_mode</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00402">rte_bbdev_op.h:402</a></div></div>
<div class="ttc" id="arte__lcore_8h_html_ac779e61584eb9d087c3e20bf2d1150c8"><div class="ttname"><a href="rte__lcore_8h.html#ac779e61584eb9d087c3e20bf2d1150c8">RTE_LCORE_FOREACH_WORKER</a></div><div class="ttdeci">#define RTE_LCORE_FOREACH_WORKER(i)</div><div class="ttdef"><b>Definition:</b> <a href="rte__lcore_8h_source.html#l00239">rte_lcore.h:239</a></div></div>
<div class="ttc" id="arte__mempool_8h_html_a0d326354d53ef5068d86a8b7d9ec2d61"><div class="ttname"><a href="rte__mempool_8h.html#a0d326354d53ef5068d86a8b7d9ec2d61">rte_mempool_get_bulk</a></div><div class="ttdeci">static __rte_always_inline int rte_mempool_get_bulk(struct rte_mempool *mp, void **obj_table, unsigned int n)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mempool_8h_source.html#l01521">rte_mempool.h:1521</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a36ba70a5a6fce2c2c1f774828ba78f8d"><div class="ttname"><a href="rte__ethdev_8h.html#a36ba70a5a6fce2c2c1f774828ba78f8d">rte_eth_rx_queue_setup</a></div><div class="ttdeci">int rte_eth_rx_queue_setup(uint16_t port_id, uint16_t rx_queue_id, uint16_t nb_rx_desc, unsigned int socket_id, const struct rte_eth_rxconf *rx_conf, struct rte_mempool *mb_pool)</div></div>
<div class="ttc" id="arte__mempool_8h_html"><div class="ttname"><a href="rte__mempool_8h.html">rte_mempool.h</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html"><div class="ttname"><a href="rte__ethdev_8h.html">rte_ethdev.h</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__dec__turbo__cb__params_html_a0a079030ddf01045984049d505b8cf78"><div class="ttname"><a href="structrte__bbdev__op__dec__turbo__cb__params.html#a0a079030ddf01045984049d505b8cf78">rte_bbdev_op_dec_turbo_cb_params::k</a></div><div class="ttdeci">uint16_t k</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00274">rte_bbdev_op.h:274</a></div></div>
<div class="ttc" id="arte__mbuf__dyn_8h_html_ae3519e5885e62b3f99fa275b238418a5"><div class="ttname"><a href="rte__mbuf__dyn_8h.html#ae3519e5885e62b3f99fa275b238418a5">RTE_MBUF_DYNFIELD</a></div><div class="ttdeci">#define RTE_MBUF_DYNFIELD(m, offset, type)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__dyn_8h_source.html#l00226">rte_mbuf_dyn.h:226</a></div></div>
<div class="ttc" id="arte__atomic_8h_html_abf8058eb8021112818597b328c58abbc"><div class="ttname"><a href="rte__atomic_8h.html#abf8058eb8021112818597b328c58abbc">rte_atomic16_read</a></div><div class="ttdeci">static int16_t rte_atomic16_read(const rte_atomic16_t *v)</div><div class="ttdef"><b>Definition:</b> <a href="rte__atomic_8h_source.html#l00219">rte_atomic.h:219</a></div></div>
<div class="ttc" id="astructrte__bbdev__stats_html"><div class="ttname"><a href="structrte__bbdev__stats.html">rte_bbdev_stats</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev_8h_source.html#l00246">rte_bbdev.h:246</a></div></div>
<div class="ttc" id="arte__mbuf_8h_html"><div class="ttname"><a href="rte__mbuf_8h.html">rte_mbuf.h</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__cap__turbo__dec_html_a6eac06fa8e313fd5f944c68bf1e59d37"><div class="ttname"><a href="structrte__bbdev__op__cap__turbo__dec.html#a6eac06fa8e313fd5f944c68bf1e59d37">rte_bbdev_op_cap_turbo_dec::capability_flags</a></div><div class="ttdeci">uint32_t capability_flags</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00685">rte_bbdev_op.h:685</a></div></div>
<div class="ttc" id="astructrte__bbdev__enc__op_html_ade5f0f28c1910337edb082a84411b6f9"><div class="ttname"><a href="structrte__bbdev__enc__op.html#ade5f0f28c1910337edb082a84411b6f9">rte_bbdev_enc_op::turbo_enc</a></div><div class="ttdeci">struct rte_bbdev_op_turbo_enc turbo_enc</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00759">rte_bbdev_op.h:762</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__turbo__enc_html_aae4510aafdefd0d724de5b03cc210da1"><div class="ttname"><a href="structrte__bbdev__op__turbo__enc.html#aae4510aafdefd0d724de5b03cc210da1">rte_bbdev_op_turbo_enc::input</a></div><div class="ttdeci">struct rte_bbdev_op_data input</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00586">rte_bbdev_op.h:610</a></div></div>
<div class="ttc" id="arte__mbuf__dyn_8h_html_a3984617f05c58035165f4cd48e777581"><div class="ttname"><a href="rte__mbuf__dyn_8h.html#a3984617f05c58035165f4cd48e777581">rte_mbuf_dynfield_register</a></div><div class="ttdeci">__rte_experimental int rte_mbuf_dynfield_register(const struct rte_mbuf_dynfield *params)</div></div>
<div class="ttc" id="arte__bbdev_8h_html_a5b3e166b35448bb139d0328f44e2c61d"><div class="ttname"><a href="rte__bbdev_8h.html#a5b3e166b35448bb139d0328f44e2c61d">rte_bbdev_info_get</a></div><div class="ttdeci">__rte_experimental int rte_bbdev_info_get(uint16_t dev_id, struct rte_bbdev_info *dev_info)</div></div>
<div class="ttc" id="arte__ring__core_8h_html_a421a61b2f94cdf65b3a6ac146c492fb9"><div class="ttname"><a href="rte__ring__core_8h.html#a421a61b2f94cdf65b3a6ac146c492fb9">RING_F_SC_DEQ</a></div><div class="ttdeci">#define RING_F_SC_DEQ</div><div class="ttdef"><b>Definition:</b> <a href="rte__ring__core_8h_source.html#l00162">rte_ring_core.h:162</a></div></div>
<div class="ttc" id="astructrte__bbdev__driver__info_html_abe1523aac231432864d4e3d4c0653217"><div class="ttname"><a href="structrte__bbdev__driver__info.html#abe1523aac231432864d4e3d4c0653217">rte_bbdev_driver_info::queue_size_lim</a></div><div class="ttdeci">uint32_t queue_size_lim</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev_8h_source.html#l00299">rte_bbdev.h:299</a></div></div>
<div class="ttc" id="arte__mbuf_8h_html_a2a1e1b30162161ed11d3ba2faf7bbf13"><div class="ttname"><a href="rte__mbuf_8h.html#a2a1e1b30162161ed11d3ba2faf7bbf13">rte_pktmbuf_data_len</a></div><div class="ttdeci">#define rte_pktmbuf_data_len(m)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf_8h_source.html#l01555">rte_mbuf.h:1555</a></div></div>
<div class="ttc" id="astructrte__bbdev__queue__conf_html_a4f10d8852ba0301b8728f11caf3a6ff1"><div class="ttname"><a href="structrte__bbdev__queue__conf.html#a4f10d8852ba0301b8728f11caf3a6ff1">rte_bbdev_queue_conf::op_type</a></div><div class="ttdeci">enum rte_bbdev_op_type op_type</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev_8h_source.html#l00142">rte_bbdev.h:143</a></div></div>
<div class="ttc" id="arte__bbdev__op_8h_html_a35a82e6bdeafffb0038dc34bb5ff9889a726fc8d3992a0b722e577b36cc74a58d"><div class="ttname"><a href="rte__bbdev__op_8h.html#a35a82e6bdeafffb0038dc34bb5ff9889a726fc8d3992a0b722e577b36cc74a58d">RTE_BBDEV_OP_TURBO_ENC</a></div><div class="ttdeci">@ RTE_BBDEV_OP_TURBO_ENC</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00738">rte_bbdev_op.h:738</a></div></div>
<div class="ttc" id="astructrte__ether__addr_html"><div class="ttname"><a href="structrte__ether__addr.html">rte_ether_addr</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ether_8h_source.html#l00064">rte_ether.h:64</a></div></div>
<div class="ttc" id="astructrte__eth__conf_html"><div class="ttname"><a href="structrte__eth__conf.html">rte_eth_conf</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01293">rte_ethdev.h:1293</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_ad032e25f712e6ffeb0c19eab1ec1fd2e"><div class="ttname"><a href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a></div><div class="ttdeci">int rte_eth_dev_socket_id(uint16_t port_id)</div></div>
<div class="ttc" id="astructrte__eth__xstat__name_html"><div class="ttname"><a href="structrte__eth__xstat__name.html">rte_eth_xstat_name</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01636">rte_ethdev.h:1636</a></div></div>
<div class="ttc" id="astructrte__eth__xstat_html"><div class="ttname"><a href="structrte__eth__xstat.html">rte_eth_xstat</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01617">rte_ethdev.h:1617</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__cap__turbo__enc_html_a6eac06fa8e313fd5f944c68bf1e59d37"><div class="ttname"><a href="structrte__bbdev__op__cap__turbo__enc.html#a6eac06fa8e313fd5f944c68bf1e59d37">rte_bbdev_op_cap_turbo_enc::capability_flags</a></div><div class="ttdeci">uint32_t capability_flags</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00701">rte_bbdev_op.h:701</a></div></div>
<div class="ttc" id="astructrte__bbdev__op__cap_html"><div class="ttname"><a href="structrte__bbdev__op__cap.html">rte_bbdev_op_cap</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00785">rte_bbdev_op.h:785</a></div></div>
<div class="ttc" id="arte__bbdev_8h_html_a3058136163aeb9f4f7b08e9393d0b44a"><div class="ttname"><a href="rte__bbdev_8h.html#a3058136163aeb9f4f7b08e9393d0b44a">rte_bbdev_queue_configure</a></div><div class="ttdeci">__rte_experimental int rte_bbdev_queue_configure(uint16_t dev_id, uint16_t queue_id, const struct rte_bbdev_queue_conf *conf)</div></div>
<div class="ttc" id="astructrte__bbdev__dec__op_html_a25f54cfa3e1072eaab86c33c5673daa6"><div class="ttname"><a href="structrte__bbdev__dec__op.html#a25f54cfa3e1072eaab86c33c5673daa6">rte_bbdev_dec_op::turbo_dec</a></div><div class="ttdeci">struct rte_bbdev_op_turbo_dec turbo_dec</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00775">rte_bbdev_op.h:778</a></div></div>
<div class="ttc" id="arte__bbdev_8h_html_af8762149adde87a41b4dc7e990f6920b"><div class="ttname"><a href="rte__bbdev_8h.html#af8762149adde87a41b4dc7e990f6920b">rte_bbdev_dequeue_dec_ops</a></div><div class="ttdeci">static __rte_experimental uint16_t rte_bbdev_dequeue_dec_ops(uint16_t dev_id, uint16_t queue_id, struct rte_bbdev_dec_op **ops, uint16_t num_ops)</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev_8h_source.html#l00654">rte_bbdev.h:654</a></div></div>
<div class="ttc" id="arte__ring_8h_html_a85ad08ed07e2e485c94466e03bf252c4"><div class="ttname"><a href="rte__ring_8h.html#a85ad08ed07e2e485c94466e03bf252c4">rte_ring_enqueue_burst</a></div><div class="ttdeci">static __rte_always_inline unsigned int rte_ring_enqueue_burst(struct rte_ring *r, void *const *obj_table, unsigned int n, unsigned int *free_space)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ring_8h_source.html#l00718">rte_ring.h:718</a></div></div>
<div class="ttc" id="arte__cycles_8h_html_af73b844d50b98de74b1a0e1730262f85"><div class="ttname"><a href="rte__cycles_8h.html#af73b844d50b98de74b1a0e1730262f85">rte_delay_ms</a></div><div class="ttdeci">static void rte_delay_ms(unsigned ms)</div><div class="ttdef"><b>Definition:</b> <a href="rte__cycles_8h_source.html#l00148">rte_cycles.h:148</a></div></div>
<div class="ttc" id="arte__ether_8h_html_af1fb088707ce5b2ebb7825cb69b5cb58"><div class="ttname"><a href="rte__ether_8h.html#af1fb088707ce5b2ebb7825cb69b5cb58">RTE_ETHER_MAX_LEN</a></div><div class="ttdeci">#define RTE_ETHER_MAX_LEN</div><div class="ttdef"><b>Definition:</b> <a href="rte__ether_8h_source.html#l00037">rte_ether.h:37</a></div></div>
<div class="ttc" id="arte__atomic_8h_html_a5705c61f4f064c620634cd9bbd4f6fb5"><div class="ttname"><a href="rte__atomic_8h.html#a5705c61f4f064c620634cd9bbd4f6fb5">rte_atomic16_set</a></div><div class="ttdeci">static void rte_atomic16_set(rte_atomic16_t *v, int16_t new_value)</div><div class="ttdef"><b>Definition:</b> <a href="rte__atomic_8h_source.html#l00233">rte_atomic.h:233</a></div></div>
<div class="ttc" id="astructrte__ether__addr_html_ad6f7cb65b39d12b5250ecf82c8ffaa45"><div class="ttname"><a href="structrte__ether__addr.html#ad6f7cb65b39d12b5250ecf82c8ffaa45">rte_ether_addr::addr_bytes</a></div><div class="ttdeci">uint8_t addr_bytes[RTE_ETHER_ADDR_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="rte__ether_8h_source.html#l00065">rte_ether.h:65</a></div></div>
<div class="ttc" id="arte__launch_8h_html_ae9500e1d35bd4cfb95d18c0be863cb1e"><div class="ttname"><a href="rte__launch_8h.html#ae9500e1d35bd4cfb95d18c0be863cb1e">rte_eal_wait_lcore</a></div><div class="ttdeci">int rte_eal_wait_lcore(unsigned worker_id)</div></div>
<div class="ttc" id="astructrte__bbdev__op__enc__turbo__cb__params_html_a0a079030ddf01045984049d505b8cf78"><div class="ttname"><a href="structrte__bbdev__op__enc__turbo__cb__params.html#a0a079030ddf01045984049d505b8cf78">rte_bbdev_op_enc_turbo_cb_params::k</a></div><div class="ttdeci">uint16_t k</div><div class="ttdef"><b>Definition:</b> <a href="rte__bbdev__op_8h_source.html#l00508">rte_bbdev_op.h:508</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
