<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: lib/librte_eal/include/rte_service.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_605c07ae6e02b3d13cc3bf92b6c5e54b.html">librte_eal</a></li><li class="navelem"><a class="el" href="dir_53ac78163efee0ea92d7cd5087265064.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_service.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;sys/queue.h&gt;</code><br />
<code>#include &lt;rte_config.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__lcore_8h_source.html">rte_lcore.h</a>&gt;</code><br />
</div>
<p><a href="rte__service_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2ca96041c56a1c8f4319d67d533a76c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a2ca96041c56a1c8f4319d67d533a76c2">RTE_SERVICE_CAP_MT_SAFE</a>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:a2ca96041c56a1c8f4319d67d533a76c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1486dce8ab116222ff9b0de03bf96cf8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a1486dce8ab116222ff9b0de03bf96cf8">RTE_SERVICE_ATTR_CYCLES</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a1486dce8ab116222ff9b0de03bf96cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6662393283e4041c0be956a1361948"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a1a6662393283e4041c0be956a1361948">RTE_SERVICE_ATTR_CALL_COUNT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a1a6662393283e4041c0be956a1361948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80995911927b047d2fcffb0a91855485"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a80995911927b047d2fcffb0a91855485">RTE_SERVICE_LCORE_ATTR_LOOPS</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a80995911927b047d2fcffb0a91855485"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aea7fce2a101bf2c00194dffb30bfc4ea"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#aea7fce2a101bf2c00194dffb30bfc4ea">rte_service_get_count</a> (void)</td></tr>
<tr class="separator:aea7fce2a101bf2c00194dffb30bfc4ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ea5e32ce87c1f234a7ff495d00f28ba"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a5ea5e32ce87c1f234a7ff495d00f28ba">rte_service_get_by_name</a> (const char *name, uint32_t *service_id)</td></tr>
<tr class="separator:a5ea5e32ce87c1f234a7ff495d00f28ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2961895ea9c2c87af443e32e9209ded6"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a2961895ea9c2c87af443e32e9209ded6">rte_service_get_name</a> (uint32_t id)</td></tr>
<tr class="separator:a2961895ea9c2c87af443e32e9209ded6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3806ee67a1a6395a3582e64d7fc2c4d1"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a3806ee67a1a6395a3582e64d7fc2c4d1">rte_service_probe_capability</a> (uint32_t id, uint32_t capability)</td></tr>
<tr class="separator:a3806ee67a1a6395a3582e64d7fc2c4d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd84092ba697aaf2bfeb414b80b72076"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#abd84092ba697aaf2bfeb414b80b72076">rte_service_map_lcore_set</a> (uint32_t service_id, uint32_t lcore, uint32_t enable)</td></tr>
<tr class="separator:abd84092ba697aaf2bfeb414b80b72076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab432aa041121e1dc7b417f1937efacf2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#ab432aa041121e1dc7b417f1937efacf2">rte_service_map_lcore_get</a> (uint32_t service_id, uint32_t lcore)</td></tr>
<tr class="separator:ab432aa041121e1dc7b417f1937efacf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2726779871ce03d78a1558ccf454619"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#af2726779871ce03d78a1558ccf454619">rte_service_runstate_set</a> (uint32_t id, uint32_t runstate)</td></tr>
<tr class="separator:af2726779871ce03d78a1558ccf454619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa367968e3bde01c809ab43af3264d336"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#aa367968e3bde01c809ab43af3264d336">rte_service_runstate_get</a> (uint32_t id)</td></tr>
<tr class="separator:aa367968e3bde01c809ab43af3264d336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac77ed4615bd444bcadce401c603fcd7e"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#ac77ed4615bd444bcadce401c603fcd7e">rte_service_may_be_active</a> (uint32_t id)</td></tr>
<tr class="separator:ac77ed4615bd444bcadce401c603fcd7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac98cd1ba6bee29d631cfd293c0872b77"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#ac98cd1ba6bee29d631cfd293c0872b77">rte_service_set_runstate_mapped_check</a> (uint32_t id, int32_t enable)</td></tr>
<tr class="separator:ac98cd1ba6bee29d631cfd293c0872b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a198cc1b4dfbcbdec9d78d5986bd8b5da"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a198cc1b4dfbcbdec9d78d5986bd8b5da">rte_service_run_iter_on_app_lcore</a> (uint32_t id, uint32_t serialize_multithread_unsafe)</td></tr>
<tr class="separator:a198cc1b4dfbcbdec9d78d5986bd8b5da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9eb37ed69324febc5f6159677c89a0a"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#ac9eb37ed69324febc5f6159677c89a0a">rte_service_lcore_start</a> (uint32_t lcore_id)</td></tr>
<tr class="separator:ac9eb37ed69324febc5f6159677c89a0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2646e70337fe0d95b8e6c1858555925"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#ac2646e70337fe0d95b8e6c1858555925">rte_service_lcore_stop</a> (uint32_t lcore_id)</td></tr>
<tr class="separator:ac2646e70337fe0d95b8e6c1858555925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab63f9d6b3489bf2942e6d9e5b4aea489"><td class="memItemLeft" align="right" valign="top">__rte_experimental int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#ab63f9d6b3489bf2942e6d9e5b4aea489">rte_service_lcore_may_be_active</a> (uint32_t lcore_id)</td></tr>
<tr class="separator:ab63f9d6b3489bf2942e6d9e5b4aea489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a35c9e6e0afa8a1600ec5deb07b2ed"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a61a35c9e6e0afa8a1600ec5deb07b2ed">rte_service_lcore_add</a> (uint32_t lcore)</td></tr>
<tr class="separator:a61a35c9e6e0afa8a1600ec5deb07b2ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a369cb96edbde69e5f499cf0e2c68af27"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a369cb96edbde69e5f499cf0e2c68af27">rte_service_lcore_del</a> (uint32_t lcore)</td></tr>
<tr class="separator:a369cb96edbde69e5f499cf0e2c68af27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a361994796979466cde8d2775c5c1ba"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a2a361994796979466cde8d2775c5c1ba">rte_service_lcore_count</a> (void)</td></tr>
<tr class="separator:a2a361994796979466cde8d2775c5c1ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4553c0d46cb2a16679bff35754046c07"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a4553c0d46cb2a16679bff35754046c07">rte_service_lcore_reset_all</a> (void)</td></tr>
<tr class="separator:a4553c0d46cb2a16679bff35754046c07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb716afecebbad332107eacb09cbbb66"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#adb716afecebbad332107eacb09cbbb66">rte_service_set_stats_enable</a> (uint32_t id, int32_t enable)</td></tr>
<tr class="separator:adb716afecebbad332107eacb09cbbb66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a15aab3d552adc808654d0c1017798"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#ab9a15aab3d552adc808654d0c1017798">rte_service_lcore_list</a> (uint32_t array[], uint32_t n)</td></tr>
<tr class="separator:ab9a15aab3d552adc808654d0c1017798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7394067780e82e3fa6c300af9470d91"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#af7394067780e82e3fa6c300af9470d91">rte_service_lcore_count_services</a> (uint32_t lcore)</td></tr>
<tr class="separator:af7394067780e82e3fa6c300af9470d91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d04a03959ffa4b9fdaa4e50e7b7377c"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a5d04a03959ffa4b9fdaa4e50e7b7377c">rte_service_dump</a> (FILE *f, uint32_t id)</td></tr>
<tr class="separator:a5d04a03959ffa4b9fdaa4e50e7b7377c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32eb35ec5eee3fe7c93935ba81f6f02f"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a32eb35ec5eee3fe7c93935ba81f6f02f">rte_service_attr_get</a> (uint32_t id, uint32_t attr_id, uint64_t *attr_value)</td></tr>
<tr class="separator:a32eb35ec5eee3fe7c93935ba81f6f02f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05b9638a7fd66a927a5b815497340856"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a05b9638a7fd66a927a5b815497340856">rte_service_attr_reset_all</a> (uint32_t id)</td></tr>
<tr class="separator:a05b9638a7fd66a927a5b815497340856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae795188c848daeabdd9ebdd827ab031e"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#ae795188c848daeabdd9ebdd827ab031e">rte_service_lcore_attr_get</a> (uint32_t lcore, uint32_t attr_id, uint64_t *attr_value)</td></tr>
<tr class="separator:ae795188c848daeabdd9ebdd827ab031e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a007524eb8148469be285d984cdf8fa"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__service_8h.html#a6a007524eb8148469be285d984cdf8fa">rte_service_lcore_attr_reset_all</a> (uint32_t lcore)</td></tr>
<tr class="separator:a6a007524eb8148469be285d984cdf8fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Service functions</p>
<p>The service functionality provided by this header allows a DPDK component to indicate that it requires a function call in order for it to perform its processing.</p>
<p>An example usage of this functionality would be a component that registers a service to perform a particular packet processing duty: for example the eventdev software PMD. At startup the application requests all services that have been registered, and the cores in the service-coremask run the required services. The EAL removes these number of cores from the available runtime cores, and dedicates them to performing service-core workloads. The application has access to the remaining lcores as normal. </p>

<p class="definition">Definition in file <a class="el" href="rte__service_8h_source.html">rte_service.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2ca96041c56a1c8f4319d67d533a76c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ca96041c56a1c8f4319d67d533a76c2">&#9670;&nbsp;</a></span>RTE_SERVICE_CAP_MT_SAFE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_SERVICE_CAP_MT_SAFE&#160;&#160;&#160;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When set, the service is capable of having multiple threads run it at the same time. </p>

<p class="definition">Definition at line <a class="el" href="rte__service_8h_source.html#l00047">47</a> of file <a class="el" href="rte__service_8h_source.html">rte_service.h</a>.</p>

</div>
</div>
<a id="a1486dce8ab116222ff9b0de03bf96cf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1486dce8ab116222ff9b0de03bf96cf8">&#9670;&nbsp;</a></span>RTE_SERVICE_ATTR_CYCLES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_SERVICE_ATTR_CYCLES&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of cycles that this service has consumed </p>

<p class="definition">Definition at line <a class="el" href="rte__service_8h_source.html#l00386">386</a> of file <a class="el" href="rte__service_8h_source.html">rte_service.h</a>.</p>

</div>
</div>
<a id="a1a6662393283e4041c0be956a1361948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a6662393283e4041c0be956a1361948">&#9670;&nbsp;</a></span>RTE_SERVICE_ATTR_CALL_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_SERVICE_ATTR_CALL_COUNT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the count of invocations of this service function </p>

<p class="definition">Definition at line <a class="el" href="rte__service_8h_source.html#l00391">391</a> of file <a class="el" href="rte__service_8h_source.html">rte_service.h</a>.</p>

</div>
</div>
<a id="a80995911927b047d2fcffb0a91855485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80995911927b047d2fcffb0a91855485">&#9670;&nbsp;</a></span>RTE_SERVICE_LCORE_ATTR_LOOPS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_SERVICE_LCORE_ATTR_LOOPS&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of times the service runner has looped. </p>

<p class="definition">Definition at line <a class="el" href="rte__service_8h_source.html#l00414">414</a> of file <a class="el" href="rte__service_8h_source.html">rte_service.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aea7fce2a101bf2c00194dffb30bfc4ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea7fce2a101bf2c00194dffb30bfc4ea">&#9670;&nbsp;</a></span>rte_service_get_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rte_service_get_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the number of services registered.</p>
<p>The number of services registered can be passed to <em>rte_service_get_by_id</em>, enabling the application to retrieve the specification of each service.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of services registered. </dd></dl>

</div>
</div>
<a id="a5ea5e32ce87c1f234a7ff495d00f28ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ea5e32ce87c1f234a7ff495d00f28ba">&#9670;&nbsp;</a></span>rte_service_get_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_get_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>service_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the id of a service by name.</p>
<p>This function provides the id of the service using the service name as lookup key. The service id is to be passed to other functions in the rte_service_* API.</p>
<p>Example usage: </p><div class="fragment"><div class="line">uint32_t service_id;</div>
<div class="line">int32_t ret = <a class="code" href="rte__service_8h.html#a5ea5e32ce87c1f234a7ff495d00f28ba">rte_service_get_by_name</a>(<span class="stringliteral">&quot;service_X&quot;</span>, &amp;service_id);</div>
<div class="line"><span class="keywordflow">if</span> (ret) {</div>
<div class="line">        <span class="comment">// handle error</span></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">name</td><td>The name of the service to retrieve </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">service_id</td><td>A pointer to a uint32_t, to be filled in with the id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success. The service id is provided in <em>service_id</em>. </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Null <em>service_id</em> pointer provided </td></tr>
    <tr><td class="paramname">-ENODEV</td><td>No such service registered </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2961895ea9c2c87af443e32e9209ded6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2961895ea9c2c87af443e32e9209ded6">&#9670;&nbsp;</a></span>rte_service_get_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* rte_service_get_name </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the name of the service.</p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the name of the service. The returned pointer remains in ownership of the service, and the application must not free it. </dd></dl>

</div>
</div>
<a id="a3806ee67a1a6395a3582e64d7fc2c4d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3806ee67a1a6395a3582e64d7fc2c4d1">&#9670;&nbsp;</a></span>rte_service_probe_capability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_probe_capability </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>capability</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if a service has a specific capability.</p>
<p>This function returns if <em>service</em> has implements <em>capability</em>. See RTE_SERVICE_CAP_* defines for a list of valid capabilities. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Capability supported by this service instance </td></tr>
    <tr><td class="paramname">0</td><td>Capability not supported by this service instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abd84092ba697aaf2bfeb414b80b72076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd84092ba697aaf2bfeb414b80b72076">&#9670;&nbsp;</a></span>rte_service_map_lcore_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_map_lcore_set </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lcore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Map or unmap a lcore to a service.</p>
<p>Each core can be added or removed from running a specific service. This function enables or disables <em>lcore</em> to run <em>service_id</em>.</p>
<p>If multiple cores are enabled on a service, a lock is used to ensure that only one core runs the service at a time. The exception to this is when a service indicates that it is multi-thread safe by setting the capability called RTE_SERVICE_CAP_MT_SAFE. With the multi-thread safe capability set, the service function can be run on multiple threads at the same time.</p>
<p>If the service is known to be mapped to a single lcore, setting the capability of the service to RTE_SERVICE_CAP_MT_SAFE can achieve better performance by avoiding the use of lock.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">service_id</td><td>the service to apply the lcore to </td></tr>
    <tr><td class="paramname">lcore</td><td>The lcore that will be mapped to service </td></tr>
    <tr><td class="paramname">enable</td><td>Zero to unmap or disable the core, non-zero to enable</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>lcore map updated successfully </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>An invalid service or lcore was provided. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l2fwd-event_2l2fwd_event_8c-example.html#a2">examples/l2fwd-event/l2fwd_event.c</a>, <a class="el" href="examples_2l3fwd_2main_8c-example.html#a53">examples/l3fwd/main.c</a>, and <a class="el" href="examples_2service_cores_2main_8c-example.html#a7">examples/service_cores/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="ab432aa041121e1dc7b417f1937efacf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab432aa041121e1dc7b417f1937efacf2">&#9670;&nbsp;</a></span>rte_service_map_lcore_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_map_lcore_get </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lcore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the mapping of an lcore to a service.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">service_id</td><td>the service to apply the lcore to </td></tr>
    <tr><td class="paramname">lcore</td><td>The lcore that will be mapped to service</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>lcore is mapped to service </td></tr>
    <tr><td class="paramname">0</td><td>lcore is not mapped to service </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>An invalid service or lcore was provided. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af2726779871ce03d78a1558ccf454619"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2726779871ce03d78a1558ccf454619">&#9670;&nbsp;</a></span>rte_service_runstate_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_runstate_set </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>runstate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the runstate of the service.</p>
<p>Each service is either running or stopped. Setting a non-zero runstate enables the service to run, while setting runstate zero disables it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The id of the service </td></tr>
    <tr><td class="paramname">runstate</td><td>The run state to apply to the service</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>The service was successfully started </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Invalid service id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2eventdev_pipeline_2pipeline_worker_generic_8c-example.html#a43">examples/eventdev_pipeline/pipeline_worker_generic.c</a>, <a class="el" href="examples_2eventdev_pipeline_2pipeline_worker_tx_8c-example.html#a47">examples/eventdev_pipeline/pipeline_worker_tx.c</a>, <a class="el" href="examples_2l2fwd-event_2l2fwd_event_generic_8c-example.html#a49">examples/l2fwd-event/l2fwd_event_generic.c</a>, <a class="el" href="examples_2l3fwd_2l3fwd_event_generic_8c-example.html#a49">examples/l3fwd/l3fwd_event_generic.c</a>, and <a class="el" href="examples_2service_cores_2main_8c-example.html#a15">examples/service_cores/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="aa367968e3bde01c809ab43af3264d336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa367968e3bde01c809ab43af3264d336">&#9670;&nbsp;</a></span>rte_service_runstate_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_runstate_get </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the runstate for the service with <em>id</em>. See <em>rte_service_runstate_set</em> for details of runstates. A service can call this function to ensure that the application has indicated that it will receive CPU cycles. Either a service-core is mapped (default case), or the application has explicitly disabled the check that a service-cores is mapped to the service and takes responsibility to run the service manually using the available function <em>rte_service_run_iter_on_app_lcore</em> to do so.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Service is running </td></tr>
    <tr><td class="paramname">0</td><td>Service is stopped </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Invalid service id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac77ed4615bd444bcadce401c603fcd7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac77ed4615bd444bcadce401c603fcd7e">&#9670;&nbsp;</a></span>rte_service_may_be_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_may_be_active </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns whether the service may be currently executing on at least one lcore, or definitely is not. This function can be used to determine if, after setting the service runstate to stopped, the service is still executing a service lcore.</p>
<p>Care must be taken if calling this function when the service runstate is running, since the result of this function may be incorrect by the time the function returns due to service cores running in parallel.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Service may be running on one or more lcores </td></tr>
    <tr><td class="paramname">0</td><td>Service is not running on any lcore </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Invalid service id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac98cd1ba6bee29d631cfd293c0872b77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac98cd1ba6bee29d631cfd293c0872b77">&#9670;&nbsp;</a></span>rte_service_set_runstate_mapped_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_set_runstate_mapped_check </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable or disable the check for a service-core being mapped to the service. An application can disable the check when takes the responsibility to run a service itself using <em>rte_service_run_iter_on_app_lcore</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The id of the service to set the check on </td></tr>
    <tr><td class="paramname">enable</td><td>When zero, the check is disabled. Non-zero enables the check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Invalid service ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2eventdev_pipeline_2pipeline_worker_generic_8c-example.html#a44">examples/eventdev_pipeline/pipeline_worker_generic.c</a>, <a class="el" href="examples_2eventdev_pipeline_2pipeline_worker_tx_8c-example.html#a48">examples/eventdev_pipeline/pipeline_worker_tx.c</a>, <a class="el" href="examples_2ipsec-secgw_2event_helper_8c-example.html#a44">examples/ipsec-secgw/event_helper.c</a>, <a class="el" href="examples_2l2fwd-event_2l2fwd_event_generic_8c-example.html#a50">examples/l2fwd-event/l2fwd_event_generic.c</a>, and <a class="el" href="examples_2l3fwd_2l3fwd_event_generic_8c-example.html#a50">examples/l3fwd/l3fwd_event_generic.c</a>.</dd>
</dl>

</div>
</div>
<a id="a198cc1b4dfbcbdec9d78d5986bd8b5da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a198cc1b4dfbcbdec9d78d5986bd8b5da">&#9670;&nbsp;</a></span>rte_service_run_iter_on_app_lcore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_run_iter_on_app_lcore </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>serialize_multithread_unsafe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function runs a service callback from a non-service lcore.</p>
<p>This function is designed to enable gradual porting to service cores, and to enable unit tests to verify a service behaves as expected.</p>
<p>When called, this function ensures that the service identified by <em>id</em> is safe to run on this lcore. Multi-thread safe services are invoked even if other cores are simultaneously running them as they are multi-thread safe.</p>
<p>Multi-thread unsafe services are handled depending on the variable <em>serialize_multithread_unsafe</em>:</p><ul>
<li>When set, the function will check if a service is already being invoked on another lcore, refusing to run it and returning -EBUSY.</li>
<li>When zero, the application takes responsibility to ensure that the service indicated by <em>id</em> is not going to be invoked by another lcore. This setting avoids atomic operations, so is likely to be more performant.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The ID of the service to run </td></tr>
    <tr><td class="paramname">serialize_multithread_unsafe</td><td>This parameter indicates to the service cores library if it is required to use atomics to serialize access to mult-thread unsafe services. As there is an overhead in using atomics, applications can choose to enable or disable this feature</td></tr>
  </table>
  </dd>
</dl>
<p>Note that any thread calling this function MUST be a DPDK EAL thread, as the <em>rte_lcore_id</em> function is used to access internal data structures.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Service was run on the calling thread successfully </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>Another lcore is executing the service, and it is not a multi-thread safe service, so the service was not run on this lcore </td></tr>
    <tr><td class="paramname">-ENOEXEC</td><td>Service is not in a run-able state </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Invalid service id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2eventdev_pipeline_2pipeline_worker_tx_8c-example.html#a51">examples/eventdev_pipeline/pipeline_worker_tx.c</a>, and <a class="el" href="examples_2ipsec-secgw_2event_helper_8c-example.html#a47">examples/ipsec-secgw/event_helper.c</a>.</dd>
</dl>

</div>
</div>
<a id="ac9eb37ed69324febc5f6159677c89a0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9eb37ed69324febc5f6159677c89a0a">&#9670;&nbsp;</a></span>rte_service_lcore_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_lcore_start </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start a service core.</p>
<p>Starting a core makes the core begin polling. Any services assigned to it will be run as fast as possible. The application must ensure that the lcore is in a launchable state: e.g. call <em>rte_eal_lcore_wait</em> on the lcore_id before calling this function.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Failed to start core. The <em>lcore_id</em> passed in is not currently assigned to be a service core. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l2fwd-event_2l2fwd_event_8c-example.html#a4">examples/l2fwd-event/l2fwd_event.c</a>, <a class="el" href="examples_2l3fwd_2main_8c-example.html#a55">examples/l3fwd/main.c</a>, and <a class="el" href="examples_2service_cores_2main_8c-example.html#a6">examples/service_cores/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="ac2646e70337fe0d95b8e6c1858555925"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2646e70337fe0d95b8e6c1858555925">&#9670;&nbsp;</a></span>rte_service_lcore_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_lcore_stop </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop a service core.</p>
<p>Stopping a core makes the core become idle, but remains assigned as a service core. Note that the service lcore thread may not have returned from the service it is running when this API returns.</p>
<p>The <em>rte_service_lcore_may_be_active</em> API can be used to check if the service lcore is * still active.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Invalid <em>lcore_id</em> provided </td></tr>
    <tr><td class="paramname">-EALREADY</td><td>Already stopped core </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>Failed to stop core, as it would cause a service to not be run, as this is the only core currently running the service. The application must stop the service first, and then stop the lcore. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2service_cores_2main_8c-example.html#a8">examples/service_cores/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="ab63f9d6b3489bf2942e6d9e5b4aea489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab63f9d6b3489bf2942e6d9e5b4aea489">&#9670;&nbsp;</a></span>rte_service_lcore_may_be_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int32_t rte_service_lcore_may_be_active </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reports if a service lcore is currently running.</p>
<p>This function returns if the core has finished service cores code, and has returned to EAL control. If <em>rte_service_lcore_stop</em> has been called but the lcore has not returned to EAL yet, it might be required to wait and call this function again. The amount of time to wait before the core returns depends on the duration of the services being run.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Service thread is not active, and lcore has been returned to EAL. </td></tr>
    <tr><td class="paramname">1</td><td>Service thread is in the service core polling loop. </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Invalid <em>lcore_id</em> provided. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a61a35c9e6e0afa8a1600ec5deb07b2ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a35c9e6e0afa8a1600ec5deb07b2ed">&#9670;&nbsp;</a></span>rte_service_lcore_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_lcore_add </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lcore</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds lcore to the list of service cores.</p>
<p>This functions can be used at runtime in order to modify the service core mask.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>lcore is busy, and not available for service core duty </td></tr>
    <tr><td class="paramname">-EALREADY</td><td>lcore is already added to the service core list </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Invalid lcore provided </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2service_cores_2main_8c-example.html#a5">examples/service_cores/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a369cb96edbde69e5f499cf0e2c68af27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a369cb96edbde69e5f499cf0e2c68af27">&#9670;&nbsp;</a></span>rte_service_lcore_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_lcore_del </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lcore</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes lcore from the list of service cores.</p>
<p>This can fail if the core is not stopped, see <em>rte_service_core_stop</em>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>Lcore is not stopped, stop service core before removing. </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>failed to add lcore to service core mask. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2service_cores_2main_8c-example.html#a9">examples/service_cores/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a2a361994796979466cde8d2775c5c1ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a361994796979466cde8d2775c5c1ba">&#9670;&nbsp;</a></span>rte_service_lcore_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_lcore_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the number of service cores currently available.</p>
<p>This function returns the integer count of service cores available. The service core count can be used in mapping logic when creating mappings from service cores to services.</p>
<p>See <em>rte_service_lcore_list</em> for details on retrieving the lcore_id of each service core.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of service cores currently configured. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l2fwd-event_2l2fwd_event_8c-example.html#a0">examples/l2fwd-event/l2fwd_event.c</a>, <a class="el" href="examples_2l2fwd-event_2l2fwd_event_generic_8c-example.html#a19">examples/l2fwd-event/l2fwd_event_generic.c</a>, <a class="el" href="examples_2l3fwd_2l3fwd_event_generic_8c-example.html#a19">examples/l3fwd/l3fwd_event_generic.c</a>, and <a class="el" href="examples_2l3fwd_2main_8c-example.html#a51">examples/l3fwd/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a4553c0d46cb2a16679bff35754046c07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4553c0d46cb2a16679bff35754046c07">&#9670;&nbsp;</a></span>rte_service_lcore_reset_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_lcore_reset_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets all service core mappings. This does not remove the service cores from duty, just unmaps all services / cores, and stops() the service cores. The runstate of services is not modified.</p>
<p>The cores that are stopped with this call, are in FINISHED state and the application must take care of bringing them back to a launchable state: e.g. call <em>rte_eal_lcore_wait</em> on the lcore_id.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adb716afecebbad332107eacb09cbbb66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb716afecebbad332107eacb09cbbb66">&#9670;&nbsp;</a></span>rte_service_set_stats_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_set_stats_enable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable or disable statistics collection for <em>service</em>.</p>
<p>This function enables per core, per-service cycle count collection. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The service to enable statistics gathering on. </td></tr>
    <tr><td class="paramname">enable</td><td>Zero to disable statistics, non-zero to enable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Invalid service pointer passed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2service_cores_2main_8c-example.html#a14">examples/service_cores/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="ab9a15aab3d552adc808654d0c1017798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9a15aab3d552adc808654d0c1017798">&#9670;&nbsp;</a></span>rte_service_lcore_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_lcore_list </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>array</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the list of currently enabled service cores.</p>
<p>This function fills in an application supplied array, with each element indicating the lcore_id of a service core.</p>
<p>Adding and removing service cores can be performed using <em>rte_service_lcore_add</em> and <em>rte_service_lcore_del</em>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">array</td><td>An array of at least <em>rte_service_lcore_count</em> items. If statically allocating the buffer, use RTE_MAX_LCORE. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">n</td><td>The size of <em>array</em>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;=0</td><td>Number of service cores that have been populated in the array </td></tr>
    <tr><td class="paramname">-ENOMEM</td><td>The provided array is not large enough to fill in the service core list. No items have been populated, call this function with a size of at least <em>rte_service_core_count</em> items. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l2fwd-event_2l2fwd_event_8c-example.html#a1">examples/l2fwd-event/l2fwd_event.c</a>, and <a class="el" href="examples_2l3fwd_2main_8c-example.html#a52">examples/l3fwd/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="af7394067780e82e3fa6c300af9470d91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7394067780e82e3fa6c300af9470d91">&#9670;&nbsp;</a></span>rte_service_lcore_count_services()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_lcore_count_services </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lcore</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the number of services running on the supplied lcore.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore</td><td>Id of the service core. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;=0</td><td>Number of services registered to this core. </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Invalid lcore provided </td></tr>
    <tr><td class="paramname">-ENOTSUP</td><td>The provided lcore is not a service core. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l2fwd-event_2l2fwd_event_8c-example.html#a3">examples/l2fwd-event/l2fwd_event.c</a>, and <a class="el" href="examples_2l3fwd_2main_8c-example.html#a54">examples/l3fwd/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a5d04a03959ffa4b9fdaa4e50e7b7377c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d04a03959ffa4b9fdaa4e50e7b7377c">&#9670;&nbsp;</a></span>rte_service_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_dump </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dumps any information available about the service. When id is UINT32_MAX, this function dumps info for all services.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Statistics have been successfully dumped </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>Invalid service id provided </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2service_cores_2main_8c-example.html#a16">examples/service_cores/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a32eb35ec5eee3fe7c93935ba81f6f02f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32eb35ec5eee3fe7c93935ba81f6f02f">&#9670;&nbsp;</a></span>rte_service_attr_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_attr_get </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>attr_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>attr_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get an attribute from a service.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, the attribute value has been written to <em>attr_value</em>. -EINVAL Invalid id, attr_id or attr_value was NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a05b9638a7fd66a927a5b815497340856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05b9638a7fd66a927a5b815497340856">&#9670;&nbsp;</a></span>rte_service_attr_reset_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_attr_reset_all </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset all attribute values of a service.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The service to reset all statistics of </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully reset attributes -EINVAL Invalid service id provided </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae795188c848daeabdd9ebdd827ab031e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae795188c848daeabdd9ebdd827ab031e">&#9670;&nbsp;</a></span>rte_service_lcore_attr_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_lcore_attr_get </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lcore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>attr_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>attr_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get an attribute from a service core.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">lcore</td><td>Id of the service core. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">attr_id</td><td>Id of the attribute to be retrieved. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">attr_value</td><td>Pointer to storage in which to write retrieved value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, the attribute value has been written to <em>attr_value</em>. -EINVAL Invalid lcore, attr_id or attr_value was NULL. -ENOTSUP lcore is not a service core. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6a007524eb8148469be285d984cdf8fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a007524eb8148469be285d984cdf8fa">&#9670;&nbsp;</a></span>rte_service_lcore_attr_reset_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_service_lcore_attr_reset_all </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lcore</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset all attribute values of a service core.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore</td><td>The service core to reset all the statistics of </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successfully reset attributes -EINVAL Invalid service id provided -ENOTSUP lcore is not a service core. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="arte__service_8h_html_a5ea5e32ce87c1f234a7ff495d00f28ba"><div class="ttname"><a href="rte__service_8h.html#a5ea5e32ce87c1f234a7ff495d00f28ba">rte_service_get_by_name</a></div><div class="ttdeci">int32_t rte_service_get_by_name(const char *name, uint32_t *service_id)</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
