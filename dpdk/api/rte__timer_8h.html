<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: lib/librte_timer/rte_timer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_2164e25561eabb34d2bd0b8fdda0aeba.html">librte_timer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_timer.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__common_8h_source.html">rte_common.h</a>&gt;</code><br />
<code>#include &lt;rte_config.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__spinlock_8h_source.html">rte_spinlock.h</a>&gt;</code><br />
</div>
<p><a href="rte__timer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionrte__timer__status.html">rte_timer_status</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__timer.html">rte_timer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a396b590f00383861a04cf3b59d604788"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a396b590f00383861a04cf3b59d604788">RTE_TIMER_STOP</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a396b590f00383861a04cf3b59d604788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd0e7f83be69292b2fcc335002162f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#abdd0e7f83be69292b2fcc335002162f0">RTE_TIMER_PENDING</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:abdd0e7f83be69292b2fcc335002162f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bab75fd20f0dade070198baaf338093"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a1bab75fd20f0dade070198baaf338093">RTE_TIMER_RUNNING</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a1bab75fd20f0dade070198baaf338093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab81be0a8b461d613f432293dc01b032a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#ab81be0a8b461d613f432293dc01b032a">RTE_TIMER_CONFIG</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ab81be0a8b461d613f432293dc01b032a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af987ae48c84d4da33ec5936d3c6214a3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#af987ae48c84d4da33ec5936d3c6214a3">RTE_TIMER_NO_OWNER</a>&#160;&#160;&#160;-2</td></tr>
<tr class="separator:af987ae48c84d4da33ec5936d3c6214a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe831655dc7ca10a2d58c18ee7e3de51"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#abe831655dc7ca10a2d58c18ee7e3de51">RTE_TIMER_INITIALIZER</a></td></tr>
<tr class="separator:abe831655dc7ca10a2d58c18ee7e3de51"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:adaa9122b8472dee1e0400b6f9ff610c2"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#adaa9122b8472dee1e0400b6f9ff610c2">rte_timer_cb_t</a>) (struct <a class="el" href="structrte__timer.html">rte_timer</a> *, void *)</td></tr>
<tr class="separator:adaa9122b8472dee1e0400b6f9ff610c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad04b02697c9de40d3cfa41e1da297ee9"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#ad04b02697c9de40d3cfa41e1da297ee9">rte_timer_alt_manage_cb_t</a>) (struct <a class="el" href="structrte__timer.html">rte_timer</a> *tim)</td></tr>
<tr class="separator:ad04b02697c9de40d3cfa41e1da297ee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d71b7204b4c499b929f85d61c53bcd"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a67d71b7204b4c499b929f85d61c53bcd">rte_timer_stop_all_cb_t</a>) (struct <a class="el" href="structrte__timer.html">rte_timer</a> *tim, void *arg)</td></tr>
<tr class="separator:a67d71b7204b4c499b929f85d61c53bcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a5a5cb38c85e7504eda9c02a5dcefd0a7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a5a5cb38c85e7504eda9c02a5dcefd0a7">rte_timer_type</a> </td></tr>
<tr class="separator:a5a5cb38c85e7504eda9c02a5dcefd0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a37ce155065b2bf7a3c6fb86410ec98c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a37ce155065b2bf7a3c6fb86410ec98c4">rte_timer_data_alloc</a> (uint32_t *id_ptr)</td></tr>
<tr class="separator:a37ce155065b2bf7a3c6fb86410ec98c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43011fb74b9d4c026c1eeb80194f9260"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a43011fb74b9d4c026c1eeb80194f9260">rte_timer_data_dealloc</a> (uint32_t id)</td></tr>
<tr class="separator:a43011fb74b9d4c026c1eeb80194f9260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd84789f63710d0a89085ef986865cfc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#afd84789f63710d0a89085ef986865cfc">rte_timer_subsystem_init</a> (void)</td></tr>
<tr class="separator:afd84789f63710d0a89085ef986865cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23b98eb19ab5ff22c0ac6461318c9e1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a23b98eb19ab5ff22c0ac6461318c9e1c">rte_timer_subsystem_finalize</a> (void)</td></tr>
<tr class="separator:a23b98eb19ab5ff22c0ac6461318c9e1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69340aa2987e22053aa8b88140fe18bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a69340aa2987e22053aa8b88140fe18bb">rte_timer_init</a> (struct <a class="el" href="structrte__timer.html">rte_timer</a> *tim)</td></tr>
<tr class="separator:a69340aa2987e22053aa8b88140fe18bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a707296972ed4a11384b661653eb94187"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a707296972ed4a11384b661653eb94187">rte_timer_reset</a> (struct <a class="el" href="structrte__timer.html">rte_timer</a> *tim, uint64_t ticks, enum <a class="el" href="rte__timer_8h.html#a5a5cb38c85e7504eda9c02a5dcefd0a7">rte_timer_type</a> type, unsigned tim_lcore, <a class="el" href="rte__timer_8h.html#adaa9122b8472dee1e0400b6f9ff610c2">rte_timer_cb_t</a> fct, void *arg)</td></tr>
<tr class="separator:a707296972ed4a11384b661653eb94187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62a030b92ab3b05f0c9b1bd0c2cc0bbf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a62a030b92ab3b05f0c9b1bd0c2cc0bbf">rte_timer_reset_sync</a> (struct <a class="el" href="structrte__timer.html">rte_timer</a> *tim, uint64_t ticks, enum <a class="el" href="rte__timer_8h.html#a5a5cb38c85e7504eda9c02a5dcefd0a7">rte_timer_type</a> type, unsigned tim_lcore, <a class="el" href="rte__timer_8h.html#adaa9122b8472dee1e0400b6f9ff610c2">rte_timer_cb_t</a> fct, void *arg)</td></tr>
<tr class="separator:a62a030b92ab3b05f0c9b1bd0c2cc0bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ab542d925bd43062013453bea656628"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a6ab542d925bd43062013453bea656628">rte_timer_stop</a> (struct <a class="el" href="structrte__timer.html">rte_timer</a> *tim)</td></tr>
<tr class="separator:a6ab542d925bd43062013453bea656628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f28bb6cfb080e85c96090218fe5836e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a0f28bb6cfb080e85c96090218fe5836e">rte_timer_stop_sync</a> (struct <a class="el" href="structrte__timer.html">rte_timer</a> *tim)</td></tr>
<tr class="separator:a0f28bb6cfb080e85c96090218fe5836e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f4b64d60de5510f1f84945bb30e720e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a4f4b64d60de5510f1f84945bb30e720e">rte_timer_pending</a> (struct <a class="el" href="structrte__timer.html">rte_timer</a> *tim)</td></tr>
<tr class="separator:a4f4b64d60de5510f1f84945bb30e720e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4e7fa371cfee3650ce9520a8dbbdc5"><td class="memItemLeft" align="right" valign="top">__rte_experimental int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a8a4e7fa371cfee3650ce9520a8dbbdc5">rte_timer_next_ticks</a> (void)</td></tr>
<tr class="separator:a8a4e7fa371cfee3650ce9520a8dbbdc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad81303c11541adfb88c62c47b863fa6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#aad81303c11541adfb88c62c47b863fa6">rte_timer_manage</a> (void)</td></tr>
<tr class="separator:aad81303c11541adfb88c62c47b863fa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2dbce76a6cabb77d4c84d43f83e19da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#af2dbce76a6cabb77d4c84d43f83e19da">rte_timer_dump_stats</a> (FILE *f)</td></tr>
<tr class="separator:af2dbce76a6cabb77d4c84d43f83e19da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbee623509b2a15aba9fa17c2d806c5e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#acbee623509b2a15aba9fa17c2d806c5e">rte_timer_alt_reset</a> (uint32_t timer_data_id, struct <a class="el" href="structrte__timer.html">rte_timer</a> *tim, uint64_t ticks, enum <a class="el" href="rte__timer_8h.html#a5a5cb38c85e7504eda9c02a5dcefd0a7">rte_timer_type</a> type, unsigned int tim_lcore, <a class="el" href="rte__timer_8h.html#adaa9122b8472dee1e0400b6f9ff610c2">rte_timer_cb_t</a> fct, void *arg)</td></tr>
<tr class="separator:acbee623509b2a15aba9fa17c2d806c5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06af032cbade11cd33ff561de12b127a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a06af032cbade11cd33ff561de12b127a">rte_timer_alt_stop</a> (uint32_t timer_data_id, struct <a class="el" href="structrte__timer.html">rte_timer</a> *tim)</td></tr>
<tr class="separator:a06af032cbade11cd33ff561de12b127a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac71e4ed398b4adba17c67ff089266b96"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#ac71e4ed398b4adba17c67ff089266b96">rte_timer_alt_manage</a> (uint32_t timer_data_id, unsigned int *poll_lcores, int n_poll_lcores, <a class="el" href="rte__timer_8h.html#ad04b02697c9de40d3cfa41e1da297ee9">rte_timer_alt_manage_cb_t</a> f)</td></tr>
<tr class="separator:ac71e4ed398b4adba17c67ff089266b96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affff01f1db5427ecd5b927c7ff6ee278"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#affff01f1db5427ecd5b927c7ff6ee278">rte_timer_stop_all</a> (uint32_t timer_data_id, unsigned int *walk_lcores, int nb_walk_lcores, <a class="el" href="rte__timer_8h.html#a67d71b7204b4c499b929f85d61c53bcd">rte_timer_stop_all_cb_t</a> f, void *f_arg)</td></tr>
<tr class="separator:affff01f1db5427ecd5b927c7ff6ee278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a4d9000d434ea9499cc0fc08e55743"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__timer_8h.html#a70a4d9000d434ea9499cc0fc08e55743">rte_timer_alt_dump_stats</a> (uint32_t timer_data_id, FILE *f)</td></tr>
<tr class="separator:a70a4d9000d434ea9499cc0fc08e55743"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTE Timer</p>
<p>This library provides a timer service to RTE Data Plane execution units that allows the execution of callback functions asynchronously.</p>
<ul>
<li>Timers can be periodic or single (one-shot).</li>
<li>The timers can be loaded from one core and executed on another. This has to be specified in the call to <a class="el" href="rte__timer_8h.html#a707296972ed4a11384b661653eb94187">rte_timer_reset()</a>.</li>
<li>High precision is possible. NOTE: this depends on the call frequency to <a class="el" href="rte__timer_8h.html#aad81303c11541adfb88c62c47b863fa6">rte_timer_manage()</a> that check the timer expiration for the local core.</li>
<li>If not used in an application, for improved performance, it can be disabled at compilation time by not calling the <a class="el" href="rte__timer_8h.html#aad81303c11541adfb88c62c47b863fa6">rte_timer_manage()</a> to improve performance.</li>
</ul>
<p>The timer library uses the rte_get_hpet_cycles() function that uses the HPET, when available, to provide a reliable time reference. [HPET routines are provided by EAL, which falls back to using the chip TSC (time- stamp counter) as fallback when HPET is not available]</p>
<p>This library provides an interface to add, delete and restart a timer. The API is based on the BSD callout(9) API with a few differences.</p>
<p>See the RTE architecture documentation for more information about the design of this library. </p>

<p class="definition">Definition in file <a class="el" href="rte__timer_8h_source.html">rte_timer.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a396b590f00383861a04cf3b59d604788"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a396b590f00383861a04cf3b59d604788">&#9670;&nbsp;</a></span>RTE_TIMER_STOP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_TIMER_STOP&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>State: timer is stopped. </p>

<p class="definition">Definition at line <a class="el" href="rte__timer_8h_source.html#l00048">48</a> of file <a class="el" href="rte__timer_8h_source.html">rte_timer.h</a>.</p>

</div>
</div>
<a id="abdd0e7f83be69292b2fcc335002162f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdd0e7f83be69292b2fcc335002162f0">&#9670;&nbsp;</a></span>RTE_TIMER_PENDING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_TIMER_PENDING&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>State: timer is scheduled. </p>

<p class="definition">Definition at line <a class="el" href="rte__timer_8h_source.html#l00049">49</a> of file <a class="el" href="rte__timer_8h_source.html">rte_timer.h</a>.</p>

</div>
</div>
<a id="a1bab75fd20f0dade070198baaf338093"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bab75fd20f0dade070198baaf338093">&#9670;&nbsp;</a></span>RTE_TIMER_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_TIMER_RUNNING&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>State: timer function is running. </p>

<p class="definition">Definition at line <a class="el" href="rte__timer_8h_source.html#l00050">50</a> of file <a class="el" href="rte__timer_8h_source.html">rte_timer.h</a>.</p>

</div>
</div>
<a id="ab81be0a8b461d613f432293dc01b032a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab81be0a8b461d613f432293dc01b032a">&#9670;&nbsp;</a></span>RTE_TIMER_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_TIMER_CONFIG&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>State: timer is being configured. </p>

<p class="definition">Definition at line <a class="el" href="rte__timer_8h_source.html#l00051">51</a> of file <a class="el" href="rte__timer_8h_source.html">rte_timer.h</a>.</p>

</div>
</div>
<a id="af987ae48c84d4da33ec5936d3c6214a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af987ae48c84d4da33ec5936d3c6214a3">&#9670;&nbsp;</a></span>RTE_TIMER_NO_OWNER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_TIMER_NO_OWNER&#160;&#160;&#160;-2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timer has no owner. </p>

<p class="definition">Definition at line <a class="el" href="rte__timer_8h_source.html#l00053">53</a> of file <a class="el" href="rte__timer_8h_source.html">rte_timer.h</a>.</p>

</div>
</div>
<a id="abe831655dc7ca10a2d58c18ee7e3de51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe831655dc7ca10a2d58c18ee7e3de51">&#9670;&nbsp;</a></span>RTE_TIMER_INITIALIZER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_TIMER_INITIALIZER</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">        {                      \</div>
<div class="line">        .status = {{                         \</div>
<div class="line">            .state = <a class="code" href="rte__timer_8h.html#a396b590f00383861a04cf3b59d604788">RTE_TIMER_STOP</a>,     \</div>
<div class="line">            .owner = <a class="code" href="rte__timer_8h.html#af987ae48c84d4da33ec5936d3c6214a3">RTE_TIMER_NO_OWNER</a>, \</div>
<div class="line">        }},                                  \</div>
<div class="line">    }</div>
</div><!-- fragment --><p>A static initializer for a timer structure. </p>

<p class="definition">Definition at line <a class="el" href="rte__timer_8h_source.html#l00127">127</a> of file <a class="el" href="rte__timer_8h_source.html">rte_timer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="adaa9122b8472dee1e0400b6f9ff610c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaa9122b8472dee1e0400b6f9ff610c2">&#9670;&nbsp;</a></span>rte_timer_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* rte_timer_cb_t) (struct <a class="el" href="structrte__timer.html">rte_timer</a> *, void *)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback function type for timer expiry. </p>

<p class="definition">Definition at line <a class="el" href="rte__timer_8h_source.html#l00093">93</a> of file <a class="el" href="rte__timer_8h_source.html">rte_timer.h</a>.</p>

</div>
</div>
<a id="ad04b02697c9de40d3cfa41e1da297ee9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad04b02697c9de40d3cfa41e1da297ee9">&#9670;&nbsp;</a></span>rte_timer_alt_manage_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* rte_timer_alt_manage_cb_t) (struct <a class="el" href="structrte__timer.html">rte_timer</a> *tim)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback function type for <a class="el" href="rte__timer_8h.html#ac71e4ed398b4adba17c67ff089266b96">rte_timer_alt_manage()</a>. </p>

<p class="definition">Definition at line <a class="el" href="rte__timer_8h_source.html#l00441">441</a> of file <a class="el" href="rte__timer_8h_source.html">rte_timer.h</a>.</p>

</div>
</div>
<a id="a67d71b7204b4c499b929f85d61c53bcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d71b7204b4c499b929f85d61c53bcd">&#9670;&nbsp;</a></span>rte_timer_stop_all_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* rte_timer_stop_all_cb_t) (struct <a class="el" href="structrte__timer.html">rte_timer</a> *tim, void *arg)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback function type for <a class="el" href="rte__timer_8h.html#affff01f1db5427ecd5b927c7ff6ee278">rte_timer_stop_all()</a>. </p>

<p class="definition">Definition at line <a class="el" href="rte__timer_8h_source.html#l00475">475</a> of file <a class="el" href="rte__timer_8h_source.html">rte_timer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a5a5cb38c85e7504eda9c02a5dcefd0a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a5cb38c85e7504eda9c02a5dcefd0a7">&#9670;&nbsp;</a></span>rte_timer_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rte__timer_8h.html#a5a5cb38c85e7504eda9c02a5dcefd0a7">rte_timer_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timer type: Periodic or single (one-shot). </p>

<p class="definition">Definition at line <a class="el" href="rte__timer_8h_source.html#l00058">58</a> of file <a class="el" href="rte__timer_8h_source.html">rte_timer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a37ce155065b2bf7a3c6fb86410ec98c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37ce155065b2bf7a3c6fb86410ec98c4">&#9670;&nbsp;</a></span>rte_timer_data_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_timer_data_alloc </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>id_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate a timer data instance in shared memory to track a set of pending timer lists.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id_ptr</td><td>Pointer to variable into which to write the identifier of the allocated timer data instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: Success</li>
<li>-ENOSPC: maximum number of timer data instances already allocated </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a43011fb74b9d4c026c1eeb80194f9260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43011fb74b9d4c026c1eeb80194f9260">&#9670;&nbsp;</a></span>rte_timer_data_dealloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_timer_data_dealloc </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deallocate a timer data instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Identifier of the timer data instance to deallocate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: Success</li>
<li>-EINVAL: invalid timer data instance identifier </li>
</ul>
</dd></dl>

</div>
</div>
<a id="afd84789f63710d0a89085ef986865cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd84789f63710d0a89085ef986865cfc">&#9670;&nbsp;</a></span>rte_timer_subsystem_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_timer_subsystem_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the timer library.</p>
<p>Initializes internal variables (list, locks and so on) for the RTE timer library.</p>
<dl class="section note"><dt>Note</dt><dd>This function must be called in every process before using the library.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: Success</li>
<li>-ENOMEM: Unable to allocate memory needed to initialize timer subsystem </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l2fwd-jobstats_2main_8c-example.html#a46">examples/l2fwd-jobstats/main.c</a>, <a class="el" href="examples_2l2fwd-keepalive_2main_8c-example.html#a66">examples/l2fwd-keepalive/main.c</a>, <a class="el" href="examples_2l3fwd-power_2main_8c-example.html#a143">examples/l3fwd-power/main.c</a>, <a class="el" href="examples_2performance-thread_2l3fwd-thread_2main_8c-example.html#a117">examples/performance-thread/l3fwd-thread/main.c</a>, <a class="el" href="examples_2performance-thread_2pthread_shim_2main_8c-example.html#a4">examples/performance-thread/pthread_shim/main.c</a>, and <a class="el" href="examples_2timer_2main_8c-example.html#a12">examples/timer/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a23b98eb19ab5ff22c0ac6461318c9e1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b98eb19ab5ff22c0ac6461318c9e1c">&#9670;&nbsp;</a></span>rte_timer_subsystem_finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_timer_subsystem_finalize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free timer subsystem resources. </p>

</div>
</div>
<a id="a69340aa2987e22053aa8b88140fe18bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69340aa2987e22053aa8b88140fe18bb">&#9670;&nbsp;</a></span>rte_timer_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_timer_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__timer.html">rte_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a timer handle.</p>
<p>The <a class="el" href="rte__timer_8h.html#a69340aa2987e22053aa8b88140fe18bb">rte_timer_init()</a> function initializes the timer handle <em>tim</em> for use. No operations can be performed on a timer before it is initialized.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tim</td><td>The timer to initialize. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l2fwd-jobstats_2main_8c-example.html#a76">examples/l2fwd-jobstats/main.c</a>, <a class="el" href="examples_2l2fwd-keepalive_2main_8c-example.html#a67">examples/l2fwd-keepalive/main.c</a>, <a class="el" href="examples_2l3fwd-power_2main_8c-example.html#a162">examples/l3fwd-power/main.c</a>, and <a class="el" href="examples_2timer_2main_8c-example.html#a13">examples/timer/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a707296972ed4a11384b661653eb94187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a707296972ed4a11384b661653eb94187">&#9670;&nbsp;</a></span>rte_timer_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_timer_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__timer.html">rte_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>ticks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="rte__timer_8h.html#a5a5cb38c85e7504eda9c02a5dcefd0a7">rte_timer_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>tim_lcore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rte__timer_8h.html#adaa9122b8472dee1e0400b6f9ff610c2">rte_timer_cb_t</a>&#160;</td>
          <td class="paramname"><em>fct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset and start the timer associated with the timer handle.</p>
<p>The <a class="el" href="rte__timer_8h.html#a707296972ed4a11384b661653eb94187">rte_timer_reset()</a> function resets and starts the timer associated with the timer handle <em>tim</em>. When the timer expires after <em>ticks</em> HPET cycles, the function specified by <em>fct</em> will be called with the argument <em>arg</em> on core <em>tim_lcore</em>.</p>
<p>If the timer associated with the timer handle is already running (in the RUNNING state), the function will fail. The user has to check the return value of the function to see if there is a chance that the timer is in the RUNNING state.</p>
<p>If the timer is being configured on another core (the CONFIG state), it will also fail.</p>
<p>If the timer is pending or stopped, it will be rescheduled with the new parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tim</td><td>The timer handle. </td></tr>
    <tr><td class="paramname">ticks</td><td>The number of cycles (see rte_get_hpet_hz()) before the callback function is called. </td></tr>
    <tr><td class="paramname">type</td><td>The type can be either:<ul>
<li>PERIODICAL: The timer is automatically reloaded after execution (returns to the PENDING state)</li>
<li>SINGLE: The timer is one-shot, that is, the timer goes to a STOPPED state after execution. </li>
</ul>
</td></tr>
    <tr><td class="paramname">tim_lcore</td><td>The ID of the lcore where the timer callback function has to be executed. If tim_lcore is LCORE_ID_ANY, the timer library will launch it on a different core for each call (round-robin). </td></tr>
    <tr><td class="paramname">fct</td><td>The callback function of the timer. </td></tr>
    <tr><td class="paramname">arg</td><td>The user argument of the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: Success; the timer is scheduled.</li>
<li>(-1): Timer is in the RUNNING or CONFIG state. </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l2fwd-jobstats_2main_8c-example.html#a29">examples/l2fwd-jobstats/main.c</a>, <a class="el" href="examples_2l2fwd-keepalive_2main_8c-example.html#a70">examples/l2fwd-keepalive/main.c</a>, <a class="el" href="examples_2l3fwd-power_2main_8c-example.html#a22">examples/l3fwd-power/main.c</a>, and <a class="el" href="examples_2timer_2main_8c-example.html#a7">examples/timer/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a62a030b92ab3b05f0c9b1bd0c2cc0bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62a030b92ab3b05f0c9b1bd0c2cc0bbf">&#9670;&nbsp;</a></span>rte_timer_reset_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_timer_reset_sync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__timer.html">rte_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>ticks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="rte__timer_8h.html#a5a5cb38c85e7504eda9c02a5dcefd0a7">rte_timer_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>tim_lcore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rte__timer_8h.html#adaa9122b8472dee1e0400b6f9ff610c2">rte_timer_cb_t</a>&#160;</td>
          <td class="paramname"><em>fct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loop until <a class="el" href="rte__timer_8h.html#a707296972ed4a11384b661653eb94187">rte_timer_reset()</a> succeeds.</p>
<p>Reset and start the timer associated with the timer handle. Always succeed. See <a class="el" href="rte__timer_8h.html#a707296972ed4a11384b661653eb94187">rte_timer_reset()</a> for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tim</td><td>The timer handle. </td></tr>
    <tr><td class="paramname">ticks</td><td>The number of cycles (see rte_get_hpet_hz()) before the callback function is called. </td></tr>
    <tr><td class="paramname">type</td><td>The type can be either:<ul>
<li>PERIODICAL: The timer is automatically reloaded after execution (returns to the PENDING state)</li>
<li>SINGLE: The timer is one-shot, that is, the timer goes to a STOPPED state after execution. </li>
</ul>
</td></tr>
    <tr><td class="paramname">tim_lcore</td><td>The ID of the lcore where the timer callback function has to be executed. If tim_lcore is LCORE_ID_ANY, the timer library will launch it on a different core for each call (round-robin). </td></tr>
    <tr><td class="paramname">fct</td><td>The callback function of the timer. </td></tr>
    <tr><td class="paramname">arg</td><td>The user argument of the callback function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This API should not be called inside a timer's callback function to reset another timer; doing so could hang in certain scenarios. Instead, the <a class="el" href="rte__timer_8h.html#a707296972ed4a11384b661653eb94187">rte_timer_reset()</a> API can be called directly and its return code can be checked for success or failure. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l3fwd-power_2main_8c-example.html#a134">examples/l3fwd-power/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a6ab542d925bd43062013453bea656628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ab542d925bd43062013453bea656628">&#9670;&nbsp;</a></span>rte_timer_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_timer_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__timer.html">rte_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop a timer.</p>
<p>The <a class="el" href="rte__timer_8h.html#a6ab542d925bd43062013453bea656628">rte_timer_stop()</a> function stops the timer associated with the timer handle <em>tim</em>. It may fail if the timer is currently running or being configured.</p>
<p>If the timer is pending or stopped (for instance, already expired), the function will succeed. The timer handle tim must have been initialized using <a class="el" href="rte__timer_8h.html#a69340aa2987e22053aa8b88140fe18bb">rte_timer_init()</a>, otherwise, undefined behavior will occur.</p>
<p>This function can be called safely from a timer callback. If it succeeds, the timer is not referenced anymore by the timer library and the timer structure can be freed (even in the callback function).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tim</td><td>The timer handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: Success; the timer is stopped.</li>
<li>(-1): The timer is in the RUNNING or CONFIG state. </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2performance-thread_2common_2lthread_sched_8c-example.html#a14">examples/performance-thread/common/lthread_sched.c</a>, and <a class="el" href="examples_2timer_2main_8c-example.html#a4">examples/timer/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a0f28bb6cfb080e85c96090218fe5836e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f28bb6cfb080e85c96090218fe5836e">&#9670;&nbsp;</a></span>rte_timer_stop_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_timer_stop_sync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__timer.html">rte_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loop until <a class="el" href="rte__timer_8h.html#a6ab542d925bd43062013453bea656628">rte_timer_stop()</a> succeeds.</p>
<p>After a call to this function, the timer identified by <em>tim</em> is stopped. See <a class="el" href="rte__timer_8h.html#a6ab542d925bd43062013453bea656628">rte_timer_stop()</a> for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tim</td><td>The timer handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This API should not be called inside a timer's callback function to stop another timer; doing so could hang in certain scenarios. Instead, the <a class="el" href="rte__timer_8h.html#a6ab542d925bd43062013453bea656628">rte_timer_stop()</a> API can be called directly and its return code can be checked for success or failure. </dd></dl>

</div>
</div>
<a id="a4f4b64d60de5510f1f84945bb30e720e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f4b64d60de5510f1f84945bb30e720e">&#9670;&nbsp;</a></span>rte_timer_pending()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_timer_pending </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__timer.html">rte_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test if a timer is pending.</p>
<p>The <a class="el" href="rte__timer_8h.html#a4f4b64d60de5510f1f84945bb30e720e">rte_timer_pending()</a> function tests the PENDING status of the timer handle <em>tim</em>. A PENDING timer is one that has been scheduled and whose function has not yet been called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tim</td><td>The timer handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: The timer is not pending.</li>
<li>1: The timer is pending. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a8a4e7fa371cfee3650ce9520a8dbbdc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4e7fa371cfee3650ce9520a8dbbdc5">&#9670;&nbsp;</a></span>rte_timer_next_ticks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int64_t rte_timer_next_ticks </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd><b>EXPERIMENTAL:</b> this API may change without prior notice</dd></dl>
<p>Time until the next timer on the current lcore This function gives the ticks until the next timer will be active.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>-EINVAL: invalid timer data instance identifier</li>
<li>-ENOENT: no timer pending</li>
<li>0: a timer is pending and will run at next <a class="el" href="rte__timer_8h.html#aad81303c11541adfb88c62c47b863fa6">rte_timer_manage()</a></li>
<li>&gt;0: ticks until the next timer is ready </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aad81303c11541adfb88c62c47b863fa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad81303c11541adfb88c62c47b863fa6">&#9670;&nbsp;</a></span>rte_timer_manage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_timer_manage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Manage the timer list and execute callback functions.</p>
<p>This function must be called periodically from EAL lcores main_loop(). It browses the list of pending timers and runs all timers that are expired.</p>
<p>The precision of the timer depends on the call frequency of this function. However, the more often the function is called, the more CPU resources it will use.</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: Success</li>
<li>-EINVAL: timer subsystem not yet initialized </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l2fwd-jobstats_2main_8c-example.html#a34">examples/l2fwd-jobstats/main.c</a>, <a class="el" href="examples_2l2fwd-keepalive_2main_8c-example.html#a75">examples/l2fwd-keepalive/main.c</a>, <a class="el" href="examples_2l3fwd-power_2main_8c-example.html#a89">examples/l3fwd-power/main.c</a>, <a class="el" href="examples_2performance-thread_2common_2lthread_sched_8c-example.html#a18">examples/performance-thread/common/lthread_sched.c</a>, and <a class="el" href="examples_2timer_2main_8c-example.html#a9">examples/timer/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="af2dbce76a6cabb77d4c84d43f83e19da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2dbce76a6cabb77d4c84d43f83e19da">&#9670;&nbsp;</a></span>rte_timer_dump_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_timer_dump_stats </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dump statistics about timers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>A pointer to a file for output </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: Success</li>
<li>-EINVAL: timer subsystem not yet initialized </li>
</ul>
</dd></dl>

</div>
</div>
<a id="acbee623509b2a15aba9fa17c2d806c5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbee623509b2a15aba9fa17c2d806c5e">&#9670;&nbsp;</a></span>rte_timer_alt_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_timer_alt_reset </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timer_data_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__timer.html">rte_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>ticks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="rte__timer_8h.html#a5a5cb38c85e7504eda9c02a5dcefd0a7">rte_timer_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tim_lcore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rte__timer_8h.html#adaa9122b8472dee1e0400b6f9ff610c2">rte_timer_cb_t</a>&#160;</td>
          <td class="paramname"><em>fct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is the same as <a class="el" href="rte__timer_8h.html#a707296972ed4a11384b661653eb94187">rte_timer_reset()</a>, except that it allows a caller to specify the rte_timer_data instance containing the list to which the timer should be added.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rte__timer_8h.html#a707296972ed4a11384b661653eb94187">rte_timer_reset()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer_data_id</td><td>An identifier indicating which instance of timer data should be used for this operation. </td></tr>
    <tr><td class="paramname">tim</td><td>The timer handle. </td></tr>
    <tr><td class="paramname">ticks</td><td>The number of cycles (see rte_get_hpet_hz()) before the callback function is called. </td></tr>
    <tr><td class="paramname">type</td><td>The type can be either:<ul>
<li>PERIODICAL: The timer is automatically reloaded after execution (returns to the PENDING state)</li>
<li>SINGLE: The timer is one-shot, that is, the timer goes to a STOPPED state after execution. </li>
</ul>
</td></tr>
    <tr><td class="paramname">tim_lcore</td><td>The ID of the lcore where the timer callback function has to be executed. If tim_lcore is LCORE_ID_ANY, the timer library will launch it on a different core for each call (round-robin). </td></tr>
    <tr><td class="paramname">fct</td><td>The callback function of the timer. This parameter can be NULL if (and only if) <a class="el" href="rte__timer_8h.html#ac71e4ed398b4adba17c67ff089266b96">rte_timer_alt_manage()</a> will be used to manage this timer. </td></tr>
    <tr><td class="paramname">arg</td><td>The user argument of the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: Success; the timer is scheduled.</li>
<li>(-1): Timer is in the RUNNING or CONFIG state.</li>
<li>-EINVAL: invalid timer_data_id </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a06af032cbade11cd33ff561de12b127a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06af032cbade11cd33ff561de12b127a">&#9670;&nbsp;</a></span>rte_timer_alt_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_timer_alt_stop </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timer_data_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__timer.html">rte_timer</a> *&#160;</td>
          <td class="paramname"><em>tim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is the same as <a class="el" href="rte__timer_8h.html#a6ab542d925bd43062013453bea656628">rte_timer_stop()</a>, except that it allows a caller to specify the rte_timer_data instance containing the list from which this timer should be removed.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rte__timer_8h.html#a6ab542d925bd43062013453bea656628">rte_timer_stop()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer_data_id</td><td>An identifier indicating which instance of timer data should be used for this operation. </td></tr>
    <tr><td class="paramname">tim</td><td>The timer handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: Success; the timer is stopped.</li>
<li>(-1): The timer is in the RUNNING or CONFIG state.</li>
<li>-EINVAL: invalid timer_data_id </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ac71e4ed398b4adba17c67ff089266b96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac71e4ed398b4adba17c67ff089266b96">&#9670;&nbsp;</a></span>rte_timer_alt_manage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_timer_alt_manage </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timer_data_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>poll_lcores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_poll_lcores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rte__timer_8h.html#ad04b02697c9de40d3cfa41e1da297ee9">rte_timer_alt_manage_cb_t</a>&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Manage a set of timer lists and execute the specified callback function for all expired timers. This function is similar to <a class="el" href="rte__timer_8h.html#aad81303c11541adfb88c62c47b863fa6">rte_timer_manage()</a>, except that it allows a caller to specify the timer_data instance that should be operated on, as well as a set of lcore IDs identifying which timer lists should be processed. Callback functions of individual timers are ignored.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rte__timer_8h.html#aad81303c11541adfb88c62c47b863fa6">rte_timer_manage()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer_data_id</td><td>An identifier indicating which instance of timer data should be used for this operation. </td></tr>
    <tr><td class="paramname">poll_lcores</td><td>An array of lcore ids identifying the timer lists that should be processed. NULL is allowed - if NULL, the timer list corresponding to the lcore calling this routine is processed (same as <a class="el" href="rte__timer_8h.html#aad81303c11541adfb88c62c47b863fa6">rte_timer_manage()</a>). </td></tr>
    <tr><td class="paramname">n_poll_lcores</td><td>The size of the poll_lcores array. If 'poll_lcores' is NULL, this parameter is ignored. </td></tr>
    <tr><td class="paramname">f</td><td>The callback function which should be called for all expired timers. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: success</li>
<li>-EINVAL: invalid timer_data_id </li>
</ul>
</dd></dl>

</div>
</div>
<a id="affff01f1db5427ecd5b927c7ff6ee278"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affff01f1db5427ecd5b927c7ff6ee278">&#9670;&nbsp;</a></span>rte_timer_stop_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_timer_stop_all </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timer_data_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>walk_lcores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nb_walk_lcores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rte__timer_8h.html#a67d71b7204b4c499b929f85d61c53bcd">rte_timer_stop_all_cb_t</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>f_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Walk the pending timer lists for the specified lcore IDs, and for each timer that is encountered, stop it and call the specified callback function to process it further.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer_data_id</td><td>An identifier indicating which instance of timer data should be used for this operation. </td></tr>
    <tr><td class="paramname">walk_lcores</td><td>An array of lcore ids identifying the timer lists that should be processed. </td></tr>
    <tr><td class="paramname">nb_walk_lcores</td><td>The size of the walk_lcores array. </td></tr>
    <tr><td class="paramname">f</td><td>The callback function which should be called for each timers. Can be NULL. </td></tr>
    <tr><td class="paramname">f_arg</td><td>An arbitrary argument that will be passed to f, if it is called. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: success</li>
<li>EINVAL: invalid timer_data_id </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a70a4d9000d434ea9499cc0fc08e55743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a4d9000d434ea9499cc0fc08e55743">&#9670;&nbsp;</a></span>rte_timer_alt_dump_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_timer_alt_dump_stats </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timer_data_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is the same as <a class="el" href="rte__timer_8h.html#af2dbce76a6cabb77d4c84d43f83e19da">rte_timer_dump_stats()</a>, except that it allows the caller to specify the rte_timer_data instance that should be used.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rte__timer_8h.html#af2dbce76a6cabb77d4c84d43f83e19da">rte_timer_dump_stats()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer_data_id</td><td>An identifier indicating which instance of timer data should be used for this operation. </td></tr>
    <tr><td class="paramname">f</td><td>A pointer to a file for output </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0: success</li>
<li>-EINVAL: invalid timer_data_id </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="arte__timer_8h_html_a396b590f00383861a04cf3b59d604788"><div class="ttname"><a href="rte__timer_8h.html#a396b590f00383861a04cf3b59d604788">RTE_TIMER_STOP</a></div><div class="ttdeci">#define RTE_TIMER_STOP</div><div class="ttdef"><b>Definition:</b> <a href="rte__timer_8h_source.html#l00048">rte_timer.h:48</a></div></div>
<div class="ttc" id="arte__timer_8h_html_af987ae48c84d4da33ec5936d3c6214a3"><div class="ttname"><a href="rte__timer_8h.html#af987ae48c84d4da33ec5936d3c6214a3">RTE_TIMER_NO_OWNER</a></div><div class="ttdeci">#define RTE_TIMER_NO_OWNER</div><div class="ttdef"><b>Definition:</b> <a href="rte__timer_8h_source.html#l00053">rte_timer.h:53</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
