<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: lib/librte_mbuf/rte_mbuf_dyn.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a914dcfab5ff2d1bc9dd6b873a7b604d.html">librte_mbuf</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_mbuf_dyn.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;sys/types.h&gt;</code><br />
</div>
<p><a href="rte__mbuf__dyn_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__mbuf__dynfield.html">rte_mbuf_dynfield</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__mbuf__dynflag.html">rte_mbuf_dynflag</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5b59d0dbd15c85369cedd00d3d5133f2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#a5b59d0dbd15c85369cedd00d3d5133f2">RTE_MBUF_DYN_NAMESIZE</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a5b59d0dbd15c85369cedd00d3d5133f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3519e5885e62b3f99fa275b238418a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#ae3519e5885e62b3f99fa275b238418a5">RTE_MBUF_DYNFIELD</a>(m,  offset,  type)&#160;&#160;&#160;((type)((uintptr_t)(m) + (offset)))</td></tr>
<tr class="separator:ae3519e5885e62b3f99fa275b238418a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5159b2d34fa801d171ed0ccce451121b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#a5159b2d34fa801d171ed0ccce451121b">RTE_MBUF_DYNFIELD_TIMESTAMP_NAME</a>&#160;&#160;&#160;&quot;rte_dynfield_timestamp&quot;</td></tr>
<tr class="separator:a5159b2d34fa801d171ed0ccce451121b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a831d7066c7193788351797a65186848a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#a831d7066c7193788351797a65186848a">RTE_MBUF_DYNFLAG_RX_TIMESTAMP_NAME</a>&#160;&#160;&#160;&quot;rte_dynflag_rx_timestamp&quot;</td></tr>
<tr class="separator:a831d7066c7193788351797a65186848a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaef84c5eadedb4c2fad3d49eabd7f0df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#aaef84c5eadedb4c2fad3d49eabd7f0df">RTE_MBUF_DYNFLAG_TX_TIMESTAMP_NAME</a>&#160;&#160;&#160;&quot;rte_dynflag_tx_timestamp&quot;</td></tr>
<tr class="separator:aaef84c5eadedb4c2fad3d49eabd7f0df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3984617f05c58035165f4cd48e777581"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#a3984617f05c58035165f4cd48e777581">rte_mbuf_dynfield_register</a> (const struct <a class="el" href="structrte__mbuf__dynfield.html">rte_mbuf_dynfield</a> *params)</td></tr>
<tr class="separator:a3984617f05c58035165f4cd48e777581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a212b5213ee620526c773407f05fdd551"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#a212b5213ee620526c773407f05fdd551">rte_mbuf_dynfield_register_offset</a> (const struct <a class="el" href="structrte__mbuf__dynfield.html">rte_mbuf_dynfield</a> *params, size_t offset)</td></tr>
<tr class="separator:a212b5213ee620526c773407f05fdd551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6adf9b352a83e7d521fd6aa04e305b1c"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#a6adf9b352a83e7d521fd6aa04e305b1c">rte_mbuf_dynfield_lookup</a> (const char *name, struct <a class="el" href="structrte__mbuf__dynfield.html">rte_mbuf_dynfield</a> *params)</td></tr>
<tr class="separator:a6adf9b352a83e7d521fd6aa04e305b1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad73d20937b93f56ff5e7d790988855c9"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#ad73d20937b93f56ff5e7d790988855c9">rte_mbuf_dynflag_register</a> (const struct <a class="el" href="structrte__mbuf__dynflag.html">rte_mbuf_dynflag</a> *params)</td></tr>
<tr class="separator:ad73d20937b93f56ff5e7d790988855c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd64610719b4f57223d6f270c6626eb"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#a6dd64610719b4f57223d6f270c6626eb">rte_mbuf_dynflag_register_bitnum</a> (const struct <a class="el" href="structrte__mbuf__dynflag.html">rte_mbuf_dynflag</a> *params, unsigned int bitnum)</td></tr>
<tr class="separator:a6dd64610719b4f57223d6f270c6626eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d835027034f76a27eb2afe7987ae35"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#a89d835027034f76a27eb2afe7987ae35">rte_mbuf_dynflag_lookup</a> (const char *name, struct <a class="el" href="structrte__mbuf__dynflag.html">rte_mbuf_dynflag</a> *params)</td></tr>
<tr class="separator:a89d835027034f76a27eb2afe7987ae35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e24ca471f96058982f6b7a26ee4a802"><td class="memItemLeft" align="right" valign="top">__rte_experimental void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#a3e24ca471f96058982f6b7a26ee4a802">rte_mbuf_dyn_dump</a> (FILE *out)</td></tr>
<tr class="separator:a3e24ca471f96058982f6b7a26ee4a802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7635e95a6bea0811e01fe06a2a55c1c0"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#a7635e95a6bea0811e01fe06a2a55c1c0">rte_mbuf_dyn_rx_timestamp_register</a> (int *field_offset, uint64_t *rx_flag)</td></tr>
<tr class="separator:a7635e95a6bea0811e01fe06a2a55c1c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad01bfd3e868d6b8c7f97ebca693e6aa9"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__mbuf__dyn_8h.html#ad01bfd3e868d6b8c7f97ebca693e6aa9">rte_mbuf_dyn_tx_timestamp_register</a> (int *field_offset, uint64_t *tx_flag)</td></tr>
<tr class="separator:ad01bfd3e868d6b8c7f97ebca693e6aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTE Mbuf dynamic fields and flags</p>
<p>Many DPDK features require to store data inside the mbuf. As the room in mbuf structure is limited, it is not possible to have a field for each feature. Also, changing fields in the mbuf structure can break the API or ABI.</p>
<p>This module addresses this issue, by enabling the dynamic registration of fields or flags:</p>
<ul>
<li>a dynamic field is a named area in the <a class="el" href="structrte__mbuf.html">rte_mbuf</a> structure, with a given size (&gt;= 1 byte) and alignment constraint.</li>
<li>a dynamic flag is a named bit in the <a class="el" href="structrte__mbuf.html">rte_mbuf</a> structure, stored in mbuf-&gt;ol_flags.</li>
</ul>
<p>The placement of the field or flag can be automatic, in this case the zones that have the smallest size and alignment constraint are selected in priority. Else, a specific field offset or flag bit number can be requested through the API.</p>
<p>The typical use case is when a specific offload feature requires to register a dedicated offload field in the mbuf structure, and adding a static field or flag is not justified.</p>
<p>Example of use:</p>
<ul>
<li>A <a class="el" href="structrte__mbuf__dynfield.html">rte_mbuf_dynfield</a> structure is defined, containing the parameters of the dynamic field to be registered: const struct <a class="el" href="structrte__mbuf__dynfield.html">rte_mbuf_dynfield</a> rte_dynfield_my_feature = { ... };</li>
<li>The application initializes the PMD, and asks for this feature at port initialization by passing DEV_RX_OFFLOAD_MY_FEATURE in rxconf. This will make the PMD to register the field by calling rte_mbuf_dynfield_register(&amp;rte_dynfield_my_feature). The PMD stores the returned offset.</li>
<li>The application that uses the offload feature also registers the field to retrieve the same offset.</li>
<li>When the PMD receives a packet, it can set the field: *RTE_MBUF_DYNFIELD(m, offset, &lt;type *&gt;) = value;</li>
<li>In the main loop, the application can retrieve the value with the same macro.</li>
</ul>
<p>To avoid wasting space, the dynamic fields or flags must only be reserved on demand, when an application asks for the related feature.</p>
<p>The registration can be done at any moment, but it is not possible to unregister fields or flags for now.</p>
<p>A dynamic field can be reserved and used by an application only. It can for instance be a packet mark.</p>
<p>To avoid namespace collisions, the dynamic mbuf field or flag names have to be chosen with care. It is advised to use the same conventions than function names in dpdk:</p><ul>
<li>"rte_mbuf_dynfield_&lt;name&gt;" if defined in mbuf library</li>
<li>"rte_&lt;libname&gt;_dynfield_&lt;name&gt;" if defined in another library</li>
<li>"rte_net_&lt;pmd&gt;_dynfield_&lt;name&gt;" if defined in a PMD</li>
<li>any name that does not start with "rte_" in an application </li>
</ul>

<p class="definition">Definition in file <a class="el" href="rte__mbuf__dyn_8h_source.html">rte_mbuf_dyn.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5b59d0dbd15c85369cedd00d3d5133f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b59d0dbd15c85369cedd00d3d5133f2">&#9670;&nbsp;</a></span>RTE_MBUF_DYN_NAMESIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_MBUF_DYN_NAMESIZE&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum length of the dynamic field or flag string. </p>

<p class="definition">Definition at line <a class="el" href="rte__mbuf__dyn_8h_source.html#l00073">73</a> of file <a class="el" href="rte__mbuf__dyn_8h_source.html">rte_mbuf_dyn.h</a>.</p>

</div>
</div>
<a id="ae3519e5885e62b3f99fa275b238418a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3519e5885e62b3f99fa275b238418a5">&#9670;&nbsp;</a></span>RTE_MBUF_DYNFIELD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_MBUF_DYNFIELD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">m, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">offset, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((type)((uintptr_t)(m) + (offset)))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Helper macro to access to a dynamic field. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2bbdev_app_2main_8c-example.html#a1">examples/bbdev_app/main.c</a>, and <a class="el" href="examples_2rxtx_callbacks_2main_8c-example.html#a1">examples/rxtx_callbacks/main.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rte__mbuf__dyn_8h_source.html#l00226">226</a> of file <a class="el" href="rte__mbuf__dyn_8h_source.html">rte_mbuf_dyn.h</a>.</p>

</div>
</div>
<a id="a5159b2d34fa801d171ed0ccce451121b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5159b2d34fa801d171ed0ccce451121b">&#9670;&nbsp;</a></span>RTE_MBUF_DYNFIELD_TIMESTAMP_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_MBUF_DYNFIELD_TIMESTAMP_NAME&#160;&#160;&#160;&quot;rte_dynfield_timestamp&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The timestamp dynamic field provides some timing information, the units and time references (initial phase) are not explicitly defined but are maintained always the same for a given port. Some devices allow to query <a class="el" href="rte__ethdev_8h.html#a4346bf07a0d302c9ba4fe06baffd3196">rte_eth_read_clock()</a> that will return the current device timestamp. The dynamic Tx timestamp flag tells whether the field contains actual timestamp value for the packets being sent, this value can be used by PMD to schedule packet sending. </p>

<p class="definition">Definition at line <a class="el" href="rte__mbuf__dyn_8h_source.html#l00262">262</a> of file <a class="el" href="rte__mbuf__dyn_8h_source.html">rte_mbuf_dyn.h</a>.</p>

</div>
</div>
<a id="a831d7066c7193788351797a65186848a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a831d7066c7193788351797a65186848a">&#9670;&nbsp;</a></span>RTE_MBUF_DYNFLAG_RX_TIMESTAMP_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_MBUF_DYNFLAG_RX_TIMESTAMP_NAME&#160;&#160;&#160;&quot;rte_dynflag_rx_timestamp&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicate that the timestamp field in the mbuf was filled by the driver. </p>

<p class="definition">Definition at line <a class="el" href="rte__mbuf__dyn_8h_source.html#l00268">268</a> of file <a class="el" href="rte__mbuf__dyn_8h_source.html">rte_mbuf_dyn.h</a>.</p>

</div>
</div>
<a id="aaef84c5eadedb4c2fad3d49eabd7f0df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaef84c5eadedb4c2fad3d49eabd7f0df">&#9670;&nbsp;</a></span>RTE_MBUF_DYNFLAG_TX_TIMESTAMP_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_MBUF_DYNFLAG_TX_TIMESTAMP_NAME&#160;&#160;&#160;&quot;rte_dynflag_tx_timestamp&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When PMD sees the RTE_MBUF_DYNFLAG_TX_TIMESTAMP_NAME flag set on the packet being sent it tries to synchronize the time of packet appearing on the wire with the specified packet timestamp. If the specified one is in the past it should be ignored, if one is in the distant future it should be capped with some reasonable value (in range of seconds).</p>
<p>There is no any packet reordering according to timestamps is supposed, neither for packet within the burst, nor for the whole bursts, it is an entirely application responsibility to generate packets and its timestamps in desired order. The timestamps might be put only in the first packet in the burst providing the entire burst scheduling. </p>

<p class="definition">Definition at line <a class="el" href="rte__mbuf__dyn_8h_source.html#l00305">305</a> of file <a class="el" href="rte__mbuf__dyn_8h_source.html">rte_mbuf_dyn.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3984617f05c58035165f4cd48e777581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3984617f05c58035165f4cd48e777581">&#9670;&nbsp;</a></span>rte_mbuf_dynfield_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_mbuf_dynfield_register </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structrte__mbuf__dynfield.html">rte_mbuf_dynfield</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register space for a dynamic field in the mbuf structure.</p>
<p>If the field is already registered (same name and parameters), its offset is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>A structure containing the requested parameters (name, size, alignment constraint and flags). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The offset in the mbuf structure, or -1 on error. Possible values for rte_errno:<ul>
<li>EINVAL: invalid parameters (size, align, or flags).</li>
<li>EEXIST: this name is already register with different parameters.</li>
<li>EPERM: called from a secondary process.</li>
<li>ENOENT: not enough room in mbuf.</li>
<li>ENOMEM: allocation failure.</li>
<li>ENAMETOOLONG: name does not ends with \0. </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2bbdev_app_2main_8c-example.html#a120">examples/bbdev_app/main.c</a>, and <a class="el" href="examples_2rxtx_callbacks_2main_8c-example.html#a50">examples/rxtx_callbacks/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a212b5213ee620526c773407f05fdd551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a212b5213ee620526c773407f05fdd551">&#9670;&nbsp;</a></span>rte_mbuf_dynfield_register_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_mbuf_dynfield_register_offset </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structrte__mbuf__dynfield.html">rte_mbuf_dynfield</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register space for a dynamic field in the mbuf structure at offset.</p>
<p>If the field is already registered (same name, parameters and offset), the offset is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>A structure containing the requested parameters (name, size, alignment constraint and flags). </td></tr>
    <tr><td class="paramname">offset</td><td>The requested offset. Ignored if SIZE_MAX is passed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The offset in the mbuf structure, or -1 on error. Possible values for rte_errno:<ul>
<li>EINVAL: invalid parameters (size, align, flags, or offset).</li>
<li>EEXIST: this name is already register with different parameters.</li>
<li>EBUSY: the requested offset cannot be used.</li>
<li>EPERM: called from a secondary process.</li>
<li>ENOENT: not enough room in mbuf.</li>
<li>ENOMEM: allocation failure.</li>
<li>ENAMETOOLONG: name does not ends with \0. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a6adf9b352a83e7d521fd6aa04e305b1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6adf9b352a83e7d521fd6aa04e305b1c">&#9670;&nbsp;</a></span>rte_mbuf_dynfield_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_mbuf_dynfield_lookup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf__dynfield.html">rte_mbuf_dynfield</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lookup for a registered dynamic mbuf field.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>A string identifying the dynamic field. </td></tr>
    <tr><td class="paramname">params</td><td>If not NULL, and if the lookup is successful, the structure is filled with the parameters of the dynamic field. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The offset of this field in the mbuf structure, or -1 on error. Possible values for rte_errno:<ul>
<li>ENOENT: no dynamic field matches this name. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ad73d20937b93f56ff5e7d790988855c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad73d20937b93f56ff5e7d790988855c9">&#9670;&nbsp;</a></span>rte_mbuf_dynflag_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_mbuf_dynflag_register </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structrte__mbuf__dynflag.html">rte_mbuf_dynflag</a> *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a dynamic flag in the mbuf structure.</p>
<p>If the flag is already registered (same name and parameters), its bitnum is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>A structure containing the requested parameters of the dynamic flag (name and options). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of the reserved bit, or -1 on error. Possible values for rte_errno:<ul>
<li>EINVAL: invalid parameters (size, align, or flags).</li>
<li>EEXIST: this name is already register with different parameters.</li>
<li>EPERM: called from a secondary process.</li>
<li>ENOENT: no more flag available.</li>
<li>ENOMEM: allocation failure.</li>
<li>ENAMETOOLONG: name is longer than RTE_MBUF_DYN_NAMESIZE - 1. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a6dd64610719b4f57223d6f270c6626eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dd64610719b4f57223d6f270c6626eb">&#9670;&nbsp;</a></span>rte_mbuf_dynflag_register_bitnum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_mbuf_dynflag_register_bitnum </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structrte__mbuf__dynflag.html">rte_mbuf_dynflag</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>bitnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a dynamic flag in the mbuf structure specifying bitnum.</p>
<p>If the flag is already registered (same name, parameters and bitnum), the bitnum is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>A structure containing the requested parameters of the dynamic flag (name and options). </td></tr>
    <tr><td class="paramname">bitnum</td><td>The requested bitnum. Ignored if UINT_MAX is passed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of the reserved bit, or -1 on error. Possible values for rte_errno:<ul>
<li>EINVAL: invalid parameters (size, align, or flags).</li>
<li>EEXIST: this name is already register with different parameters.</li>
<li>EBUSY: the requested bitnum cannot be used.</li>
<li>EPERM: called from a secondary process.</li>
<li>ENOENT: no more flag available.</li>
<li>ENOMEM: allocation failure.</li>
<li>ENAMETOOLONG: name is longer than RTE_MBUF_DYN_NAMESIZE - 1. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a89d835027034f76a27eb2afe7987ae35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d835027034f76a27eb2afe7987ae35">&#9670;&nbsp;</a></span>rte_mbuf_dynflag_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_mbuf_dynflag_lookup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf__dynflag.html">rte_mbuf_dynflag</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lookup for a registered dynamic mbuf flag.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>A string identifying the dynamic flag. </td></tr>
    <tr><td class="paramname">params</td><td>If not NULL, and if the lookup is successful, the structure is filled with the parameters of the dynamic flag. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The offset of this flag in the mbuf structure, or -1 on error. Possible values for rte_errno:<ul>
<li>ENOENT: no dynamic flag matches this name. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a3e24ca471f96058982f6b7a26ee4a802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e24ca471f96058982f6b7a26ee4a802">&#9670;&nbsp;</a></span>rte_mbuf_dyn_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental void rte_mbuf_dyn_dump </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>out</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dump the status of dynamic fields and flags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>The stream where the status is displayed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7635e95a6bea0811e01fe06a2a55c1c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7635e95a6bea0811e01fe06a2a55c1c0">&#9670;&nbsp;</a></span>rte_mbuf_dyn_rx_timestamp_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_mbuf_dyn_rx_timestamp_register </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>field_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>rx_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd><b>EXPERIMENTAL:</b> this API may change without prior notice.</dd></dl>
<p>Register dynamic mbuf field and flag for Rx timestamp.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">field_offset</td><td>Pointer to the offset of the registered mbuf field, can be NULL. The same field is shared for Rx and Tx timestamp. </td></tr>
    <tr><td class="paramname">rx_flag</td><td>Pointer to the mask of the registered offload flag, can be NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 otherwise. Possible values for rte_errno:<ul>
<li>EEXIST: already registered with different parameters.</li>
<li>EPERM: called from a secondary process.</li>
<li>ENOENT: no more field or flag available.</li>
<li>ENOMEM: allocation failure. </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2rxtx_callbacks_2main_8c-example.html#a19">examples/rxtx_callbacks/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="ad01bfd3e868d6b8c7f97ebca693e6aa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad01bfd3e868d6b8c7f97ebca693e6aa9">&#9670;&nbsp;</a></span>rte_mbuf_dyn_tx_timestamp_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_mbuf_dyn_tx_timestamp_register </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>field_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>tx_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd><b>EXPERIMENTAL:</b> this API may change without prior notice.</dd></dl>
<p>Register dynamic mbuf field and flag for Tx timestamp.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">field_offset</td><td>Pointer to the offset of the registered mbuf field, can be NULL. The same field is shared for Rx and Tx timestamp. </td></tr>
    <tr><td class="paramname">tx_flag</td><td>Pointer to the mask of the registered offload flag, can be NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 otherwise. Possible values for rte_errno:<ul>
<li>EEXIST: already registered with different parameters.</li>
<li>EPERM: called from a secondary process.</li>
<li>ENOENT: no more field or flag available.</li>
<li>ENOMEM: allocation failure. </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
