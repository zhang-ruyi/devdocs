<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: lib/librte_vhost/rte_vhost.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_41189bc1b2cbbbf473cc198cfd351ef1.html">librte_vhost</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_vhost.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;sys/eventfd.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__memory_8h_source.html">rte_memory.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__mempool_8h_source.html">rte_mempool.h</a>&gt;</code><br />
<code>#include &lt;linux/vhost.h&gt;</code><br />
<code>#include &lt;linux/virtio_ring.h&gt;</code><br />
<code>#include &lt;linux/virtio_net.h&gt;</code><br />
</div>
<p><a href="rte__vhost_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__vhost__mem__region.html">rte_vhost_mem_region</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__vhost__memory.html">rte_vhost_memory</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__vhost__user__extern__ops.html">rte_vhost_user_extern_ops</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvhost__device__ops.html">vhost_device_ops</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad4c76d8ccd8a7d2724746ad4da2aab82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#ad4c76d8ccd8a7d2724746ad4da2aab82">VHOST_USER_PROTOCOL_F_MQ</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ad4c76d8ccd8a7d2724746ad4da2aab82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749ca50976f9a39026a9037f051cf77b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a749ca50976f9a39026a9037f051cf77b">VHOST_USER_F_PROTOCOL_FEATURES</a>&#160;&#160;&#160;30</td></tr>
<tr class="separator:a749ca50976f9a39026a9037f051cf77b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a8b80e1c3cf83c093142f92c8f423233f"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="rte__vhost_8h.html#a133e8f72748aee66309d94aa67b4453c">rte_vhost_msg_result</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a8b80e1c3cf83c093142f92c8f423233f">rte_vhost_msg_handle</a>) (int vid, void *msg)</td></tr>
<tr class="separator:a8b80e1c3cf83c093142f92c8f423233f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a133e8f72748aee66309d94aa67b4453c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a133e8f72748aee66309d94aa67b4453c">rte_vhost_msg_result</a> </td></tr>
<tr class="separator:a133e8f72748aee66309d94aa67b4453c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab303908ed4ef422f74bc0755b624f0e3"><td class="memItemLeft" align="right" valign="top">static __rte_deprecated <a class="el" href="rte__common_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#ab303908ed4ef422f74bc0755b624f0e3">rte_vhost_gpa_to_vva</a> (struct <a class="el" href="structrte__vhost__memory.html">rte_vhost_memory</a> *mem, uint64_t gpa)</td></tr>
<tr class="separator:ab303908ed4ef422f74bc0755b624f0e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2deb7d5116b92a1cc150c11e306fad98"><td class="memItemLeft" align="right" valign="top">static __rte_experimental <a class="el" href="rte__common_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a2deb7d5116b92a1cc150c11e306fad98">rte_vhost_va_from_guest_pa</a> (struct <a class="el" href="structrte__vhost__memory.html">rte_vhost_memory</a> *mem, uint64_t gpa, uint64_t *len)</td></tr>
<tr class="separator:a2deb7d5116b92a1cc150c11e306fad98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c444f9de28d3cbe8af7e3626349688d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a6c444f9de28d3cbe8af7e3626349688d">rte_vhost_log_write</a> (int vid, uint64_t addr, uint64_t len)</td></tr>
<tr class="separator:a6c444f9de28d3cbe8af7e3626349688d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac74a53ddeaab3d90b58c0ce984dd78b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#ac74a53ddeaab3d90b58c0ce984dd78b2">rte_vhost_log_used_vring</a> (int vid, uint16_t vring_idx, uint64_t offset, uint64_t len)</td></tr>
<tr class="separator:ac74a53ddeaab3d90b58c0ce984dd78b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a3ce366de790a49a0b64f1d7e42eea6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a8a3ce366de790a49a0b64f1d7e42eea6">rte_vhost_driver_register</a> (const char *path, uint64_t flags)</td></tr>
<tr class="separator:a8a3ce366de790a49a0b64f1d7e42eea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a626b366c380069fcc0bc437a14d612aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a626b366c380069fcc0bc437a14d612aa">rte_vhost_driver_attach_vdpa_device</a> (const char *path, struct <a class="el" href="structrte__vdpa__device.html">rte_vdpa_device</a> *dev)</td></tr>
<tr class="separator:a626b366c380069fcc0bc437a14d612aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac1c327c1179055fd1b505bf9c486e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#aeac1c327c1179055fd1b505bf9c486e2">rte_vhost_driver_detach_vdpa_device</a> (const char *path)</td></tr>
<tr class="separator:aeac1c327c1179055fd1b505bf9c486e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a9b9300d26f6e05690617e297ea07d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structrte__vdpa__device.html">rte_vdpa_device</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#aa1a9b9300d26f6e05690617e297ea07d">rte_vhost_driver_get_vdpa_device</a> (const char *path)</td></tr>
<tr class="separator:aa1a9b9300d26f6e05690617e297ea07d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4455350b61b2ac164c2239ab320387cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a4455350b61b2ac164c2239ab320387cd">rte_vhost_driver_set_features</a> (const char *path, uint64_t features)</td></tr>
<tr class="separator:a4455350b61b2ac164c2239ab320387cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac49be562963c15d4cb1b6bbb75147de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#aac49be562963c15d4cb1b6bbb75147de">rte_vhost_driver_enable_features</a> (const char *path, uint64_t features)</td></tr>
<tr class="separator:aac49be562963c15d4cb1b6bbb75147de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4c6cbe7c20587979918137353a738f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#afa4c6cbe7c20587979918137353a738f">rte_vhost_driver_disable_features</a> (const char *path, uint64_t features)</td></tr>
<tr class="separator:afa4c6cbe7c20587979918137353a738f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90ceaf42c7ce44a8198e8bc5d8908db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#ad90ceaf42c7ce44a8198e8bc5d8908db">rte_vhost_driver_get_features</a> (const char *path, uint64_t *features)</td></tr>
<tr class="separator:ad90ceaf42c7ce44a8198e8bc5d8908db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2827cc492a27a66f9059352ca515f51"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#aa2827cc492a27a66f9059352ca515f51">rte_vhost_driver_set_protocol_features</a> (const char *path, uint64_t protocol_features)</td></tr>
<tr class="separator:aa2827cc492a27a66f9059352ca515f51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40293a536f34635589d5dfb06ec1e390"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a40293a536f34635589d5dfb06ec1e390">rte_vhost_driver_get_protocol_features</a> (const char *path, uint64_t *protocol_features)</td></tr>
<tr class="separator:a40293a536f34635589d5dfb06ec1e390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ca3a715b399ada215e21fe5cd0b71a3"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a8ca3a715b399ada215e21fe5cd0b71a3">rte_vhost_driver_get_queue_num</a> (const char *path, uint32_t *queue_num)</td></tr>
<tr class="separator:a8ca3a715b399ada215e21fe5cd0b71a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c1fbdab537b4021941bab15e26b21f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a1c1fbdab537b4021941bab15e26b21f9">rte_vhost_get_negotiated_features</a> (int vid, uint64_t *features)</td></tr>
<tr class="separator:a1c1fbdab537b4021941bab15e26b21f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a794f0d9c9550fe705a9b090c72cfe7be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a794f0d9c9550fe705a9b090c72cfe7be">rte_vhost_driver_start</a> (const char *path)</td></tr>
<tr class="separator:a794f0d9c9550fe705a9b090c72cfe7be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e4ddd7f21c61efff5eb5224bd41b7bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a1e4ddd7f21c61efff5eb5224bd41b7bf">rte_vhost_get_mtu</a> (int vid, uint16_t *mtu)</td></tr>
<tr class="separator:a1e4ddd7f21c61efff5eb5224bd41b7bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a735e9f44a54f373f6aa1be07aa939793"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a735e9f44a54f373f6aa1be07aa939793">rte_vhost_get_numa_node</a> (int vid)</td></tr>
<tr class="separator:a735e9f44a54f373f6aa1be07aa939793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa37c692a3f4f563168629a2fcf2f7b51"><td class="memItemLeft" align="right" valign="top">__rte_deprecated uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#aa37c692a3f4f563168629a2fcf2f7b51">rte_vhost_get_queue_num</a> (int vid)</td></tr>
<tr class="separator:aa37c692a3f4f563168629a2fcf2f7b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07fe188216c6544b0b62baf911622c99"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a07fe188216c6544b0b62baf911622c99">rte_vhost_get_vring_num</a> (int vid)</td></tr>
<tr class="separator:a07fe188216c6544b0b62baf911622c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16848dac4304c973b24ced868ac3add8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a16848dac4304c973b24ced868ac3add8">rte_vhost_get_ifname</a> (int vid, char *buf, size_t len)</td></tr>
<tr class="separator:a16848dac4304c973b24ced868ac3add8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce29baa4ace979410c756d2995fcfbc"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a4ce29baa4ace979410c756d2995fcfbc">rte_vhost_avail_entries</a> (int vid, uint16_t queue_id)</td></tr>
<tr class="separator:a4ce29baa4ace979410c756d2995fcfbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab322aa002dabda6b4c6c643afd89379"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#aab322aa002dabda6b4c6c643afd89379">rte_vhost_enqueue_burst</a> (int vid, uint16_t queue_id, struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **pkts, uint16_t count)</td></tr>
<tr class="separator:aab322aa002dabda6b4c6c643afd89379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2da232dbf5306f4903ae3285d71a97d7"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a2da232dbf5306f4903ae3285d71a97d7">rte_vhost_dequeue_burst</a> (int vid, uint16_t queue_id, struct <a class="el" href="structrte__mempool.html">rte_mempool</a> *mbuf_pool, struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **pkts, uint16_t count)</td></tr>
<tr class="separator:a2da232dbf5306f4903ae3285d71a97d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a398c60c6b04e6eeaa72359b527661bc2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a398c60c6b04e6eeaa72359b527661bc2">rte_vhost_get_mem_table</a> (int vid, struct <a class="el" href="structrte__vhost__memory.html">rte_vhost_memory</a> **mem)</td></tr>
<tr class="separator:a398c60c6b04e6eeaa72359b527661bc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5891bd49d76cbe72ecfe2c87fc1fe853"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a5891bd49d76cbe72ecfe2c87fc1fe853">rte_vhost_get_vhost_vring</a> (int vid, uint16_t vring_idx, struct rte_vhost_vring *vring)</td></tr>
<tr class="separator:a5891bd49d76cbe72ecfe2c87fc1fe853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2b7b19139cd804f6747ec374475fba3"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#af2b7b19139cd804f6747ec374475fba3">rte_vhost_get_vhost_ring_inflight</a> (int vid, uint16_t vring_idx, struct rte_vhost_ring_inflight *vring)</td></tr>
<tr class="separator:af2b7b19139cd804f6747ec374475fba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54c0b385ce21f33a84c447fdac4076d9"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a54c0b385ce21f33a84c447fdac4076d9">rte_vhost_set_inflight_desc_split</a> (int vid, uint16_t vring_idx, uint16_t idx)</td></tr>
<tr class="separator:a54c0b385ce21f33a84c447fdac4076d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a155457616d06ca66e9be9095fe366d65"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a155457616d06ca66e9be9095fe366d65">rte_vhost_set_inflight_desc_packed</a> (int vid, uint16_t vring_idx, uint16_t head, uint16_t last, uint16_t *inflight_entry)</td></tr>
<tr class="separator:a155457616d06ca66e9be9095fe366d65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b3d18ab95a9baf4a9412c2f442777f2"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a6b3d18ab95a9baf4a9412c2f442777f2">rte_vhost_set_last_inflight_io_split</a> (int vid, uint16_t vring_idx, uint16_t idx)</td></tr>
<tr class="separator:a6b3d18ab95a9baf4a9412c2f442777f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33071190516d5aca5eaa61638b5697cf"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a33071190516d5aca5eaa61638b5697cf">rte_vhost_set_last_inflight_io_packed</a> (int vid, uint16_t vring_idx, uint16_t head)</td></tr>
<tr class="separator:a33071190516d5aca5eaa61638b5697cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbbd575a762c2c82eea09f718427d45f"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#adbbd575a762c2c82eea09f718427d45f">rte_vhost_clr_inflight_desc_split</a> (int vid, uint16_t vring_idx, uint16_t last_used_idx, uint16_t idx)</td></tr>
<tr class="separator:adbbd575a762c2c82eea09f718427d45f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce528fcfffa73ab4cbc4e3f5473ff97"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#adce528fcfffa73ab4cbc4e3f5473ff97">rte_vhost_clr_inflight_desc_packed</a> (int vid, uint16_t vring_idx, uint16_t head)</td></tr>
<tr class="separator:adce528fcfffa73ab4cbc4e3f5473ff97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e00d8df9ee6d508aea6f807d0c09f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#aa2e00d8df9ee6d508aea6f807d0c09f3">rte_vhost_vring_call</a> (int vid, uint16_t vring_idx)</td></tr>
<tr class="separator:aa2e00d8df9ee6d508aea6f807d0c09f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a104d2d64af6793e7fb74289d2c0fec01"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a104d2d64af6793e7fb74289d2c0fec01">rte_vhost_rx_queue_count</a> (int vid, uint16_t qid)</td></tr>
<tr class="separator:a104d2d64af6793e7fb74289d2c0fec01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae256f29db422d93018cef7f2e4ac5b94"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#ae256f29db422d93018cef7f2e4ac5b94">rte_vhost_get_log_base</a> (int vid, uint64_t *log_base, uint64_t *log_size)</td></tr>
<tr class="separator:ae256f29db422d93018cef7f2e4ac5b94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43208ebb5b4b4fad1a7a93333250cf83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a43208ebb5b4b4fad1a7a93333250cf83">rte_vhost_get_vring_base</a> (int vid, uint16_t queue_id, uint16_t *last_avail_idx, uint16_t *last_used_idx)</td></tr>
<tr class="separator:a43208ebb5b4b4fad1a7a93333250cf83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ae1a415495b7e47c27886a40f617f0"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a44ae1a415495b7e47c27886a40f617f0">rte_vhost_get_vring_base_from_inflight</a> (int vid, uint16_t queue_id, uint16_t *last_avail_idx, uint16_t *last_used_idx)</td></tr>
<tr class="separator:a44ae1a415495b7e47c27886a40f617f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c0070bd8fd96beb8c57e4308226498d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a8c0070bd8fd96beb8c57e4308226498d">rte_vhost_set_vring_base</a> (int vid, uint16_t queue_id, uint16_t last_avail_idx, uint16_t last_used_idx)</td></tr>
<tr class="separator:a8c0070bd8fd96beb8c57e4308226498d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e0f431259bd3d2dddb33977946b18ed"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a2e0f431259bd3d2dddb33977946b18ed">rte_vhost_extern_callback_register</a> (int vid, struct <a class="el" href="structrte__vhost__user__extern__ops.html">rte_vhost_user_extern_ops</a> const *const ops, void *ctx)</td></tr>
<tr class="separator:a2e0f431259bd3d2dddb33977946b18ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d4137617a0274f39347876462f8058d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structrte__vdpa__device.html">rte_vdpa_device</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a0d4137617a0274f39347876462f8058d">rte_vhost_get_vdpa_device</a> (int vid)</td></tr>
<tr class="separator:a0d4137617a0274f39347876462f8058d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab6fa8610754de1221a5cd5a8ceb21a"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__vhost_8h.html#a0ab6fa8610754de1221a5cd5a8ceb21a">rte_vhost_slave_config_change</a> (int vid, bool need_reply)</td></tr>
<tr class="separator:a0ab6fa8610754de1221a5cd5a8ceb21a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface to vhost-user </p>

<p class="definition">Definition in file <a class="el" href="rte__vhost_8h_source.html">rte_vhost.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad4c76d8ccd8a7d2724746ad4da2aab82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4c76d8ccd8a7d2724746ad4da2aab82">&#9670;&nbsp;</a></span>VHOST_USER_PROTOCOL_F_MQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VHOST_USER_PROTOCOL_F_MQ&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Protocol features. </p>

<p class="definition">Definition at line <a class="el" href="rte__vhost_8h_source.html#l00059">59</a> of file <a class="el" href="rte__vhost_8h_source.html">rte_vhost.h</a>.</p>

</div>
</div>
<a id="a749ca50976f9a39026a9037f051cf77b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a749ca50976f9a39026a9037f051cf77b">&#9670;&nbsp;</a></span>VHOST_USER_F_PROTOCOL_FEATURES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VHOST_USER_F_PROTOCOL_FEATURES&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicate whether protocol features negotiation is supported. </p>

<p class="definition">Definition at line <a class="el" href="rte__vhost_8h_source.html#l00112">112</a> of file <a class="el" href="rte__vhost_8h_source.html">rte_vhost.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a8b80e1c3cf83c093142f92c8f423233f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b80e1c3cf83c093142f92c8f423233f">&#9670;&nbsp;</a></span>rte_vhost_msg_handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="rte__vhost_8h.html#a133e8f72748aee66309d94aa67b4453c">rte_vhost_msg_result</a>(* rte_vhost_msg_handle) (int vid, void *msg)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function prototype for the vhost backend to handle specific vhost user messages.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device id </td></tr>
    <tr><td class="paramname">msg</td><td>Message pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RTE_VHOST_MSG_RESULT_OK on success, RTE_VHOST_MSG_RESULT_REPLY on success with reply, RTE_VHOST_MSG_RESULT_ERR on failure, RTE_VHOST_MSG_RESULT_NOT_HANDLED if message was not handled. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rte__vhost_8h_source.html#l00001">1</a> of file <a class="el" href="rte__vhost_8h_source.html">rte_vhost.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a133e8f72748aee66309d94aa67b4453c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a133e8f72748aee66309d94aa67b4453c">&#9670;&nbsp;</a></span>rte_vhost_msg_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rte__vhost_8h.html#a133e8f72748aee66309d94aa67b4453c">rte_vhost_msg_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Possible results of the vhost user message handling callbacks </p>

<p class="definition">Definition at line <a class="el" href="rte__vhost_8h_source.html#l00226">226</a> of file <a class="el" href="rte__vhost_8h_source.html">rte_vhost.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab303908ed4ef422f74bc0755b624f0e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab303908ed4ef422f74bc0755b624f0e3">&#9670;&nbsp;</a></span>rte_vhost_gpa_to_vva()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __rte_deprecated <a class="el" href="rte__common_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> uint64_t rte_vhost_gpa_to_vva </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__vhost__memory.html">rte_vhost_memory</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>gpa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert guest physical address to host virtual address</p>
<p>This function is deprecated because unsafe. New <a class="el" href="rte__vhost_8h.html#a2deb7d5116b92a1cc150c11e306fad98">rte_vhost_va_from_guest_pa()</a> should be used instead to ensure guest physical ranges are fully and contiguously mapped into process virtual address space.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mem</td><td>the guest memory regions </td></tr>
    <tr><td class="paramname">gpa</td><td>the guest physical address for querying </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the host virtual address on success, 0 on failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="rte__vhost_8h_source.html#l00311">311</a> of file <a class="el" href="rte__vhost_8h_source.html">rte_vhost.h</a>.</p>

</div>
</div>
<a id="a2deb7d5116b92a1cc150c11e306fad98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2deb7d5116b92a1cc150c11e306fad98">&#9670;&nbsp;</a></span>rte_vhost_va_from_guest_pa()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __rte_experimental <a class="el" href="rte__common_8h.html#af1e21922385a6cbe051e3ab70bba9f11">__rte_always_inline</a> uint64_t rte_vhost_va_from_guest_pa </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__vhost__memory.html">rte_vhost_memory</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>gpa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert guest physical address to host virtual address safely</p>
<p>This variant of <a class="el" href="rte__vhost_8h.html#ab303908ed4ef422f74bc0755b624f0e3">rte_vhost_gpa_to_vva()</a> takes care all the requested length is mapped and contiguous in process address space.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mem</td><td>the guest memory regions </td></tr>
    <tr><td class="paramname">gpa</td><td>the guest physical address for querying </td></tr>
    <tr><td class="paramname">len</td><td>the size of the requested area to map, updated with actual size mapped </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the host virtual address on success, 0 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_2virtio_net_8c-example.html#a7">examples/vhost/virtio_net.c</a>, and <a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a0">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rte__vhost_8h_source.html#l00346">346</a> of file <a class="el" href="rte__vhost_8h_source.html">rte_vhost.h</a>.</p>

</div>
</div>
<a id="a6c444f9de28d3cbe8af7e3626349688d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c444f9de28d3cbe8af7e3626349688d">&#9670;&nbsp;</a></span>rte_vhost_log_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_vhost_log_write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Log the memory write start with given address.</p>
<p>This function only need be invoked when the live migration starts. Therefore, we won't need call it at all in the most of time. For making the performance impact be minimum, it's suggested to do a check before calling it: </p><pre class="fragment">   if (unlikely(RTE_VHOST_NEED_LOG(features)))
           rte_vhost_log_write(vid, addr, len);
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">addr</td><td>the starting address for write (in guest physical address space) </td></tr>
    <tr><td class="paramname">len</td><td>the length to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac74a53ddeaab3d90b58c0ce984dd78b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac74a53ddeaab3d90b58c0ce984dd78b2">&#9670;&nbsp;</a></span>rte_vhost_log_used_vring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_vhost_log_used_vring </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>vring_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Log the used ring update start at given offset.</p>
<p>Same as rte_vhost_log_write, it's suggested to do a check before calling it: </p><pre class="fragment">   if (unlikely(RTE_VHOST_NEED_LOG(features)))
           rte_vhost_log_used_vring(vid, vring_idx, offset, len);
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">vring_idx</td><td>the vring index </td></tr>
    <tr><td class="paramname">offset</td><td>the offset inside the used ring </td></tr>
    <tr><td class="paramname">len</td><td>the length to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8a3ce366de790a49a0b64f1d7e42eea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a3ce366de790a49a0b64f1d7e42eea6">&#9670;&nbsp;</a></span>rte_vhost_driver_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_driver_register </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register vhost driver. path could be different for multiple instance support. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vdpa_2main_8c-example.html#a12">examples/vdpa/main.c</a>, <a class="el" href="examples_2vhost_2main_8c-example.html#a113">examples/vhost/main.c</a>, <a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a22">examples/vhost_blk/vhost_blk.c</a>, and <a class="el" href="examples_2vhost_crypto_2main_8c-example.html#a38">examples/vhost_crypto/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a626b366c380069fcc0bc437a14d612aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a626b366c380069fcc0bc437a14d612aa">&#9670;&nbsp;</a></span>rte_vhost_driver_attach_vdpa_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_driver_attach_vdpa_device </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__vdpa__device.html">rte_vdpa_device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the vdpa device id, enforce single connection per socket</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The vhost-user socket file path </td></tr>
    <tr><td class="paramname">dev</td><td>vDPA device pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vdpa_2main_8c-example.html#a14">examples/vdpa/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="aeac1c327c1179055fd1b505bf9c486e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac1c327c1179055fd1b505bf9c486e2">&#9670;&nbsp;</a></span>rte_vhost_driver_detach_vdpa_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_driver_detach_vdpa_device </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unset the vdpa device id</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The vhost-user socket file path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vdpa_2main_8c-example.html#a16">examples/vdpa/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="aa1a9b9300d26f6e05690617e297ea07d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1a9b9300d26f6e05690617e297ea07d">&#9670;&nbsp;</a></span>rte_vhost_driver_get_vdpa_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structrte__vdpa__device.html">rte_vdpa_device</a>* rte_vhost_driver_get_vdpa_device </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the device id</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The vhost-user socket file path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>vDPA device pointer, NULL on failure </dd></dl>

</div>
</div>
<a id="a4455350b61b2ac164c2239ab320387cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4455350b61b2ac164c2239ab320387cd">&#9670;&nbsp;</a></span>rte_vhost_driver_set_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_driver_set_features </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the feature bits the vhost-user driver supports.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The vhost-user socket file path </td></tr>
    <tr><td class="paramname">features</td><td>Supported features </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_2main_8c-example.html#a114">examples/vhost/main.c</a>, and <a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a23">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="aac49be562963c15d4cb1b6bbb75147de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac49be562963c15d4cb1b6bbb75147de">&#9670;&nbsp;</a></span>rte_vhost_driver_enable_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_driver_enable_features </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable vhost-user driver features.</p>
<p>Note that</p><ul>
<li>the param features should be a subset of the feature bits provided by <a class="el" href="rte__vhost_8h.html#a4455350b61b2ac164c2239ab320387cd">rte_vhost_driver_set_features()</a>.</li>
<li>it must be invoked before vhost-user negotiation starts.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The vhost-user socket file path </td></tr>
    <tr><td class="paramname">features</td><td>Features to enable </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_2main_8c-example.html#a116">examples/vhost/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="afa4c6cbe7c20587979918137353a738f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa4c6cbe7c20587979918137353a738f">&#9670;&nbsp;</a></span>rte_vhost_driver_disable_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_driver_disable_features </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disable vhost-user driver features.</p>
<p>The two notes at <a class="el" href="rte__vhost_8h.html#aac49be562963c15d4cb1b6bbb75147de">rte_vhost_driver_enable_features()</a> also apply here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The vhost-user socket file path </td></tr>
    <tr><td class="paramname">features</td><td>Features to disable </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_2main_8c-example.html#a115">examples/vhost/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="ad90ceaf42c7ce44a8198e8bc5d8908db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad90ceaf42c7ce44a8198e8bc5d8908db">&#9670;&nbsp;</a></span>rte_vhost_driver_get_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_driver_get_features </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the feature bits before feature negotiation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The vhost-user socket file path </td></tr>
    <tr><td class="paramname">features</td><td>A pointer to store the queried feature bits </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="aa2827cc492a27a66f9059352ca515f51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2827cc492a27a66f9059352ca515f51">&#9670;&nbsp;</a></span>rte_vhost_driver_set_protocol_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_vhost_driver_set_protocol_features </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>protocol_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the protocol feature bits before feature negotiation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The vhost-user socket file path </td></tr>
    <tr><td class="paramname">protocol_features</td><td>Supported protocol features </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_blk_2vhost_blk_compat_8c-example.html#a6">examples/vhost_blk/vhost_blk_compat.c</a>.</dd>
</dl>

</div>
</div>
<a id="a40293a536f34635589d5dfb06ec1e390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40293a536f34635589d5dfb06ec1e390">&#9670;&nbsp;</a></span>rte_vhost_driver_get_protocol_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_vhost_driver_get_protocol_features </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>protocol_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the protocol feature bits before feature negotiation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The vhost-user socket file path </td></tr>
    <tr><td class="paramname">protocol_features</td><td>A pointer to store the queried protocol feature bits </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_blk_2vhost_blk_compat_8c-example.html#a5">examples/vhost_blk/vhost_blk_compat.c</a>.</dd>
</dl>

</div>
</div>
<a id="a8ca3a715b399ada215e21fe5cd0b71a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ca3a715b399ada215e21fe5cd0b71a3">&#9670;&nbsp;</a></span>rte_vhost_driver_get_queue_num()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_vhost_driver_get_queue_num </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>queue_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the queue number bits before feature negotiation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The vhost-user socket file path </td></tr>
    <tr><td class="paramname">queue_num</td><td>A pointer to store the queried queue number bits </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="a1c1fbdab537b4021941bab15e26b21f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c1fbdab537b4021941bab15e26b21f9">&#9670;&nbsp;</a></span>rte_vhost_get_negotiated_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_get_negotiated_features </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the feature bits after negotiation</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>Vhost device ID </td></tr>
    <tr><td class="paramname">features</td><td>A pointer to store the queried feature bits </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_2virtio_net_8c-example.html#a1">examples/vhost/virtio_net.c</a>, and <a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a12">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="a794f0d9c9550fe705a9b090c72cfe7be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a794f0d9c9550fe705a9b090c72cfe7be">&#9670;&nbsp;</a></span>rte_vhost_driver_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_driver_start </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start the vhost-user driver.</p>
<p>This function triggers the vhost-user negotiation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The vhost-user socket file path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vdpa_2main_8c-example.html#a15">examples/vdpa/main.c</a>, <a class="el" href="examples_2vhost_2main_8c-example.html#a117">examples/vhost/main.c</a>, and <a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a27">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="a1e4ddd7f21c61efff5eb5224bd41b7bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e4ddd7f21c61efff5eb5224bd41b7bf">&#9670;&nbsp;</a></span>rte_vhost_get_mtu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_get_mtu </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>mtu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the MTU value of the device if set in QEMU.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>virtio-net device ID </td></tr>
    <tr><td class="paramname">mtu</td><td>The variable to store the MTU value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0: success -EAGAIN: device not yet started -ENOTSUP: device does not support MTU feature </dd></dl>

</div>
</div>
<a id="a735e9f44a54f373f6aa1be07aa939793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a735e9f44a54f373f6aa1be07aa939793">&#9670;&nbsp;</a></span>rte_vhost_get_numa_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_get_numa_node </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the numa node from which the virtio net device's memory is allocated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The numa node, -1 on failure </dd></dl>

</div>
</div>
<a id="aa37c692a3f4f563168629a2fcf2f7b51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa37c692a3f4f563168629a2fcf2f7b51">&#9670;&nbsp;</a></span>rte_vhost_get_queue_num()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_deprecated uint32_t rte_vhost_get_queue_num </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000006">Deprecated:</a></b></dt><dd>Get the number of queues the device supports.</dd></dl>
<p>Note this function is deprecated, as it returns a queue pair number, which is vhost specific. Instead, rte_vhost_get_vring_num should be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of queues, 0 on failure </dd></dl>

</div>
</div>
<a id="a07fe188216c6544b0b62baf911622c99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07fe188216c6544b0b62baf911622c99">&#9670;&nbsp;</a></span>rte_vhost_get_vring_num()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t rte_vhost_get_vring_num </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the number of vrings the device supports.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of vrings, 0 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vdpa_2main_8c-example.html#a24">examples/vdpa/main.c</a>, and <a class="el" href="examples_2vhost_2virtio_net_8c-example.html#a3">examples/vhost/virtio_net.c</a>.</dd>
</dl>

</div>
</div>
<a id="a16848dac4304c973b24ced868ac3add8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16848dac4304c973b24ced868ac3add8">&#9670;&nbsp;</a></span>rte_vhost_get_ifname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_get_ifname </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the virtio net device's ifname, which is the vhost-user socket file path.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">buf</td><td>The buffer to stored the queried ifname </td></tr>
    <tr><td class="paramname">len</td><td>The length of buf</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vdpa_2main_8c-example.html#a5">examples/vdpa/main.c</a>, <a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a11">examples/vhost_blk/vhost_blk.c</a>, <a class="el" href="examples_2vhost_blk_2vhost_blk_compat_8c-example.html#a1">examples/vhost_blk/vhost_blk_compat.c</a>, and <a class="el" href="examples_2vhost_crypto_2main_8c-example.html#a4">examples/vhost_crypto/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a4ce29baa4ace979410c756d2995fcfbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ce29baa4ace979410c756d2995fcfbc">&#9670;&nbsp;</a></span>rte_vhost_avail_entries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t rte_vhost_avail_entries </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>queue_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get how many avail entries are left in the queue</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">queue_id</td><td>virtio queue index</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>num of avail entries left </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_2main_8c-example.html#a88">examples/vhost/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="aab322aa002dabda6b4c6c643afd89379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab322aa002dabda6b4c6c643afd89379">&#9670;&nbsp;</a></span>rte_vhost_enqueue_burst()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t rte_vhost_enqueue_burst </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>queue_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **&#160;</td>
          <td class="paramname"><em>pkts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function adds buffers to the virtio devices RX virtqueue. Buffers can be received from the physical port or from another virtual device. A packet count is returned to indicate the number of packets that were successfully added to the RX queue. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">queue_id</td><td>virtio queue index in mq case </td></tr>
    <tr><td class="paramname">pkts</td><td>array to contain packets to be enqueued </td></tr>
    <tr><td class="paramname">count</td><td>packets num to be enqueued </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>num of packets enqueued </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_2main_8c-example.html#a57">examples/vhost/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a2da232dbf5306f4903ae3285d71a97d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2da232dbf5306f4903ae3285d71a97d7">&#9670;&nbsp;</a></span>rte_vhost_dequeue_burst()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t rte_vhost_dequeue_burst </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>queue_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mempool.html">rte_mempool</a> *&#160;</td>
          <td class="paramname"><em>mbuf_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **&#160;</td>
          <td class="paramname"><em>pkts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function gets guest buffers from the virtio device TX virtqueue, construct host mbufs, copies guest buffer content to host mbufs and store them in pkts to be processed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">queue_id</td><td>virtio queue index in mq case </td></tr>
    <tr><td class="paramname">mbuf_pool</td><td>mbuf_pool where host mbuf is allocated. </td></tr>
    <tr><td class="paramname">pkts</td><td>array to contain packets to be dequeued </td></tr>
    <tr><td class="paramname">count</td><td>packets num to be dequeued </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>num of packets dequeued </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_2main_8c-example.html#a90">examples/vhost/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a398c60c6b04e6eeaa72359b527661bc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a398c60c6b04e6eeaa72359b527661bc2">&#9670;&nbsp;</a></span>rte_vhost_get_mem_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_get_mem_table </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__vhost__memory.html">rte_vhost_memory</a> **&#160;</td>
          <td class="paramname"><em>mem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get guest mem table: a list of memory regions.</p>
<p>An rte_vhost_vhost_memory object will be allocated internally, to hold the guest memory regions. Application should free it at destroy_device() callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">mem</td><td>To store the returned mem regions </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_2virtio_net_8c-example.html#a2">examples/vhost/virtio_net.c</a>, and <a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a17">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="a5891bd49d76cbe72ecfe2c87fc1fe853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5891bd49d76cbe72ecfe2c87fc1fe853">&#9670;&nbsp;</a></span>rte_vhost_get_vhost_vring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_get_vhost_vring </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>vring_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct rte_vhost_vring *&#160;</td>
          <td class="paramname"><em>vring</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get guest vring info, including the vring address, vring size, etc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">vring_idx</td><td>vring index </td></tr>
    <tr><td class="paramname">vring</td><td>the structure to hold the requested vring info </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_2virtio_net_8c-example.html#a4">examples/vhost/virtio_net.c</a>, and <a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a13">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="af2b7b19139cd804f6747ec374475fba3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2b7b19139cd804f6747ec374475fba3">&#9670;&nbsp;</a></span>rte_vhost_get_vhost_ring_inflight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_vhost_get_vhost_ring_inflight </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>vring_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct rte_vhost_ring_inflight *&#160;</td>
          <td class="paramname"><em>vring</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get guest inflight vring info, including inflight ring and resubmit list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">vring_idx</td><td>vring index </td></tr>
    <tr><td class="paramname">vring</td><td>the structure to hold the requested inflight vring info </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a15">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="a54c0b385ce21f33a84c447fdac4076d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54c0b385ce21f33a84c447fdac4076d9">&#9670;&nbsp;</a></span>rte_vhost_set_inflight_desc_split()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_vhost_set_inflight_desc_split </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>vring_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set split inflight descriptor.</p>
<p>This function save descriptors that has been comsumed in available ring</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">vring_idx</td><td>vring index </td></tr>
    <tr><td class="paramname">idx</td><td>inflight entry index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a8">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="a155457616d06ca66e9be9095fe366d65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a155457616d06ca66e9be9095fe366d65">&#9670;&nbsp;</a></span>rte_vhost_set_inflight_desc_packed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_vhost_set_inflight_desc_packed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>vring_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>last</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>inflight_entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set packed inflight descriptor and get corresponding inflight entry</p>
<p>This function save descriptors that has been comsumed</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">vring_idx</td><td>vring index </td></tr>
    <tr><td class="paramname">head</td><td>head of descriptors </td></tr>
    <tr><td class="paramname">last</td><td>last of descriptors </td></tr>
    <tr><td class="paramname">inflight_entry</td><td>corresponding inflight entry </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a7">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="a6b3d18ab95a9baf4a9412c2f442777f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b3d18ab95a9baf4a9412c2f442777f2">&#9670;&nbsp;</a></span>rte_vhost_set_last_inflight_io_split()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_vhost_set_last_inflight_io_split </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>vring_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Save the head of list that the last batch of used descriptors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">vring_idx</td><td>vring index </td></tr>
    <tr><td class="paramname">idx</td><td>descriptor entry index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a1">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="a33071190516d5aca5eaa61638b5697cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33071190516d5aca5eaa61638b5697cf">&#9670;&nbsp;</a></span>rte_vhost_set_last_inflight_io_packed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_vhost_set_last_inflight_io_packed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>vring_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the inflight free_head, used_idx and used_wrap_counter.</p>
<p>This function will update status first before updating descriptors to used</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">vring_idx</td><td>vring index </td></tr>
    <tr><td class="paramname">head</td><td>head of descriptors </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a5">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="adbbd575a762c2c82eea09f718427d45f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbbd575a762c2c82eea09f718427d45f">&#9670;&nbsp;</a></span>rte_vhost_clr_inflight_desc_split()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_vhost_clr_inflight_desc_split </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>vring_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>last_used_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the split inflight status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">vring_idx</td><td>vring index </td></tr>
    <tr><td class="paramname">last_used_idx</td><td>last used idx of used ring </td></tr>
    <tr><td class="paramname">idx</td><td>inflight entry index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a3">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="adce528fcfffa73ab4cbc4e3f5473ff97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adce528fcfffa73ab4cbc4e3f5473ff97">&#9670;&nbsp;</a></span>rte_vhost_clr_inflight_desc_packed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_vhost_clr_inflight_desc_packed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>vring_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the packed inflight status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">vring_idx</td><td>vring index </td></tr>
    <tr><td class="paramname">head</td><td>inflight entry index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a6">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="aa2e00d8df9ee6d508aea6f807d0c09f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2e00d8df9ee6d508aea6f807d0c09f3">&#9670;&nbsp;</a></span>rte_vhost_vring_call()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_vring_call </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>vring_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Notify the guest that used descriptors have been added to the vring. This function acts as a memory barrier.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">vring_idx</td><td>vring index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_2virtio_net_8c-example.html#a18">examples/vhost/virtio_net.c</a>, and <a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a4">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="a104d2d64af6793e7fb74289d2c0fec01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a104d2d64af6793e7fb74289d2c0fec01">&#9670;&nbsp;</a></span>rte_vhost_rx_queue_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rte_vhost_rx_queue_count </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>qid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get vhost RX queue avail count.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">qid</td><td>virtio queue index in mq case </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>num of desc available </dd></dl>

</div>
</div>
<a id="ae256f29db422d93018cef7f2e4ac5b94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae256f29db422d93018cef7f2e4ac5b94">&#9670;&nbsp;</a></span>rte_vhost_get_log_base()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_get_log_base </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>log_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>log_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get log base and log size of the vhost device</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">log_base</td><td>vhost log base </td></tr>
    <tr><td class="paramname">log_size</td><td>vhost log size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="a43208ebb5b4b4fad1a7a93333250cf83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43208ebb5b4b4fad1a7a93333250cf83">&#9670;&nbsp;</a></span>rte_vhost_get_vring_base()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_get_vring_base </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>queue_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>last_avail_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>last_used_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get last_avail/used_idx of the vhost virtqueue</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">queue_id</td><td>vhost queue index </td></tr>
    <tr><td class="paramname">last_avail_idx</td><td>vhost last_avail_idx to get </td></tr>
    <tr><td class="paramname">last_used_idx</td><td>vhost last_used_idx to get </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a14">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="a44ae1a415495b7e47c27886a40f617f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ae1a415495b7e47c27886a40f617f0">&#9670;&nbsp;</a></span>rte_vhost_get_vring_base_from_inflight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_vhost_get_vring_base_from_inflight </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>queue_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>last_avail_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>last_used_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get last_avail/last_used of the vhost virtqueue</p>
<p>This function is designed for the reconnection and it's specific for the packed ring as we can get the two parameters from the inflight queueregion</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">queue_id</td><td>vhost queue index </td></tr>
    <tr><td class="paramname">last_avail_idx</td><td>vhost last_avail_idx to get </td></tr>
    <tr><td class="paramname">last_used_idx</td><td>vhost last_used_idx to get </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a16">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="a8c0070bd8fd96beb8c57e4308226498d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c0070bd8fd96beb8c57e4308226498d">&#9670;&nbsp;</a></span>rte_vhost_set_vring_base()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_vhost_set_vring_base </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>queue_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>last_avail_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>last_used_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set last_avail/used_idx of the vhost virtqueue</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">queue_id</td><td>vhost queue index </td></tr>
    <tr><td class="paramname">last_avail_idx</td><td>last_avail_idx to set </td></tr>
    <tr><td class="paramname">last_used_idx</td><td>last_used_idx to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_blk_2vhost_blk_8c-example.html#a18">examples/vhost_blk/vhost_blk.c</a>.</dd>
</dl>

</div>
</div>
<a id="a2e0f431259bd3d2dddb33977946b18ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e0f431259bd3d2dddb33977946b18ed">&#9670;&nbsp;</a></span>rte_vhost_extern_callback_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_vhost_extern_callback_register </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__vhost__user__extern__ops.html">rte_vhost_user_extern_ops</a> const *const&#160;</td>
          <td class="paramname"><em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register external message handling callbacks</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">ops</td><td>virtio external callbacks to register </td></tr>
    <tr><td class="paramname">ctx</td><td>additional context passed to the callbacks </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2vhost_blk_2vhost_blk_compat_8c-example.html#a4">examples/vhost_blk/vhost_blk_compat.c</a>.</dd>
</dl>

</div>
</div>
<a id="a0d4137617a0274f39347876462f8058d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d4137617a0274f39347876462f8058d">&#9670;&nbsp;</a></span>rte_vhost_get_vdpa_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structrte__vdpa__device.html">rte_vdpa_device</a>* rte_vhost_get_vdpa_device </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get vdpa device id for vhost device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>vDPA device pointer on success, NULL on failure </dd></dl>

</div>
</div>
<a id="a0ab6fa8610754de1221a5cd5a8ceb21a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ab6fa8610754de1221a5cd5a8ceb21a">&#9670;&nbsp;</a></span>rte_vhost_slave_config_change()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_vhost_slave_config_change </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>vid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>need_reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Notify the guest that should get virtio configuration space from backend.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vid</td><td>vhost device ID </td></tr>
    <tr><td class="paramname">need_reply</td><td>wait for the master response the status of this operation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, &lt; 0 on failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
