<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: lib/librte_latencystats/rte_latencystats.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_88c81b6ae6213964a6a534ee00cb813b.html">librte_latencystats</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_latencystats.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__metrics_8h_source.html">rte_metrics.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__mbuf_8h_source.html">rte_mbuf.h</a>&gt;</code><br />
</div>
<p><a href="rte__latencystats_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a66eebf0ffe12ca110abea0bd388b5fe0"><td class="memItemLeft" align="right" valign="top">typedef uint16_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__latencystats_8h.html#a66eebf0ffe12ca110abea0bd388b5fe0">rte_latency_stats_flow_type_fn</a>) (struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *pkt, void *user_param)</td></tr>
<tr class="separator:a66eebf0ffe12ca110abea0bd388b5fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a980dbe2e05df82c0caeac9dced4a7aee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__latencystats_8h.html#a980dbe2e05df82c0caeac9dced4a7aee">rte_latencystats_init</a> (uint64_t samp_intvl, <a class="el" href="rte__latencystats_8h.html#a66eebf0ffe12ca110abea0bd388b5fe0">rte_latency_stats_flow_type_fn</a> user_cb)</td></tr>
<tr class="separator:a980dbe2e05df82c0caeac9dced4a7aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d0e21079883ef50ba45f020ad1adee"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__latencystats_8h.html#a91d0e21079883ef50ba45f020ad1adee">rte_latencystats_update</a> (void)</td></tr>
<tr class="separator:a91d0e21079883ef50ba45f020ad1adee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a577ee660891d7d20dea021ef7c59450f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__latencystats_8h.html#a577ee660891d7d20dea021ef7c59450f">rte_latencystats_uninit</a> (void)</td></tr>
<tr class="separator:a577ee660891d7d20dea021ef7c59450f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae489f277be15ef80df6b80b6ff8f6923"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__latencystats_8h.html#ae489f277be15ef80df6b80b6ff8f6923">rte_latencystats_get_names</a> (struct <a class="el" href="structrte__metric__name.html">rte_metric_name</a> *names, uint16_t size)</td></tr>
<tr class="separator:ae489f277be15ef80df6b80b6ff8f6923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd5e6d81e6c07002440f11452de9532"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__latencystats_8h.html#afcd5e6d81e6c07002440f11452de9532">rte_latencystats_get</a> (struct <a class="el" href="structrte__metric__value.html">rte_metric_value</a> *values, uint16_t size)</td></tr>
<tr class="separator:afcd5e6d81e6c07002440f11452de9532"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTE latency stats</p>
<p>library to provide application and flow based latency stats. </p>

<p class="definition">Definition in file <a class="el" href="rte__latencystats_8h_source.html">rte_latencystats.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a66eebf0ffe12ca110abea0bd388b5fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66eebf0ffe12ca110abea0bd388b5fe0">&#9670;&nbsp;</a></span>rte_latency_stats_flow_type_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t(* rte_latency_stats_flow_type_fn) (struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *pkt, void *user_param)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Note: This function pointer is for future flow based latency stats implementation.</p>
<p>Function type used for identifying flow types of a Rx packet.</p>
<p>The callback function is called on Rx for each packet. This function is used for flow based latency calculations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pkt</td><td>Packet that has to be identified with its flow types. </td></tr>
    <tr><td class="paramname">user_param</td><td>The arbitrary user parameter passed in by the application when the callback was originally configured. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The flow_mask, representing the multiple flow types of a packet. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rte__latencystats_8h_source.html#l00040">40</a> of file <a class="el" href="rte__latencystats_8h_source.html">rte_latencystats.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a980dbe2e05df82c0caeac9dced4a7aee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a980dbe2e05df82c0caeac9dced4a7aee">&#9670;&nbsp;</a></span>rte_latencystats_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_latencystats_init </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>samp_intvl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rte__latencystats_8h.html#a66eebf0ffe12ca110abea0bd388b5fe0">rte_latency_stats_flow_type_fn</a>&#160;</td>
          <td class="paramname"><em>user_cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers Rx/Tx callbacks for each active port, queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">samp_intvl</td><td>Sampling time period in nano seconds, at which packet should be marked with time stamp. </td></tr>
    <tr><td class="paramname">user_cb</td><td>Note: This param is for future flow based latency stats implementation. User callback to be called to get flow types of a packet. Used for flow based latency calculation. If the value is NULL, global stats will be calculated, else flow based latency stats will be calculated. For now just pass on the NULL value to this param. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 : On error -ENOMEM: On error 0 : On success </dd></dl>

</div>
</div>
<a id="a91d0e21079883ef50ba45f020ad1adee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91d0e21079883ef50ba45f020ad1adee">&#9670;&nbsp;</a></span>rte_latencystats_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_latencystats_update </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the latency and jitter values internally, exposing the updated values via <em>rte_latencystats_get</em> or the rte_metrics API. </p><dl class="section return"><dt>Returns</dt><dd>: 0 : on Success &lt; 0 : Error in updating values. </dd></dl>

</div>
</div>
<a id="a577ee660891d7d20dea021ef7c59450f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a577ee660891d7d20dea021ef7c59450f">&#9670;&nbsp;</a></span>rte_latencystats_uninit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_latencystats_uninit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes registered Rx/Tx callbacks for each active port, queue.</p>
<dl class="section return"><dt>Returns</dt><dd>-1: On error 0: On success </dd></dl>

</div>
</div>
<a id="ae489f277be15ef80df6b80b6ff8f6923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae489f277be15ef80df6b80b6ff8f6923">&#9670;&nbsp;</a></span>rte_latencystats_get_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_latencystats_get_names </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__metric__name.html">rte_metric_name</a> *&#160;</td>
          <td class="paramname"><em>names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve names of latency statistics</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">names</td><td>Block of memory to insert names into. Must be at least size in capacity. If set to NULL, function returns required capacity. </td></tr>
    <tr><td class="paramname">size</td><td>Capacity of latency stats names (number of names). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>positive value lower or equal to size: success. The return value is the number of entries filled in the stats table.</li>
<li>positive value higher than size: error, the given statistics table is too small. The return value corresponds to the size that should be given to succeed. The entries in the table are not valid and shall not be used by the caller. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="afcd5e6d81e6c07002440f11452de9532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcd5e6d81e6c07002440f11452de9532">&#9670;&nbsp;</a></span>rte_latencystats_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_latencystats_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__metric__value.html">rte_metric_value</a> *&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve latency statistics.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">values</td><td>A pointer to a table of structure of type <em><a class="el" href="structrte__metric__value.html">rte_metric_value</a></em> to be filled with latency statistics ids and values. This parameter can be set to NULL if size is 0. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the stats table, which should be large enough to store all the latency stats. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>positive value lower or equal to size: success. The return value is the number of entries filled in the stats table.</li>
<li>positive value higher than size: error, the given statistics table is too small. The return value corresponds to the size that should be given to succeed. The entries in the table are not valid and shall not be used by the caller. -ENOMEM: On failure. </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
