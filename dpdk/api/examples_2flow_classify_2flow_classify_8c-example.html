<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: examples/flow_classify/flow_classify.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">examples/flow_classify/flow_classify.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/* SPDX-License-Identifier: BSD-3-Clause</span></div>
<div class="line"><span class="comment"> * Copyright(c) 2017 Intel Corporation</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;getopt.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__eal_8h.html">rte_eal.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__ethdev_8h.html">rte_ethdev.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__cycles_8h.html">rte_cycles.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__lcore_8h.html">rte_lcore.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__mbuf_8h.html">rte_mbuf.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__flow_8h.html">rte_flow.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__flow__classify_8h.html">rte_flow_classify.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__table__acl_8h.html">rte_table_acl.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define RX_RING_SIZE 1024</span></div>
<div class="line"><span class="preprocessor">#define TX_RING_SIZE 1024</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define NUM_MBUFS 8191</span></div>
<div class="line"><span class="preprocessor">#define MBUF_CACHE_SIZE 250</span></div>
<div class="line"><span class="preprocessor">#define BURST_SIZE 32</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define MAX_NUM_CLASSIFY 30</span></div>
<div class="line"><span class="preprocessor">#define FLOW_CLASSIFY_MAX_RULE_NUM 91</span></div>
<div class="line"><span class="preprocessor">#define FLOW_CLASSIFY_MAX_PRIORITY 8</span></div>
<div class="line"><span class="preprocessor">#define FLOW_CLASSIFIER_NAME_SIZE 64</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define COMMENT_LEAD_CHAR   (&#39;#&#39;)</span></div>
<div class="line"><span class="preprocessor">#define OPTION_RULE_IPV4    &quot;rule_ipv4&quot;</span></div>
<div class="line"><span class="preprocessor">#define RTE_LOGTYPE_FLOW_CLASSIFY   RTE_LOGTYPE_USER3</span></div>
<div class="line"><span class="preprocessor">#define flow_classify_log(format, ...) \</span></div>
<div class="line"><span class="preprocessor">        RTE_LOG(ERR, FLOW_CLASSIFY, format, ##__VA_ARGS__)</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define uint32_t_to_char(ip, a, b, c, d) do {\</span></div>
<div class="line"><span class="preprocessor">        *a = (unsigned char)(ip &gt;&gt; 24 &amp; 0xff);\</span></div>
<div class="line"><span class="preprocessor">        *b = (unsigned char)(ip &gt;&gt; 16 &amp; 0xff);\</span></div>
<div class="line"><span class="preprocessor">        *c = (unsigned char)(ip &gt;&gt; 8 &amp; 0xff);\</span></div>
<div class="line"><span class="preprocessor">        *d = (unsigned char)(ip &amp; 0xff);\</span></div>
<div class="line"><span class="preprocessor">    } while (0)</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> {</div>
<div class="line">    CB_FLD_SRC_ADDR,</div>
<div class="line">    CB_FLD_DST_ADDR,</div>
<div class="line">    CB_FLD_SRC_PORT,</div>
<div class="line">    CB_FLD_SRC_PORT_DLM,</div>
<div class="line">    CB_FLD_SRC_PORT_MASK,</div>
<div class="line">    CB_FLD_DST_PORT,</div>
<div class="line">    CB_FLD_DST_PORT_DLM,</div>
<div class="line">    CB_FLD_DST_PORT_MASK,</div>
<div class="line">    CB_FLD_PROTO,</div>
<div class="line">    CB_FLD_PRIORITY,</div>
<div class="line">    CB_FLD_NUM,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct</span>{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *rule_ipv4_name;</div>
<div class="line">} parm_config;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> cb_port_delim[] = <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a name="_a0"></a><a class="code" href="structrte__eth__conf.html">rte_eth_conf</a> port_conf_default = {</div>
<div class="line">    .<a name="a1"></a><a class="code" href="structrte__eth__conf.html#a346eef99c24f617b74c440c1aa565d01">rxmode</a> = {</div>
<div class="line">        .<a name="a2"></a><a class="code" href="structrte__eth__rxmode.html#a84a5d32306b86a1df884144612c70726">max_rx_pkt_len</a> = <a name="a3"></a><a class="code" href="rte__ether_8h.html#af1fb088707ce5b2ebb7825cb69b5cb58">RTE_ETHER_MAX_LEN</a>,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>flow_classifier {</div>
<div class="line">    <span class="keyword">struct </span>rte_flow_classifier *cls;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>flow_classifier_acl {</div>
<div class="line">    <span class="keyword">struct </span>flow_classifier cls;</div>
<div class="line">} <a name="a4"></a><a class="code" href="rte__common_8h.html#a38e32f822bc941e90fdcbe5a9c69b178">__rte_cache_aligned</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* ACL field definitions for IPv4 5 tuple rule */</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> {</div>
<div class="line">    PROTO_FIELD_IPV4,</div>
<div class="line">    SRC_FIELD_IPV4,</div>
<div class="line">    DST_FIELD_IPV4,</div>
<div class="line">    SRCP_FIELD_IPV4,</div>
<div class="line">    DSTP_FIELD_IPV4,</div>
<div class="line">    NUM_FIELDS_IPV4</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> {</div>
<div class="line">    PROTO_INPUT_IPV4,</div>
<div class="line">    SRC_INPUT_IPV4,</div>
<div class="line">    DST_INPUT_IPV4,</div>
<div class="line">    SRCP_DESTP_INPUT_IPV4</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span><a name="_a5"></a><a class="code" href="structrte__acl__field__def.html">rte_acl_field_def</a> ipv4_defs[NUM_FIELDS_IPV4] = {</div>
<div class="line">    <span class="comment">/* first input field - always one byte long. */</span></div>
<div class="line">    {</div>
<div class="line">        .<a name="a6"></a><a class="code" href="structrte__acl__field__def.html#a1d127017fb298b889f4ba24752d08b8e">type</a> = RTE_ACL_FIELD_TYPE_BITMASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint8_t),</div>
<div class="line">        .<a name="a7"></a><a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = PROTO_FIELD_IPV4,</div>
<div class="line">        .<a name="a8"></a><a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = PROTO_INPUT_IPV4,</div>
<div class="line">        .<a name="a9"></a><a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a name="_a10"></a><a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>) +</div>
<div class="line">            <a name="a11"></a><a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a name="_a12"></a><a class="code" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a>, next_proto_id),</div>
<div class="line">    },</div>
<div class="line">    <span class="comment">/* next input field (IPv4 source address) - 4 consecutive bytes. */</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* rte_flow uses a bit mask for IPv4 addresses */</span></div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_BITMASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint32_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = SRC_FIELD_IPV4,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = SRC_INPUT_IPV4,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>) +</div>
<div class="line">            <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a>, src_addr),</div>
<div class="line">    },</div>
<div class="line">    <span class="comment">/* next input field (IPv4 destination address) - 4 consecutive bytes. */</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* rte_flow uses a bit mask for IPv4 addresses */</span></div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_BITMASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint32_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = DST_FIELD_IPV4,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = DST_INPUT_IPV4,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>) +</div>
<div class="line">            <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a>, dst_addr),</div>
<div class="line">    },</div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Next 2 fields (src &amp; dst ports) form 4 consecutive bytes.</span></div>
<div class="line"><span class="comment">     * They share the same input index.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* rte_flow uses a bit mask for protocol ports */</span></div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_BITMASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint16_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = SRCP_FIELD_IPV4,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = SRCP_DESTP_INPUT_IPV4,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>) +</div>
<div class="line">            <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a>) +</div>
<div class="line">            <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(struct <a name="_a13"></a><a class="code" href="structrte__tcp__hdr.html">rte_tcp_hdr</a>, src_port),</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* rte_flow uses a bit mask for protocol ports */</span></div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_BITMASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint16_t),</div>
<div class="line">        .field_index = DSTP_FIELD_IPV4,</div>
<div class="line">        .input_index = SRCP_DESTP_INPUT_IPV4,</div>
<div class="line">        .offset = <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>) +</div>
<div class="line">            <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a>) +</div>
<div class="line">            <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(struct <a class="code" href="structrte__tcp__hdr.html">rte_tcp_hdr</a>, dst_port),</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* flow classify data */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> num_classify_rules;</div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>rte_flow_classify_rule *rules[MAX_NUM_CLASSIFY];</div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>rte_flow_classify_ipv4_5tuple_stats ntuple_stats;</div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span><a name="_a14"></a><a class="code" href="structrte__flow__classify__stats.html">rte_flow_classify_stats</a> classify_stats = {</div>
<div class="line">        .<a name="a15"></a>stats = (<span class="keywordtype">void</span> **)&amp;ntuple_stats</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* parameters for rte_flow_classify_validate and</span></div>
<div class="line"><span class="comment"> * rte_flow_classify_table_entry_add functions</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span><a name="_a16"></a><a class="code" href="structrte__flow__item.html">rte_flow_item</a>  eth_item = { <a name="a17"></a><a class="code" href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1abb502c9d1fc4678e1e36187090494aca">RTE_FLOW_ITEM_TYPE_ETH</a>,</div>
<div class="line">    0, 0, 0 };</div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structrte__flow__item.html">rte_flow_item</a>  end_item = { <a name="a18"></a><a class="code" href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1a51161f8ef75cba3968e32fc0472575d7">RTE_FLOW_ITEM_TYPE_END</a>,</div>
<div class="line">    0, 0, 0 };</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* sample actions:</span></div>
<div class="line"><span class="comment"> * &quot;actions count / end&quot;</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">struct </span><a name="_a19"></a><a class="code" href="structrte__flow__query__count.html">rte_flow_query_count</a> count = {</div>
<div class="line">    .<a name="a20"></a><a class="code" href="structrte__flow__query__count.html#aa0110dfcd1a7cfdd3fae2a5676f7901d">reset</a> = 1,</div>
<div class="line">    .hits_set = 1,</div>
<div class="line">    .bytes_set = 1,</div>
<div class="line">    .hits = 0,</div>
<div class="line">    .bytes = 0,</div>
<div class="line">};</div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>rte_flow_action count_action = { <a name="a21"></a><a class="code" href="rte__flow_8h.html#a78f0386e683cfc491462a771df8b971aa38d23fb7826889728c50d46eb75fe6ad">RTE_FLOW_ACTION_TYPE_COUNT</a>,</div>
<div class="line">    &amp;count};</div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>rte_flow_action end_action = { <a name="a22"></a><a class="code" href="rte__flow_8h.html#a78f0386e683cfc491462a771df8b971aa7bc270d4629785c13b81dccca71f67e3">RTE_FLOW_ACTION_TYPE_END</a>, 0};</div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>rte_flow_action actions[2];</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* sample attributes */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span><a name="_a23"></a><a class="code" href="structrte__flow__attr.html">rte_flow_attr</a> attr;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* flow_classify.c: * Based on DPDK skeleton forwarding example. */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Initializes a given port using global settings and with the RX buffers</span></div>
<div class="line"><span class="comment"> * coming from the mbuf_pool passed as a parameter.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span></div>
<div class="line">port_init(uint8_t port, <span class="keyword">struct</span> <a name="_a24"></a><a class="code" href="structrte__mempool.html">rte_mempool</a> *mbuf_pool)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__eth__conf.html">rte_eth_conf</a> port_conf = port_conf_default;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a25"></a><a class="code" href="structrte__ether__addr.html">rte_ether_addr</a> addr;</div>
<div class="line">    <span class="keyword">const</span> uint16_t rx_rings = 1, tx_rings = 1;</div>
<div class="line">    <span class="keywordtype">int</span> retval;</div>
<div class="line">    uint16_t q;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a26"></a><a class="code" href="structrte__eth__dev__info.html">rte_eth_dev_info</a> dev_info;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a27"></a><a class="code" href="structrte__eth__txconf.html">rte_eth_txconf</a> txconf;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!<a name="a28"></a><a class="code" href="rte__ethdev_8h.html#a22dcfd3f5f2b34f657131d66132e23a7">rte_eth_dev_is_valid_port</a>(port))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    retval = <a name="a29"></a><a class="code" href="rte__ethdev_8h.html#a7593f4fff04f4ae1b1d718db7ca7dc8c">rte_eth_dev_info_get</a>(port, &amp;dev_info);</div>
<div class="line">    <span class="keywordflow">if</span> (retval != 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Error during getting device (port %u) info: %s\n&quot;</span>,</div>
<div class="line">                port, strerror(-retval));</div>
<div class="line">        <span class="keywordflow">return</span> retval;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (dev_info.tx_offload_capa &amp; <a name="a30"></a><a class="code" href="rte__ethdev_8h.html#ae7110b5d5dced8f42505bff5d9e3f0ea">DEV_TX_OFFLOAD_MBUF_FAST_FREE</a>)</div>
<div class="line">        port_conf.<a name="a31"></a><a class="code" href="structrte__eth__conf.html#a1c33c9d2e5cdb14b62ed386bf3159e07">txmode</a>.<a name="a32"></a><a class="code" href="structrte__eth__txmode.html#a6cfe3b3ee46e9a8b8c62a64294b0b564">offloads</a> |=</div>
<div class="line">            <a class="code" href="rte__ethdev_8h.html#ae7110b5d5dced8f42505bff5d9e3f0ea">DEV_TX_OFFLOAD_MBUF_FAST_FREE</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Configure the Ethernet device. */</span></div>
<div class="line">    retval = <a name="a33"></a><a class="code" href="rte__ethdev_8h.html#a1a7d3a20b102fee222541fda50fd87bd">rte_eth_dev_configure</a>(port, rx_rings, tx_rings, &amp;port_conf);</div>
<div class="line">    <span class="keywordflow">if</span> (retval != 0)</div>
<div class="line">        <span class="keywordflow">return</span> retval;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Allocate and set up 1 RX queue per Ethernet port. */</span></div>
<div class="line">    <span class="keywordflow">for</span> (q = 0; q &lt; rx_rings; q++) {</div>
<div class="line">        retval = <a name="a34"></a><a class="code" href="rte__ethdev_8h.html#a36ba70a5a6fce2c2c1f774828ba78f8d">rte_eth_rx_queue_setup</a>(port, q, RX_RING_SIZE,</div>
<div class="line">                <a name="a35"></a><a class="code" href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a>(port), NULL, mbuf_pool);</div>
<div class="line">        <span class="keywordflow">if</span> (retval &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> retval;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    txconf = dev_info.default_txconf;</div>
<div class="line">    txconf.offloads = port_conf.<a class="code" href="structrte__eth__conf.html#a1c33c9d2e5cdb14b62ed386bf3159e07">txmode</a>.<a class="code" href="structrte__eth__txmode.html#a6cfe3b3ee46e9a8b8c62a64294b0b564">offloads</a>;</div>
<div class="line">    <span class="comment">/* Allocate and set up 1 TX queue per Ethernet port. */</span></div>
<div class="line">    <span class="keywordflow">for</span> (q = 0; q &lt; tx_rings; q++) {</div>
<div class="line">        retval = <a name="a36"></a><a class="code" href="rte__ethdev_8h.html#a796c2f20778984c6f41b271e36bae50e">rte_eth_tx_queue_setup</a>(port, q, TX_RING_SIZE,</div>
<div class="line">                <a class="code" href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a>(port), &amp;txconf);</div>
<div class="line">        <span class="keywordflow">if</span> (retval &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> retval;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Start the Ethernet port. */</span></div>
<div class="line">    retval = <a name="a37"></a><a class="code" href="rte__ethdev_8h.html#afdc834c1c52e9fb512301990468ca7c2">rte_eth_dev_start</a>(port);</div>
<div class="line">    <span class="keywordflow">if</span> (retval &lt; 0)</div>
<div class="line">        <span class="keywordflow">return</span> retval;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Display the port MAC address. */</span></div>
<div class="line">    retval = <a name="a38"></a><a class="code" href="rte__ethdev_8h.html#a8a28375b279ded9125c99a46bf3956ef">rte_eth_macaddr_get</a>(port, &amp;addr);</div>
<div class="line">    <span class="keywordflow">if</span> (retval != 0)</div>
<div class="line">        <span class="keywordflow">return</span> retval;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;Port %u MAC: %02&quot;</span> PRIx8 <span class="stringliteral">&quot; %02&quot;</span> PRIx8 <span class="stringliteral">&quot; %02&quot;</span> PRIx8</div>
<div class="line">               <span class="stringliteral">&quot; %02&quot;</span> PRIx8 <span class="stringliteral">&quot; %02&quot;</span> PRIx8 <span class="stringliteral">&quot; %02&quot;</span> PRIx8 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">            port,</div>
<div class="line">            addr.addr_bytes[0], addr.addr_bytes[1],</div>
<div class="line">            addr.addr_bytes[2], addr.addr_bytes[3],</div>
<div class="line">            addr.addr_bytes[4], addr.addr_bytes[5]);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Enable RX in promiscuous mode for the Ethernet device. */</span></div>
<div class="line">    retval = <a name="a39"></a><a class="code" href="rte__ethdev_8h.html#a5dd1dedaa45f05c72bcc35495e441e91">rte_eth_promiscuous_enable</a>(port);</div>
<div class="line">    <span class="keywordflow">if</span> (retval != 0)</div>
<div class="line">        <span class="keywordflow">return</span> retval;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * The lcore main. This is the main thread that does the work, reading from</span></div>
<div class="line"><span class="comment"> * an input port classifying the packets and writing to an output port.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <a name="a40"></a><a class="code" href="rte__common_8h.html#adba9930c1f0c89d4aab7d58c44ee835b">__rte_noreturn</a> <span class="keywordtype">void</span></div>
<div class="line">lcore_main(<span class="keyword">struct</span> flow_classifier *cls_app)</div>
<div class="line">{</div>
<div class="line">    uint16_t port;</div>
<div class="line">    <span class="keywordtype">int</span> ret;</div>
<div class="line">    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"> </div>
<div class="line">    ret = <a name="a41"></a><a class="code" href="rte__flow__classify_8h.html#ad061ae308a0bec7422e64060f02b6f82">rte_flow_classify_table_entry_delete</a>(cls_app-&gt;cls,</div>
<div class="line">            rules[7]);</div>
<div class="line">    <span class="keywordflow">if</span> (ret)</div>
<div class="line">        printf(<span class="stringliteral">&quot;table_entry_delete failed [7] %d\n\n&quot;</span>, ret);</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        printf(<span class="stringliteral">&quot;table_entry_delete succeeded [7]\n\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Check that the port is on the same NUMA node as the polling thread</span></div>
<div class="line"><span class="comment">     * for best performance.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <a name="a42"></a><a class="code" href="rte__ethdev_8h.html#ad7b46c67203d37fe3a34f11076d970d6">RTE_ETH_FOREACH_DEV</a>(port)</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a>(port) &gt; 0 &amp;&amp;</div>
<div class="line">            <a class="code" href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a>(port) != (<span class="keywordtype">int</span>)<a name="a43"></a><a class="code" href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a>()) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;\n\n&quot;</span>);</div>
<div class="line">            printf(<span class="stringliteral">&quot;WARNING: port %u is on remote NUMA node\n&quot;</span>,</div>
<div class="line">                   port);</div>
<div class="line">            printf(<span class="stringliteral">&quot;to polling thread.\n&quot;</span>);</div>
<div class="line">            printf(<span class="stringliteral">&quot;Performance will not be optimal.\n&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    printf(<span class="stringliteral">&quot;\nCore %u forwarding packets. &quot;</span>, <a name="a44"></a><a class="code" href="rte__lcore_8h.html#adfb2b334e7e73f534f25e8888a8a775f">rte_lcore_id</a>());</div>
<div class="line">    printf(<span class="stringliteral">&quot;[Ctrl+C to quit]\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Run until the application is quit or killed. */</span></div>
<div class="line">    <span class="keywordflow">for</span> (;;) {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * Receive packets on a port, classify them and forward them</span></div>
<div class="line"><span class="comment">         * on the paired port.</span></div>
<div class="line"><span class="comment">         * The mapping is 0 -&gt; 1, 1 -&gt; 0, 2 -&gt; 3, 3 -&gt; 2, etc.</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <a class="code" href="rte__ethdev_8h.html#ad7b46c67203d37fe3a34f11076d970d6">RTE_ETH_FOREACH_DEV</a>(port) {</div>
<div class="line">            <span class="comment">/* Get burst of RX packets, from first port of pair. */</span></div>
<div class="line">            <span class="keyword">struct </span><a name="_a45"></a><a class="code" href="structrte__mbuf.html">rte_mbuf</a> *bufs[BURST_SIZE];</div>
<div class="line">            <span class="keyword">const</span> uint16_t nb_rx = <a name="a46"></a><a class="code" href="rte__ethdev_8h.html#a3e7d76a451b46348686ea97d6367f102">rte_eth_rx_burst</a>(<a name="a47"></a><a class="code" href="structrte__mbuf.html#a8e0798404bf2cf5dabb84c5ba9a4f236">port</a>, 0,</div>
<div class="line">                    bufs, BURST_SIZE);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (<a name="a48"></a><a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(nb_rx == 0))</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">for</span> (i = 0; i &lt; MAX_NUM_CLASSIFY; i++) {</div>
<div class="line">                <span class="keywordflow">if</span> (rules[i]) {</div>
<div class="line">                    ret = <a name="a49"></a><a class="code" href="rte__flow__classify_8h.html#a2f979c0353bcbaac1272ed9ae388c1e2">rte_flow_classifier_query</a>(</div>
<div class="line">                        cls_app-&gt;cls,</div>
<div class="line">                        bufs, nb_rx, rules[i],</div>
<div class="line">                        &amp;classify_stats);</div>
<div class="line">                    <span class="keywordflow">if</span> (ret)</div>
<div class="line">                        printf(</div>
<div class="line">                            <span class="stringliteral">&quot;rule [%d] query failed ret [%d]\n\n&quot;</span>,</div>
<div class="line">                            i, ret);</div>
<div class="line">                    <span class="keywordflow">else</span> {</div>
<div class="line">                        printf(</div>
<div class="line">                        <span class="stringliteral">&quot;rule[%d] count=%&quot;</span>PRIu64<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">                        i, ntuple_stats.counter1);</div>
<div class="line"> </div>
<div class="line">                        printf(<span class="stringliteral">&quot;proto = %d\n&quot;</span>,</div>
<div class="line">                        ntuple_stats.ipv4_5tuple.proto);</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="comment">/* Send burst of TX packets, to second port of pair. */</span></div>
<div class="line">            <span class="keyword">const</span> uint16_t nb_tx = <a name="a50"></a><a class="code" href="rte__ethdev_8h.html#a83e56cabbd31637efd648e3fc010392b">rte_eth_tx_burst</a>(<a class="code" href="structrte__mbuf.html#a8e0798404bf2cf5dabb84c5ba9a4f236">port</a> ^ 1, 0,</div>
<div class="line">                    bufs, nb_rx);</div>
<div class="line"> </div>
<div class="line">            <span class="comment">/* Free any unsent packets. */</span></div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(nb_tx &lt; nb_rx)) {</div>
<div class="line">                uint16_t buf;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">for</span> (buf = nb_tx; buf &lt; nb_rx; buf++)</div>
<div class="line">                    <a name="a51"></a><a class="code" href="rte__mbuf_8h.html#a1215458932900b7cd5192326fa4a6902">rte_pktmbuf_free</a>(bufs[buf]);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Parse IPv4 5 tuple rules file, ipv4_rules_file.txt.</span></div>
<div class="line"><span class="comment"> * Expected format:</span></div>
<div class="line"><span class="comment"> * &lt;src_ipv4_addr&gt;&#39;/&#39;&lt;masklen&gt; &lt;space&gt; \</span></div>
<div class="line"><span class="comment"> * &lt;dst_ipv4_addr&gt;&#39;/&#39;&lt;masklen&gt; &lt;space&gt; \</span></div>
<div class="line"><span class="comment"> * &lt;src_port&gt; &lt;space&gt; &quot;:&quot; &lt;src_port_mask&gt; &lt;space&gt; \</span></div>
<div class="line"><span class="comment"> * &lt;dst_port&gt; &lt;space&gt; &quot;:&quot; &lt;dst_port_mask&gt; &lt;space&gt; \</span></div>
<div class="line"><span class="comment"> * &lt;proto&gt;&#39;/&#39;&lt;proto_mask&gt; &lt;space&gt; \</span></div>
<div class="line"><span class="comment"> * &lt;priority&gt;</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">get_cb_field(<span class="keywordtype">char</span> **in, uint32_t *fd, <span class="keywordtype">int</span> base, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> lim,</div>
<div class="line">        <span class="keywordtype">char</span> dlm)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> val;</div>
<div class="line">    <span class="keywordtype">char</span> *end;</div>
<div class="line"> </div>
<div class="line">    errno = 0;</div>
<div class="line">    val = strtoul(*in, &amp;end, base);</div>
<div class="line">    <span class="keywordflow">if</span> (errno != 0 || end[0] != dlm || val &gt; lim)</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">    *fd = (uint32_t)val;</div>
<div class="line">    *in = end + 1;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">parse_ipv4_net(<span class="keywordtype">char</span> *in, uint32_t *addr, uint32_t *mask_len)</div>
<div class="line">{</div>
<div class="line">    uint32_t a, b, c, d, m;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (get_cb_field(&amp;in, &amp;a, 0, UINT8_MAX, <span class="charliteral">&#39;.&#39;</span>))</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">    <span class="keywordflow">if</span> (get_cb_field(&amp;in, &amp;b, 0, UINT8_MAX, <span class="charliteral">&#39;.&#39;</span>))</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">    <span class="keywordflow">if</span> (get_cb_field(&amp;in, &amp;c, 0, UINT8_MAX, <span class="charliteral">&#39;.&#39;</span>))</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">    <span class="keywordflow">if</span> (get_cb_field(&amp;in, &amp;d, 0, UINT8_MAX, <span class="charliteral">&#39;/&#39;</span>))</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">    <span class="keywordflow">if</span> (get_cb_field(&amp;in, &amp;m, 0, <span class="keyword">sizeof</span>(uint32_t) * CHAR_BIT, 0))</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"> </div>
<div class="line">    addr[0] = <a name="a52"></a><a class="code" href="rte__ip_8h.html#ab47f44ee7405b19885bcaac5791e70f4">RTE_IPV4</a>(a, b, c, d);</div>
<div class="line">    mask_len[0] = m;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">parse_ipv4_5tuple_rule(<span class="keywordtype">char</span> *str, <span class="keyword">struct</span> <a name="_a53"></a><a class="code" href="structrte__eth__ntuple__filter.html">rte_eth_ntuple_filter</a> *ntuple_filter)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> i, ret;</div>
<div class="line">    <span class="keywordtype">char</span> *s, *sp, *in[CB_FLD_NUM];</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *dlm = <span class="stringliteral">&quot; \t\n&quot;</span>;</div>
<div class="line">    <span class="keywordtype">int</span> dim = CB_FLD_NUM;</div>
<div class="line">    uint32_t temp;</div>
<div class="line"> </div>
<div class="line">    s = str;</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i != dim; i++, s = NULL) {</div>
<div class="line">        in[i] = strtok_r(s, dlm, &amp;sp);</div>
<div class="line">        <span class="keywordflow">if</span> (in[i] == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ret = parse_ipv4_net(in[CB_FLD_SRC_ADDR],</div>
<div class="line">            &amp;ntuple_filter-&gt;<a name="a54"></a><a class="code" href="structrte__eth__ntuple__filter.html#aacb87cb8b0e6a2622b48ebe0553cf988">src_ip</a>,</div>
<div class="line">            &amp;ntuple_filter-&gt;<a name="a55"></a><a class="code" href="structrte__eth__ntuple__filter.html#a14a008107647716cf9938ba9cf2cff07">src_ip_mask</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != 0) {</div>
<div class="line">        flow_classify_log(<span class="stringliteral">&quot;failed to read source address/mask: %s\n&quot;</span>,</div>
<div class="line">            in[CB_FLD_SRC_ADDR]);</div>
<div class="line">        <span class="keywordflow">return</span> ret;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ret = parse_ipv4_net(in[CB_FLD_DST_ADDR],</div>
<div class="line">            &amp;ntuple_filter-&gt;<a name="a56"></a><a class="code" href="structrte__eth__ntuple__filter.html#a8fc1e4820a101bd4f2e1f45533e09ca5">dst_ip</a>,</div>
<div class="line">            &amp;ntuple_filter-&gt;<a name="a57"></a><a class="code" href="structrte__eth__ntuple__filter.html#a9a986d4f6a85f0b751ef5bb3c8e73b24">dst_ip_mask</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != 0) {</div>
<div class="line">        flow_classify_log(<span class="stringliteral">&quot;failed to read source address/mask: %s\n&quot;</span>,</div>
<div class="line">            in[CB_FLD_DST_ADDR]);</div>
<div class="line">        <span class="keywordflow">return</span> ret;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (get_cb_field(&amp;in[CB_FLD_SRC_PORT], &amp;temp, 0, UINT16_MAX, 0))</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">    ntuple_filter-&gt;<a name="a58"></a><a class="code" href="structrte__eth__ntuple__filter.html#ab98974981cf4c143fcee028643f313e6">src_port</a> = (uint16_t)temp;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (strncmp(in[CB_FLD_SRC_PORT_DLM], cb_port_delim,</div>
<div class="line">            <span class="keyword">sizeof</span>(cb_port_delim)) != 0)</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (get_cb_field(&amp;in[CB_FLD_SRC_PORT_MASK], &amp;temp, 0, UINT16_MAX, 0))</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">    ntuple_filter-&gt;<a name="a59"></a><a class="code" href="structrte__eth__ntuple__filter.html#a3451bcc47740527fa1e2d84a14786bb3">src_port_mask</a> = (uint16_t)temp;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (get_cb_field(&amp;in[CB_FLD_DST_PORT], &amp;temp, 0, UINT16_MAX, 0))</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">    ntuple_filter-&gt;<a name="a60"></a><a class="code" href="structrte__eth__ntuple__filter.html#ae18defed4756b8c15e34718f51e86e55">dst_port</a> = (uint16_t)temp;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (strncmp(in[CB_FLD_DST_PORT_DLM], cb_port_delim,</div>
<div class="line">            <span class="keyword">sizeof</span>(cb_port_delim)) != 0)</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (get_cb_field(&amp;in[CB_FLD_DST_PORT_MASK], &amp;temp, 0, UINT16_MAX, 0))</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">    ntuple_filter-&gt;<a name="a61"></a><a class="code" href="structrte__eth__ntuple__filter.html#a8c191b0996b359fb0012f86e0233abbc">dst_port_mask</a> = (uint16_t)temp;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (get_cb_field(&amp;in[CB_FLD_PROTO], &amp;temp, 0, UINT8_MAX, <span class="charliteral">&#39;/&#39;</span>))</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">    ntuple_filter-&gt;<a name="a62"></a><a class="code" href="structrte__eth__ntuple__filter.html#adaae928b69788f774db092e75f1c4fb7">proto</a> = (uint8_t)temp;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (get_cb_field(&amp;in[CB_FLD_PROTO], &amp;temp, 0, UINT8_MAX, 0))</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">    ntuple_filter-&gt;<a name="a63"></a><a class="code" href="structrte__eth__ntuple__filter.html#a891d8676f4217b7c83d29bca71789d42">proto_mask</a> = (uint8_t)temp;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (get_cb_field(&amp;in[CB_FLD_PRIORITY], &amp;temp, 0, UINT16_MAX, 0))</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">    ntuple_filter-&gt;<a name="a64"></a><a class="code" href="structrte__eth__ntuple__filter.html#a0815784d41b3c13d42ce22367abfba1d">priority</a> = (uint16_t)temp;</div>
<div class="line">    <span class="keywordflow">if</span> (ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a0815784d41b3c13d42ce22367abfba1d">priority</a> &gt; FLOW_CLASSIFY_MAX_PRIORITY)</div>
<div class="line">        ret = -EINVAL;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Bypass comment and empty lines */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span></div>
<div class="line">is_bypass_line(<span class="keywordtype">char</span> *buff)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* comment line */</span></div>
<div class="line">    <span class="keywordflow">if</span> (buff[0] == COMMENT_LEAD_CHAR)</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    <span class="comment">/* empty line */</span></div>
<div class="line">    <span class="keywordflow">while</span> (buff[i] != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line">        <span class="keywordflow">if</span> (!isspace(buff[i]))</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        i++;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> uint32_t</div>
<div class="line">convert_depth_to_bitmask(uint32_t depth_val)</div>
<div class="line">{</div>
<div class="line">    uint32_t bitmask = 0;</div>
<div class="line">    <span class="keywordtype">int</span> i, j;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = depth_val, j = 0; i &gt; 0; i--, j++)</div>
<div class="line">        bitmask |= (1 &lt;&lt; (31 - j));</div>
<div class="line">    <span class="keywordflow">return</span> bitmask;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">add_classify_rule(<span class="keyword">struct</span> <a class="code" href="structrte__eth__ntuple__filter.html">rte_eth_ntuple_filter</a> *ntuple_filter,</div>
<div class="line">        <span class="keyword">struct</span> flow_classifier *cls_app)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> ret = -1;</div>
<div class="line">    <span class="keywordtype">int</span> key_found;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a65"></a><a class="code" href="structrte__flow__error.html">rte_flow_error</a> error;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a66"></a><a class="code" href="structrte__flow__item__ipv4.html">rte_flow_item_ipv4</a> ipv4_spec;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__flow__item__ipv4.html">rte_flow_item_ipv4</a> ipv4_mask;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__flow__item.html">rte_flow_item</a> ipv4_udp_item;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__flow__item.html">rte_flow_item</a> ipv4_tcp_item;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__flow__item.html">rte_flow_item</a> ipv4_sctp_item;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a67"></a><a class="code" href="structrte__flow__item__udp.html">rte_flow_item_udp</a> udp_spec;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__flow__item__udp.html">rte_flow_item_udp</a> udp_mask;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__flow__item.html">rte_flow_item</a> udp_item;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a68"></a><a class="code" href="structrte__flow__item__tcp.html">rte_flow_item_tcp</a> tcp_spec;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__flow__item__tcp.html">rte_flow_item_tcp</a> tcp_mask;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__flow__item.html">rte_flow_item</a> tcp_item;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a69"></a><a class="code" href="structrte__flow__item__sctp.html">rte_flow_item_sctp</a> sctp_spec;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__flow__item__sctp.html">rte_flow_item_sctp</a> sctp_mask;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__flow__item.html">rte_flow_item</a> sctp_item;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__flow__item.html">rte_flow_item</a> pattern_ipv4_5tuple[4];</div>
<div class="line">    <span class="keyword">struct </span>rte_flow_classify_rule *rule;</div>
<div class="line">    uint8_t ipv4_proto;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (num_classify_rules &gt;= MAX_NUM_CLASSIFY) {</div>
<div class="line">        printf(</div>
<div class="line">            <span class="stringliteral">&quot;\nINFO:  classify rule capacity %d reached\n&quot;</span>,</div>
<div class="line">            num_classify_rules);</div>
<div class="line">        <span class="keywordflow">return</span> ret;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* set up parameters for validate and add */</span></div>
<div class="line">    memset(&amp;ipv4_spec, 0, <span class="keyword">sizeof</span>(ipv4_spec));</div>
<div class="line">    ipv4_spec.hdr.next_proto_id = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#adaae928b69788f774db092e75f1c4fb7">proto</a>;</div>
<div class="line">    ipv4_spec.hdr.src_addr = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#aacb87cb8b0e6a2622b48ebe0553cf988">src_ip</a>;</div>
<div class="line">    ipv4_spec.hdr.dst_addr = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a8fc1e4820a101bd4f2e1f45533e09ca5">dst_ip</a>;</div>
<div class="line">    ipv4_proto = ipv4_spec.hdr.next_proto_id;</div>
<div class="line"> </div>
<div class="line">    memset(&amp;ipv4_mask, 0, <span class="keyword">sizeof</span>(ipv4_mask));</div>
<div class="line">    ipv4_mask.hdr.next_proto_id = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a891d8676f4217b7c83d29bca71789d42">proto_mask</a>;</div>
<div class="line">    ipv4_mask.hdr.src_addr = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a14a008107647716cf9938ba9cf2cff07">src_ip_mask</a>;</div>
<div class="line">    ipv4_mask.hdr.src_addr =</div>
<div class="line">        convert_depth_to_bitmask(ipv4_mask.hdr.src_addr);</div>
<div class="line">    ipv4_mask.hdr.dst_addr = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a9a986d4f6a85f0b751ef5bb3c8e73b24">dst_ip_mask</a>;</div>
<div class="line">    ipv4_mask.hdr.dst_addr =</div>
<div class="line">        convert_depth_to_bitmask(ipv4_mask.hdr.dst_addr);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (ipv4_proto) {</div>
<div class="line">    <span class="keywordflow">case</span> IPPROTO_UDP:</div>
<div class="line">        ipv4_udp_item.type = <a name="a70"></a><a class="code" href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1a04512db8022f42e5935cfc2ecdde66b2">RTE_FLOW_ITEM_TYPE_IPV4</a>;</div>
<div class="line">        ipv4_udp_item.spec = &amp;ipv4_spec;</div>
<div class="line">        ipv4_udp_item.mask = &amp;ipv4_mask;</div>
<div class="line">        ipv4_udp_item.last = NULL;</div>
<div class="line"> </div>
<div class="line">        udp_spec.hdr.src_port = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#ab98974981cf4c143fcee028643f313e6">src_port</a>;</div>
<div class="line">        udp_spec.hdr.dst_port = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#ae18defed4756b8c15e34718f51e86e55">dst_port</a>;</div>
<div class="line">        udp_spec.hdr.dgram_len = 0;</div>
<div class="line">        udp_spec.hdr.dgram_cksum = 0;</div>
<div class="line"> </div>
<div class="line">        udp_mask.hdr.src_port = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a3451bcc47740527fa1e2d84a14786bb3">src_port_mask</a>;</div>
<div class="line">        udp_mask.hdr.dst_port = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a8c191b0996b359fb0012f86e0233abbc">dst_port_mask</a>;</div>
<div class="line">        udp_mask.hdr.dgram_len = 0;</div>
<div class="line">        udp_mask.hdr.dgram_cksum = 0;</div>
<div class="line"> </div>
<div class="line">        udp_item.type = <a name="a71"></a><a class="code" href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1abe673c102201d8917e3d38d2dc748a70">RTE_FLOW_ITEM_TYPE_UDP</a>;</div>
<div class="line">        udp_item.spec = &amp;udp_spec;</div>
<div class="line">        udp_item.mask = &amp;udp_mask;</div>
<div class="line">        udp_item.last = NULL;</div>
<div class="line"> </div>
<div class="line">        attr.priority = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a0815784d41b3c13d42ce22367abfba1d">priority</a>;</div>
<div class="line">        pattern_ipv4_5tuple[1] = ipv4_udp_item;</div>
<div class="line">        pattern_ipv4_5tuple[2] = udp_item;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> IPPROTO_TCP:</div>
<div class="line">        ipv4_tcp_item.type = <a class="code" href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1a04512db8022f42e5935cfc2ecdde66b2">RTE_FLOW_ITEM_TYPE_IPV4</a>;</div>
<div class="line">        ipv4_tcp_item.spec = &amp;ipv4_spec;</div>
<div class="line">        ipv4_tcp_item.mask = &amp;ipv4_mask;</div>
<div class="line">        ipv4_tcp_item.last = NULL;</div>
<div class="line"> </div>
<div class="line">        memset(&amp;tcp_spec, 0, <span class="keyword">sizeof</span>(tcp_spec));</div>
<div class="line">        tcp_spec.hdr.src_port = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#ab98974981cf4c143fcee028643f313e6">src_port</a>;</div>
<div class="line">        tcp_spec.hdr.dst_port = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#ae18defed4756b8c15e34718f51e86e55">dst_port</a>;</div>
<div class="line"> </div>
<div class="line">        memset(&amp;tcp_mask, 0, <span class="keyword">sizeof</span>(tcp_mask));</div>
<div class="line">        tcp_mask.hdr.src_port = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a3451bcc47740527fa1e2d84a14786bb3">src_port_mask</a>;</div>
<div class="line">        tcp_mask.hdr.dst_port = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a8c191b0996b359fb0012f86e0233abbc">dst_port_mask</a>;</div>
<div class="line"> </div>
<div class="line">        tcp_item.type = <a name="a72"></a><a class="code" href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1a2b49c8dc263658dd89f8a13a4b525bba">RTE_FLOW_ITEM_TYPE_TCP</a>;</div>
<div class="line">        tcp_item.spec = &amp;tcp_spec;</div>
<div class="line">        tcp_item.mask = &amp;tcp_mask;</div>
<div class="line">        tcp_item.last = NULL;</div>
<div class="line"> </div>
<div class="line">        attr.priority = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a0815784d41b3c13d42ce22367abfba1d">priority</a>;</div>
<div class="line">        pattern_ipv4_5tuple[1] = ipv4_tcp_item;</div>
<div class="line">        pattern_ipv4_5tuple[2] = tcp_item;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> IPPROTO_SCTP:</div>
<div class="line">        ipv4_sctp_item.type = <a class="code" href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1a04512db8022f42e5935cfc2ecdde66b2">RTE_FLOW_ITEM_TYPE_IPV4</a>;</div>
<div class="line">        ipv4_sctp_item.spec = &amp;ipv4_spec;</div>
<div class="line">        ipv4_sctp_item.mask = &amp;ipv4_mask;</div>
<div class="line">        ipv4_sctp_item.last = NULL;</div>
<div class="line"> </div>
<div class="line">        sctp_spec.hdr.src_port = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#ab98974981cf4c143fcee028643f313e6">src_port</a>;</div>
<div class="line">        sctp_spec.hdr.dst_port = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#ae18defed4756b8c15e34718f51e86e55">dst_port</a>;</div>
<div class="line">        sctp_spec.hdr.cksum = 0;</div>
<div class="line">        sctp_spec.hdr.tag = 0;</div>
<div class="line"> </div>
<div class="line">        sctp_mask.hdr.src_port = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a3451bcc47740527fa1e2d84a14786bb3">src_port_mask</a>;</div>
<div class="line">        sctp_mask.hdr.dst_port = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a8c191b0996b359fb0012f86e0233abbc">dst_port_mask</a>;</div>
<div class="line">        sctp_mask.hdr.cksum = 0;</div>
<div class="line">        sctp_mask.hdr.tag = 0;</div>
<div class="line"> </div>
<div class="line">        sctp_item.type = <a name="a73"></a><a class="code" href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1af01c53845930a08d8a6363d2244637d0">RTE_FLOW_ITEM_TYPE_SCTP</a>;</div>
<div class="line">        sctp_item.spec = &amp;sctp_spec;</div>
<div class="line">        sctp_item.mask = &amp;sctp_mask;</div>
<div class="line">        sctp_item.last = NULL;</div>
<div class="line"> </div>
<div class="line">        attr.priority = ntuple_filter-&gt;<a class="code" href="structrte__eth__ntuple__filter.html#a0815784d41b3c13d42ce22367abfba1d">priority</a>;</div>
<div class="line">        pattern_ipv4_5tuple[1] = ipv4_sctp_item;</div>
<div class="line">        pattern_ipv4_5tuple[2] = sctp_item;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">return</span> ret;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    attr.ingress = 1;</div>
<div class="line">    pattern_ipv4_5tuple[0] = eth_item;</div>
<div class="line">    pattern_ipv4_5tuple[3] = end_item;</div>
<div class="line">    actions[0] = count_action;</div>
<div class="line">    actions[1] = end_action;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Validate and add rule */</span></div>
<div class="line">    ret = <a name="a74"></a><a class="code" href="rte__flow__classify_8h.html#a6ad0c1dbfc78f3e9e0423f52c8ab527f">rte_flow_classify_validate</a>(cls_app-&gt;cls, &amp;attr,</div>
<div class="line">            pattern_ipv4_5tuple, actions, &amp;error);</div>
<div class="line">    <span class="keywordflow">if</span> (ret) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;table entry validate failed ipv4_proto = %u\n&quot;</span>,</div>
<div class="line">            ipv4_proto);</div>
<div class="line">        <span class="keywordflow">return</span> ret;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    rule = <a name="a75"></a><a class="code" href="rte__flow__classify_8h.html#ae8bfc231ac0302f3c71f2a7dfa38a721">rte_flow_classify_table_entry_add</a>(</div>
<div class="line">            cls_app-&gt;cls, &amp;attr, pattern_ipv4_5tuple,</div>
<div class="line">            actions, &amp;key_found, &amp;error);</div>
<div class="line">    <span class="keywordflow">if</span> (rule == NULL) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;table entry add failed ipv4_proto = %u\n&quot;</span>,</div>
<div class="line">            ipv4_proto);</div>
<div class="line">        ret = -1;</div>
<div class="line">        <span class="keywordflow">return</span> ret;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    rules[num_classify_rules] = rule;</div>
<div class="line">    num_classify_rules++;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">add_rules(<span class="keyword">const</span> <span class="keywordtype">char</span> *rule_path, <span class="keyword">struct</span> flow_classifier *cls_app)</div>
<div class="line">{</div>
<div class="line">    FILE *fh;</div>
<div class="line">    <span class="keywordtype">char</span> buff[LINE_MAX];</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> total_num = 0;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__eth__ntuple__filter.html">rte_eth_ntuple_filter</a> ntuple_filter;</div>
<div class="line">    <span class="keywordtype">int</span> ret;</div>
<div class="line"> </div>
<div class="line">    fh = fopen(rule_path, <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (fh == NULL)</div>
<div class="line">        <a name="a76"></a><a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;%s: fopen %s failed\n&quot;</span>, __func__,</div>
<div class="line">            rule_path);</div>
<div class="line"> </div>
<div class="line">    ret = fseek(fh, 0, SEEK_SET);</div>
<div class="line">    <span class="keywordflow">if</span> (ret)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;%s: fseek %d failed\n&quot;</span>, __func__,</div>
<div class="line">            ret);</div>
<div class="line"> </div>
<div class="line">    i = 0;</div>
<div class="line">    <span class="keywordflow">while</span> (fgets(buff, LINE_MAX, fh) != NULL) {</div>
<div class="line">        i++;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (is_bypass_line(buff))</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (total_num &gt;= FLOW_CLASSIFY_MAX_RULE_NUM - 1) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;\nINFO: classify rule capacity %d reached\n&quot;</span>,</div>
<div class="line">                total_num);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (parse_ipv4_5tuple_rule(buff, &amp;ntuple_filter) != 0)</div>
<div class="line">            <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                <span class="stringliteral">&quot;%s Line %u: parse rules error\n&quot;</span>,</div>
<div class="line">                rule_path, i);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (add_classify_rule(&amp;ntuple_filter, cls_app) != 0)</div>
<div class="line">            <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;add rule error\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        total_num++;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    fclose(fh);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* display usage */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">print_usage(<span class="keyword">const</span> <span class="keywordtype">char</span> *prgname)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;%s usage:\n&quot;</span>, prgname);</div>
<div class="line">    printf(<span class="stringliteral">&quot;[EAL options] --  --&quot;</span>OPTION_RULE_IPV4<span class="stringliteral">&quot;=FILE: &quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;specify the ipv4 rules file.\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Each rule occupies one line in the file.\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Parse the argument given in the command line of the application */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">parse_args(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> opt, ret;</div>
<div class="line">    <span class="keywordtype">char</span> **argvopt;</div>
<div class="line">    <span class="keywordtype">int</span> option_index;</div>
<div class="line">    <span class="keywordtype">char</span> *prgname = argv[0];</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">struct </span>option lgopts[] = {</div>
<div class="line">        {OPTION_RULE_IPV4, 1, 0, 0},</div>
<div class="line">        {NULL, 0, 0, 0}</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    argvopt = argv;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> ((opt = getopt_long(argc, argvopt, <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                lgopts, &amp;option_index)) != EOF) {</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span> (opt) {</div>
<div class="line">        <span class="comment">/* long options */</span></div>
<div class="line">        <span class="keywordflow">case</span> 0:</div>
<div class="line">            <span class="keywordflow">if</span> (!strncmp(lgopts[option_index].name,</div>
<div class="line">                    OPTION_RULE_IPV4,</div>
<div class="line">                    <span class="keyword">sizeof</span>(OPTION_RULE_IPV4)))</div>
<div class="line">                parm_config.rule_ipv4_name = optarg;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            print_usage(prgname);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (optind &gt;= 0)</div>
<div class="line">        argv[optind-1] = prgname;</div>
<div class="line"> </div>
<div class="line">    ret = optind-1;</div>
<div class="line">    optind = 1; <span class="comment">/* reset getopt lib */</span></div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * The main function, which does initialization and calls the lcore_main</span></div>
<div class="line"><span class="comment"> * function.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__mempool.html">rte_mempool</a> *mbuf_pool;</div>
<div class="line">    uint16_t nb_ports;</div>
<div class="line">    uint16_t portid;</div>
<div class="line">    <span class="keywordtype">int</span> ret;</div>
<div class="line">    <span class="keywordtype">int</span> <a name="a77"></a><a class="code" href="structrte__mempool.html#a229cb0bd24215f0cb940e0724dbd4d55">socket_id</a>;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a78"></a><a class="code" href="structrte__table__acl__params.html">rte_table_acl_params</a> table_acl_params;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a79"></a><a class="code" href="structrte__flow__classify__table__params.html">rte_flow_classify_table_params</a> cls_table_params;</div>
<div class="line">    <span class="keyword">struct </span>flow_classifier *cls_app;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a80"></a><a class="code" href="structrte__flow__classifier__params.html">rte_flow_classifier_params</a> cls_params;</div>
<div class="line">    uint32_t size;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize the Environment Abstraction Layer (EAL). */</span></div>
<div class="line">    ret = <a name="a81"></a><a class="code" href="rte__eal_8h.html#a5c3f4dddc25e38c5a186ecd8a69260e3">rte_eal_init</a>(argc, argv);</div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Error with EAL initialization\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    argc -= ret;</div>
<div class="line">    argv += ret;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* parse application arguments (after the EAL ones) */</span></div>
<div class="line">    ret = parse_args(argc, argv);</div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Invalid flow_classify parameters\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Check that there is an even number of ports to send/receive on. */</span></div>
<div class="line">    nb_ports = <a name="a82"></a><a class="code" href="rte__ethdev_8h.html#a9ab708089665bebcd65cefe5383b24f2">rte_eth_dev_count_avail</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (nb_ports &lt; 2 || (nb_ports &amp; 1))</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Error: number of ports must be even\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Creates a new mempool in memory to hold the mbufs. */</span></div>
<div class="line">    mbuf_pool = <a name="a83"></a><a class="code" href="rte__mbuf_8h.html#a593921f13307803b94bbb4e0932db962">rte_pktmbuf_pool_create</a>(<span class="stringliteral">&quot;MBUF_POOL&quot;</span>, NUM_MBUFS * nb_ports,</div>
<div class="line">        MBUF_CACHE_SIZE, 0, RTE_MBUF_DEFAULT_BUF_SIZE, <a class="code" href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a>());</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (mbuf_pool == NULL)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot create mbuf pool\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize all ports. */</span></div>
<div class="line">    <a class="code" href="rte__ethdev_8h.html#ad7b46c67203d37fe3a34f11076d970d6">RTE_ETH_FOREACH_DEV</a>(portid)</div>
<div class="line">        <span class="keywordflow">if</span> (port_init(portid, mbuf_pool) != 0)</div>
<div class="line">            <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot init port %&quot;</span>PRIu8 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">                    portid);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a84"></a><a class="code" href="rte__lcore_8h.html#a1728dc7f14571ba778d3b5b41aa09283">rte_lcore_count</a>() &gt; 1)</div>
<div class="line">        printf(<span class="stringliteral">&quot;\nWARNING: Too many lcores enabled. Only 1 used.\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <a name="a85"></a><a class="code" href="structrte__flow__classifier__params.html#a229cb0bd24215f0cb940e0724dbd4d55">socket_id</a> = <a class="code" href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a>(0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Memory allocation */</span></div>
<div class="line">    size = <a name="a86"></a><a class="code" href="rte__common_8h.html#a30eec128f3d71add687a1cbfe48abcbb">RTE_CACHE_LINE_ROUNDUP</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> flow_classifier_acl));</div>
<div class="line">    cls_app = <a name="a87"></a><a class="code" href="rte__malloc_8h.html#aaf0f048a5fd1672688c662cdfb4536b3">rte_zmalloc</a>(NULL, size, RTE_CACHE_LINE_SIZE);</div>
<div class="line">    <span class="keywordflow">if</span> (cls_app == NULL)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot allocate classifier memory\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    cls_params.name = <span class="stringliteral">&quot;flow_classifier&quot;</span>;</div>
<div class="line">    cls_params.socket_id = <a class="code" href="structrte__flow__classifier__params.html#a229cb0bd24215f0cb940e0724dbd4d55">socket_id</a>;</div>
<div class="line"> </div>
<div class="line">    cls_app-&gt;cls = <a name="a88"></a><a class="code" href="rte__flow__classify_8h.html#a50bbc29174def6079ecb1234fda79157">rte_flow_classifier_create</a>(&amp;cls_params);</div>
<div class="line">    <span class="keywordflow">if</span> (cls_app-&gt;cls == NULL) {</div>
<div class="line">        <a name="a89"></a><a class="code" href="rte__malloc_8h.html#a1fc82f67711b13aca7e05dc9d58f9dbd">rte_free</a>(cls_app);</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot create classifier\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* initialise ACL table params */</span></div>
<div class="line">    table_acl_params.name = <span class="stringliteral">&quot;table_acl_ipv4_5tuple&quot;</span>;</div>
<div class="line">    table_acl_params.n_rules = FLOW_CLASSIFY_MAX_RULE_NUM;</div>
<div class="line">    table_acl_params.n_rule_fields = <a name="a90"></a><a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(ipv4_defs);</div>
<div class="line">    memcpy(table_acl_params.field_format, ipv4_defs, <span class="keyword">sizeof</span>(ipv4_defs));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* initialise table create params */</span></div>
<div class="line">    cls_table_params.ops = &amp;<a name="a91"></a><a class="code" href="rte__table__acl_8h.html#a1ec0bc8eb1f77d82a87814f0b429b486">rte_table_acl_ops</a>;</div>
<div class="line">    cls_table_params.arg_create = &amp;table_acl_params;</div>
<div class="line">    cls_table_params.type = <a name="a92"></a><a class="code" href="rte__flow__classify_8h.html#a2b1df22f64091959380b3c7e64a470f7a8a97f195b937e5017ef2ee820c1d83ce">RTE_FLOW_CLASSIFY_TABLE_ACL_IP4_5TUPLE</a>;</div>
<div class="line"> </div>
<div class="line">    ret = <a name="a93"></a><a class="code" href="rte__flow__classify_8h.html#a51c75dc4dfb157108d9de719b8c07636">rte_flow_classify_table_create</a>(cls_app-&gt;cls, &amp;cls_table_params);</div>
<div class="line">    <span class="keywordflow">if</span> (ret) {</div>
<div class="line">        <a name="a94"></a><a class="code" href="rte__flow__classify_8h.html#a146b1a62dfee3735c4e1a8b910b2d38e">rte_flow_classifier_free</a>(cls_app-&gt;cls);</div>
<div class="line">        <a class="code" href="rte__malloc_8h.html#a1fc82f67711b13aca7e05dc9d58f9dbd">rte_free</a>(cls_app);</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Failed to create classifier table\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* read file of IPv4 5 tuple rules and initialize parameters</span></div>
<div class="line"><span class="comment">     * for rte_flow_classify_validate and rte_flow_classify_table_entry_add</span></div>
<div class="line"><span class="comment">     * API&#39;s.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <span class="keywordflow">if</span> (add_rules(parm_config.rule_ipv4_name, cls_app)) {</div>
<div class="line">        <a class="code" href="rte__flow__classify_8h.html#a146b1a62dfee3735c4e1a8b910b2d38e">rte_flow_classifier_free</a>(cls_app-&gt;cls);</div>
<div class="line">        <a class="code" href="rte__malloc_8h.html#a1fc82f67711b13aca7e05dc9d58f9dbd">rte_free</a>(cls_app);</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Failed to add rules\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Call lcore_main on the main core only. */</span></div>
<div class="line">    lcore_main(cls_app);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<div class="ttc" id="astructrte__flow__item__tcp_html"><div class="ttname"><a href="structrte__flow__item__tcp.html">rte_flow_item_tcp</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l00893">rte_flow.h:893</a></div></div>
<div class="ttc" id="arte__flow_8h_html_af10e2b0af33527be504e883406a84ca1af01c53845930a08d8a6363d2244637d0"><div class="ttname"><a href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1af01c53845930a08d8a6363d2244637d0">RTE_FLOW_ITEM_TYPE_SCTP</a></div><div class="ttdeci">@ RTE_FLOW_ITEM_TYPE_SCTP</div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l00259">rte_flow.h:259</a></div></div>
<div class="ttc" id="arte__malloc_8h_html_aaf0f048a5fd1672688c662cdfb4536b3"><div class="ttname"><a href="rte__malloc_8h.html#aaf0f048a5fd1672688c662cdfb4536b3">rte_zmalloc</a></div><div class="ttdeci">void * rte_zmalloc(const char *type, size_t size, unsigned align) __rte_alloc_size(2)</div></div>
<div class="ttc" id="astructrte__flow__query__count_html"><div class="ttname"><a href="structrte__flow__query__count.html">rte_flow_query_count</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l02316">rte_flow.h:2316</a></div></div>
<div class="ttc" id="arte__table__acl_8h_html"><div class="ttname"><a href="rte__table__acl_8h.html">rte_table_acl.h</a></div></div>
<div class="ttc" id="astructrte__eth__ntuple__filter_html_a3451bcc47740527fa1e2d84a14786bb3"><div class="ttname"><a href="structrte__eth__ntuple__filter.html#a3451bcc47740527fa1e2d84a14786bb3">rte_eth_ntuple_filter::src_port_mask</a></div><div class="ttdeci">uint16_t src_port_mask</div><div class="ttdef"><b>Definition:</b> <a href="rte__eth__ctrl_8h_source.html#l00062">rte_eth_ctrl.h:62</a></div></div>
<div class="ttc" id="astructrte__acl__field__def_html"><div class="ttname"><a href="structrte__acl__field__def.html">rte_acl_field_def</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__acl_8h_source.html#l00051">rte_acl.h:51</a></div></div>
<div class="ttc" id="astructrte__eth__ntuple__filter_html_aacb87cb8b0e6a2622b48ebe0553cf988"><div class="ttname"><a href="structrte__eth__ntuple__filter.html#aacb87cb8b0e6a2622b48ebe0553cf988">rte_eth_ntuple_filter::src_ip</a></div><div class="ttdeci">uint32_t src_ip</div><div class="ttdef"><b>Definition:</b> <a href="rte__eth__ctrl_8h_source.html#l00057">rte_eth_ctrl.h:57</a></div></div>
<div class="ttc" id="astructrte__flow__classifier__params_html"><div class="ttname"><a href="structrte__flow__classifier__params.html">rte_flow_classifier_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__flow__classify_8h_source.html#l00099">rte_flow_classify.h:99</a></div></div>
<div class="ttc" id="arte__flow_8h_html_af10e2b0af33527be504e883406a84ca1abe673c102201d8917e3d38d2dc748a70"><div class="ttname"><a href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1abe673c102201d8917e3d38d2dc748a70">RTE_FLOW_ITEM_TYPE_UDP</a></div><div class="ttdeci">@ RTE_FLOW_ITEM_TYPE_UDP</div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l00245">rte_flow.h:245</a></div></div>
<div class="ttc" id="astructrte__acl__field__def_html_a894bdfa2d603d8343f8ef01dda6fcd23"><div class="ttname"><a href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">rte_acl_field_def::offset</a></div><div class="ttdeci">uint32_t offset</div><div class="ttdef"><b>Definition:</b> <a href="rte__acl_8h_source.html#l00056">rte_acl.h:56</a></div></div>
<div class="ttc" id="arte__branch__prediction_8h_html_ac6c45889010c1bd68631771b64f18101"><div class="ttname"><a href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a></div><div class="ttdeci">#define unlikely(x)</div><div class="ttdef"><b>Definition:</b> <a href="rte__branch__prediction_8h_source.html#l00038">rte_branch_prediction.h:38</a></div></div>
<div class="ttc" id="arte__flow__classify_8h_html"><div class="ttname"><a href="rte__flow__classify_8h.html">rte_flow_classify.h</a></div></div>
<div class="ttc" id="arte__lcore_8h_html"><div class="ttname"><a href="rte__lcore_8h.html">rte_lcore.h</a></div></div>
<div class="ttc" id="astructrte__eth__ntuple__filter_html_ae18defed4756b8c15e34718f51e86e55"><div class="ttname"><a href="structrte__eth__ntuple__filter.html#ae18defed4756b8c15e34718f51e86e55">rte_eth_ntuple_filter::dst_port</a></div><div class="ttdeci">uint16_t dst_port</div><div class="ttdef"><b>Definition:</b> <a href="rte__eth__ctrl_8h_source.html#l00059">rte_eth_ctrl.h:59</a></div></div>
<div class="ttc" id="arte__lcore_8h_html_a7c8da4664df26a64cf05dc508a4f26df"><div class="ttname"><a href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a></div><div class="ttdeci">unsigned int rte_socket_id(void)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_a796c2f20778984c6f41b271e36bae50e"><div class="ttname"><a href="rte__ethdev_8h.html#a796c2f20778984c6f41b271e36bae50e">rte_eth_tx_queue_setup</a></div><div class="ttdeci">int rte_eth_tx_queue_setup(uint16_t port_id, uint16_t tx_queue_id, uint16_t nb_tx_desc, unsigned int socket_id, const struct rte_eth_txconf *tx_conf)</div></div>
<div class="ttc" id="astructrte__eth__txconf_html"><div class="ttname"><a href="structrte__eth__txconf.html">rte_eth_txconf</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01060">rte_ethdev.h:1060</a></div></div>
<div class="ttc" id="arte__flow__classify_8h_html_ae8bfc231ac0302f3c71f2a7dfa38a721"><div class="ttname"><a href="rte__flow__classify_8h.html#ae8bfc231ac0302f3c71f2a7dfa38a721">rte_flow_classify_table_entry_add</a></div><div class="ttdeci">__rte_experimental struct rte_flow_classify_rule * rte_flow_classify_table_entry_add(struct rte_flow_classifier *cls, const struct rte_flow_attr *attr, const struct rte_flow_item pattern[], const struct rte_flow_action actions[], int *key_found, struct rte_flow_error *error)</div></div>
<div class="ttc" id="arte__flow__classify_8h_html_a6ad0c1dbfc78f3e9e0423f52c8ab527f"><div class="ttname"><a href="rte__flow__classify_8h.html#a6ad0c1dbfc78f3e9e0423f52c8ab527f">rte_flow_classify_validate</a></div><div class="ttdeci">__rte_experimental int rte_flow_classify_validate(struct rte_flow_classifier *cls, const struct rte_flow_attr *attr, const struct rte_flow_item pattern[], const struct rte_flow_action actions[], struct rte_flow_error *error)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_a1a7d3a20b102fee222541fda50fd87bd"><div class="ttname"><a href="rte__ethdev_8h.html#a1a7d3a20b102fee222541fda50fd87bd">rte_eth_dev_configure</a></div><div class="ttdeci">int rte_eth_dev_configure(uint16_t port_id, uint16_t nb_rx_queue, uint16_t nb_tx_queue, const struct rte_eth_conf *eth_conf)</div></div>
<div class="ttc" id="astructrte__eth__rxmode_html_a84a5d32306b86a1df884144612c70726"><div class="ttname"><a href="structrte__eth__rxmode.html#a84a5d32306b86a1df884144612c70726">rte_eth_rxmode::max_rx_pkt_len</a></div><div class="ttdeci">uint32_t max_rx_pkt_len</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l00403">rte_ethdev.h:403</a></div></div>
<div class="ttc" id="astructrte__flow__classify__table__params_html"><div class="ttname"><a href="structrte__flow__classify__table__params.html">rte_flow_classify_table_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__flow__classify_8h_source.html#l00109">rte_flow_classify.h:109</a></div></div>
<div class="ttc" id="astructrte__eth__ntuple__filter_html_ab98974981cf4c143fcee028643f313e6"><div class="ttname"><a href="structrte__eth__ntuple__filter.html#ab98974981cf4c143fcee028643f313e6">rte_eth_ntuple_filter::src_port</a></div><div class="ttdeci">uint16_t src_port</div><div class="ttdef"><b>Definition:</b> <a href="rte__eth__ctrl_8h_source.html#l00061">rte_eth_ctrl.h:61</a></div></div>
<div class="ttc" id="arte__ip_8h_html_ab47f44ee7405b19885bcaac5791e70f4"><div class="ttname"><a href="rte__ip_8h.html#ab47f44ee7405b19885bcaac5791e70f4">RTE_IPV4</a></div><div class="ttdeci">#define RTE_IPV4(a, b, c, d)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ip_8h_source.html#l00047">rte_ip.h:47</a></div></div>
<div class="ttc" id="arte__flow_8h_html_a78f0386e683cfc491462a771df8b971aa7bc270d4629785c13b81dccca71f67e3"><div class="ttname"><a href="rte__flow_8h.html#a78f0386e683cfc491462a771df8b971aa7bc270d4629785c13b81dccca71f67e3">RTE_FLOW_ACTION_TYPE_END</a></div><div class="ttdeci">@ RTE_FLOW_ACTION_TYPE_END</div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l01703">rte_flow.h:1703</a></div></div>
<div class="ttc" id="arte__flow_8h_html_af10e2b0af33527be504e883406a84ca1a2b49c8dc263658dd89f8a13a4b525bba"><div class="ttname"><a href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1a2b49c8dc263658dd89f8a13a4b525bba">RTE_FLOW_ITEM_TYPE_TCP</a></div><div class="ttdeci">@ RTE_FLOW_ITEM_TYPE_TCP</div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l00252">rte_flow.h:252</a></div></div>
<div class="ttc" id="astructrte__eth__conf_html_a346eef99c24f617b74c440c1aa565d01"><div class="ttname"><a href="structrte__eth__conf.html#a346eef99c24f617b74c440c1aa565d01">rte_eth_conf::rxmode</a></div><div class="ttdeci">struct rte_eth_rxmode rxmode</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01294">rte_ethdev.h:1301</a></div></div>
<div class="ttc" id="astructrte__flow__item__ipv4_html"><div class="ttname"><a href="structrte__flow__item__ipv4.html">rte_flow_item_ipv4</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l00791">rte_flow.h:791</a></div></div>
<div class="ttc" id="arte__common_8h_html_a38e32f822bc941e90fdcbe5a9c69b178"><div class="ttname"><a href="rte__common_8h.html#a38e32f822bc941e90fdcbe5a9c69b178">__rte_cache_aligned</a></div><div class="ttdeci">#define __rte_cache_aligned</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00400">rte_common.h:400</a></div></div>
<div class="ttc" id="astructrte__acl__field__def_html_a1d127017fb298b889f4ba24752d08b8e"><div class="ttname"><a href="structrte__acl__field__def.html#a1d127017fb298b889f4ba24752d08b8e">rte_acl_field_def::type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdef"><b>Definition:</b> <a href="rte__acl_8h_source.html#l00052">rte_acl.h:52</a></div></div>
<div class="ttc" id="astructrte__flow__item_html"><div class="ttname"><a href="structrte__flow__item.html">rte_flow_item</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l01663">rte_flow.h:1663</a></div></div>
<div class="ttc" id="arte__table__acl_8h_html_a1ec0bc8eb1f77d82a87814f0b429b486"><div class="ttname"><a href="rte__table__acl_8h.html#a1ec0bc8eb1f77d82a87814f0b429b486">rte_table_acl_ops</a></div><div class="ttdeci">struct rte_table_ops rte_table_acl_ops</div></div>
<div class="ttc" id="arte__eal_8h_html"><div class="ttname"><a href="rte__eal_8h.html">rte_eal.h</a></div></div>
<div class="ttc" id="arte__flow__classify_8h_html_ad061ae308a0bec7422e64060f02b6f82"><div class="ttname"><a href="rte__flow__classify_8h.html#ad061ae308a0bec7422e64060f02b6f82">rte_flow_classify_table_entry_delete</a></div><div class="ttdeci">__rte_experimental int rte_flow_classify_table_entry_delete(struct rte_flow_classifier *cls, struct rte_flow_classify_rule *rule)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_a3e7d76a451b46348686ea97d6367f102"><div class="ttname"><a href="rte__ethdev_8h.html#a3e7d76a451b46348686ea97d6367f102">rte_eth_rx_burst</a></div><div class="ttdeci">static uint16_t rte_eth_rx_burst(uint16_t port_id, uint16_t queue_id, struct rte_mbuf **rx_pkts, const uint16_t nb_pkts)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l04834">rte_ethdev.h:4834</a></div></div>
<div class="ttc" id="arte__flow_8h_html_af10e2b0af33527be504e883406a84ca1a51161f8ef75cba3968e32fc0472575d7"><div class="ttname"><a href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1a51161f8ef75cba3968e32fc0472575d7">RTE_FLOW_ITEM_TYPE_END</a></div><div class="ttdeci">@ RTE_FLOW_ITEM_TYPE_END</div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l00128">rte_flow.h:128</a></div></div>
<div class="ttc" id="astructrte__mbuf_html"><div class="ttname"><a href="structrte__mbuf.html">rte_mbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__core_8h_source.html#l00473">rte_mbuf_core.h:473</a></div></div>
<div class="ttc" id="astructrte__flow__query__count_html_aa0110dfcd1a7cfdd3fae2a5676f7901d"><div class="ttname"><a href="structrte__flow__query__count.html#aa0110dfcd1a7cfdd3fae2a5676f7901d">rte_flow_query_count::reset</a></div><div class="ttdeci">uint32_t reset</div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l02317">rte_flow.h:2317</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a7593f4fff04f4ae1b1d718db7ca7dc8c"><div class="ttname"><a href="rte__ethdev_8h.html#a7593f4fff04f4ae1b1d718db7ca7dc8c">rte_eth_dev_info_get</a></div><div class="ttdeci">int rte_eth_dev_info_get(uint16_t port_id, struct rte_eth_dev_info *dev_info)</div></div>
<div class="ttc" id="arte__flow_8h_html_af10e2b0af33527be504e883406a84ca1a04512db8022f42e5935cfc2ecdde66b2"><div class="ttname"><a href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1a04512db8022f42e5935cfc2ecdde66b2">RTE_FLOW_ITEM_TYPE_IPV4</a></div><div class="ttdeci">@ RTE_FLOW_ITEM_TYPE_IPV4</div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l00224">rte_flow.h:224</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a5dd1dedaa45f05c72bcc35495e441e91"><div class="ttname"><a href="rte__ethdev_8h.html#a5dd1dedaa45f05c72bcc35495e441e91">rte_eth_promiscuous_enable</a></div><div class="ttdeci">int rte_eth_promiscuous_enable(uint16_t port_id)</div></div>
<div class="ttc" id="astructrte__acl__field__def_html_a92f339699e74f468bf5355e4d76f6a79"><div class="ttname"><a href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">rte_acl_field_def::input_index</a></div><div class="ttdeci">uint8_t input_index</div><div class="ttdef"><b>Definition:</b> <a href="rte__acl_8h_source.html#l00055">rte_acl.h:55</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a22dcfd3f5f2b34f657131d66132e23a7"><div class="ttname"><a href="rte__ethdev_8h.html#a22dcfd3f5f2b34f657131d66132e23a7">rte_eth_dev_is_valid_port</a></div><div class="ttdeci">int rte_eth_dev_is_valid_port(uint16_t port_id)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_a8a28375b279ded9125c99a46bf3956ef"><div class="ttname"><a href="rte__ethdev_8h.html#a8a28375b279ded9125c99a46bf3956ef">rte_eth_macaddr_get</a></div><div class="ttdeci">int rte_eth_macaddr_get(uint16_t port_id, struct rte_ether_addr *mac_addr)</div></div>
<div class="ttc" id="arte__common_8h_html_ac5169870c983b3463cb226bdb8a94880"><div class="ttname"><a href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a></div><div class="ttdeci">__rte_noreturn void rte_exit(int exit_code, const char *format,...) __rte_format_printf(2</div></div>
<div class="ttc" id="arte__lcore_8h_html_a1728dc7f14571ba778d3b5b41aa09283"><div class="ttname"><a href="rte__lcore_8h.html#a1728dc7f14571ba778d3b5b41aa09283">rte_lcore_count</a></div><div class="ttdeci">unsigned int rte_lcore_count(void)</div></div>
<div class="ttc" id="arte__flow__classify_8h_html_a51c75dc4dfb157108d9de719b8c07636"><div class="ttname"><a href="rte__flow__classify_8h.html#a51c75dc4dfb157108d9de719b8c07636">rte_flow_classify_table_create</a></div><div class="ttdeci">__rte_experimental int rte_flow_classify_table_create(struct rte_flow_classifier *cls, struct rte_flow_classify_table_params *params)</div></div>
<div class="ttc" id="arte__flow__classify_8h_html_a50bbc29174def6079ecb1234fda79157"><div class="ttname"><a href="rte__flow__classify_8h.html#a50bbc29174def6079ecb1234fda79157">rte_flow_classifier_create</a></div><div class="ttdeci">__rte_experimental struct rte_flow_classifier * rte_flow_classifier_create(struct rte_flow_classifier_params *params)</div></div>
<div class="ttc" id="arte__flow_8h_html"><div class="ttname"><a href="rte__flow_8h.html">rte_flow.h</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a83e56cabbd31637efd648e3fc010392b"><div class="ttname"><a href="rte__ethdev_8h.html#a83e56cabbd31637efd648e3fc010392b">rte_eth_tx_burst</a></div><div class="ttdeci">static uint16_t rte_eth_tx_burst(uint16_t port_id, uint16_t queue_id, struct rte_mbuf **tx_pkts, uint16_t nb_pkts)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l05112">rte_ethdev.h:5112</a></div></div>
<div class="ttc" id="arte__lcore_8h_html_adfb2b334e7e73f534f25e8888a8a775f"><div class="ttname"><a href="rte__lcore_8h.html#adfb2b334e7e73f534f25e8888a8a775f">rte_lcore_id</a></div><div class="ttdeci">static unsigned rte_lcore_id(void)</div><div class="ttdef"><b>Definition:</b> <a href="rte__lcore_8h_source.html#l00075">rte_lcore.h:75</a></div></div>
<div class="ttc" id="astructrte__flow__classifier__params_html_a229cb0bd24215f0cb940e0724dbd4d55"><div class="ttname"><a href="structrte__flow__classifier__params.html#a229cb0bd24215f0cb940e0724dbd4d55">rte_flow_classifier_params::socket_id</a></div><div class="ttdeci">int socket_id</div><div class="ttdef"><b>Definition:</b> <a href="rte__flow__classify_8h_source.html#l00105">rte_flow_classify.h:105</a></div></div>
<div class="ttc" id="arte__cycles_8h_html"><div class="ttname"><a href="rte__cycles_8h.html">rte_cycles.h</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_ae7110b5d5dced8f42505bff5d9e3f0ea"><div class="ttname"><a href="rte__ethdev_8h.html#ae7110b5d5dced8f42505bff5d9e3f0ea">DEV_TX_OFFLOAD_MBUF_FAST_FREE</a></div><div class="ttdeci">#define DEV_TX_OFFLOAD_MBUF_FAST_FREE</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01401">rte_ethdev.h:1397</a></div></div>
<div class="ttc" id="arte__common_8h_html_ac963da91b35efa4700b73a1f4eb1d8a6"><div class="ttname"><a href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a></div><div class="ttdeci">#define RTE_DIM(a)</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00809">rte_common.h:809</a></div></div>
<div class="ttc" id="astructrte__flow__classify__stats_html"><div class="ttname"><a href="structrte__flow__classify__stats.html">rte_flow_classify_stats</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__flow__classify_8h_source.html#l00141">rte_flow_classify.h:141</a></div></div>
<div class="ttc" id="astructrte__mbuf_html_a8e0798404bf2cf5dabb84c5ba9a4f236"><div class="ttname"><a href="structrte__mbuf.html#a8e0798404bf2cf5dabb84c5ba9a4f236">rte_mbuf::port</a></div><div class="ttdeci">uint16_t port</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__core_8h_source.html#l00503">rte_mbuf_core.h:503</a></div></div>
<div class="ttc" id="arte__flow__classify_8h_html_a2b1df22f64091959380b3c7e64a470f7a8a97f195b937e5017ef2ee820c1d83ce"><div class="ttname"><a href="rte__flow__classify_8h.html#a2b1df22f64091959380b3c7e64a470f7a8a97f195b937e5017ef2ee820c1d83ce">RTE_FLOW_CLASSIFY_TABLE_ACL_IP4_5TUPLE</a></div><div class="ttdeci">@ RTE_FLOW_CLASSIFY_TABLE_ACL_IP4_5TUPLE</div><div class="ttdef"><b>Definition:</b> <a href="rte__flow__classify_8h_source.html#l00090">rte_flow_classify.h:90</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_afdc834c1c52e9fb512301990468ca7c2"><div class="ttname"><a href="rte__ethdev_8h.html#afdc834c1c52e9fb512301990468ca7c2">rte_eth_dev_start</a></div><div class="ttdeci">int rte_eth_dev_start(uint16_t port_id)</div></div>
<div class="ttc" id="astructrte__ether__hdr_html"><div class="ttname"><a href="structrte__ether__hdr.html">rte_ether_hdr</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ether_8h_source.html#l00264">rte_ether.h:264</a></div></div>
<div class="ttc" id="astructrte__flow__item__udp_html"><div class="ttname"><a href="structrte__flow__item__udp.html">rte_flow_item_udp</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l00874">rte_flow.h:874</a></div></div>
<div class="ttc" id="arte__flow_8h_html_a78f0386e683cfc491462a771df8b971aa38d23fb7826889728c50d46eb75fe6ad"><div class="ttname"><a href="rte__flow_8h.html#a78f0386e683cfc491462a771df8b971aa38d23fb7826889728c50d46eb75fe6ad">RTE_FLOW_ACTION_TYPE_COUNT</a></div><div class="ttdeci">@ RTE_FLOW_ACTION_TYPE_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l01771">rte_flow.h:1771</a></div></div>
<div class="ttc" id="astructrte__eth__ntuple__filter_html_a9a986d4f6a85f0b751ef5bb3c8e73b24"><div class="ttname"><a href="structrte__eth__ntuple__filter.html#a9a986d4f6a85f0b751ef5bb3c8e73b24">rte_eth_ntuple_filter::dst_ip_mask</a></div><div class="ttdeci">uint32_t dst_ip_mask</div><div class="ttdef"><b>Definition:</b> <a href="rte__eth__ctrl_8h_source.html#l00056">rte_eth_ctrl.h:56</a></div></div>
<div class="ttc" id="astructrte__flow__item__sctp_html"><div class="ttname"><a href="structrte__flow__item__sctp.html">rte_flow_item_sctp</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l00912">rte_flow.h:912</a></div></div>
<div class="ttc" id="astructrte__eth__txmode_html_a6cfe3b3ee46e9a8b8c62a64294b0b564"><div class="ttname"><a href="structrte__eth__txmode.html#a6cfe3b3ee46e9a8b8c62a64294b0b564">rte_eth_txmode::offloads</a></div><div class="ttdeci">uint64_t offloads</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l00959">rte_ethdev.h:959</a></div></div>
<div class="ttc" id="arte__flow__classify_8h_html_a146b1a62dfee3735c4e1a8b910b2d38e"><div class="ttname"><a href="rte__flow__classify_8h.html#a146b1a62dfee3735c4e1a8b910b2d38e">rte_flow_classifier_free</a></div><div class="ttdeci">__rte_experimental int rte_flow_classifier_free(struct rte_flow_classifier *cls)</div></div>
<div class="ttc" id="arte__common_8h_html_a30eec128f3d71add687a1cbfe48abcbb"><div class="ttname"><a href="rte__common_8h.html#a30eec128f3d71add687a1cbfe48abcbb">RTE_CACHE_LINE_ROUNDUP</a></div><div class="ttdeci">#define RTE_CACHE_LINE_ROUNDUP(size)</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00383">rte_common.h:383</a></div></div>
<div class="ttc" id="astructrte__eth__ntuple__filter_html"><div class="ttname"><a href="structrte__eth__ntuple__filter.html">rte_eth_ntuple_filter</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__eth__ctrl_8h_source.html#l00053">rte_eth_ctrl.h:53</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a9ab708089665bebcd65cefe5383b24f2"><div class="ttname"><a href="rte__ethdev_8h.html#a9ab708089665bebcd65cefe5383b24f2">rte_eth_dev_count_avail</a></div><div class="ttdeci">uint16_t rte_eth_dev_count_avail(void)</div></div>
<div class="ttc" id="astructrte__tcp__hdr_html"><div class="ttname"><a href="structrte__tcp__hdr.html">rte_tcp_hdr</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__tcp_8h_source.html#l00028">rte_tcp.h:28</a></div></div>
<div class="ttc" id="astructrte__eth__ntuple__filter_html_a8fc1e4820a101bd4f2e1f45533e09ca5"><div class="ttname"><a href="structrte__eth__ntuple__filter.html#a8fc1e4820a101bd4f2e1f45533e09ca5">rte_eth_ntuple_filter::dst_ip</a></div><div class="ttdeci">uint32_t dst_ip</div><div class="ttdef"><b>Definition:</b> <a href="rte__eth__ctrl_8h_source.html#l00055">rte_eth_ctrl.h:55</a></div></div>
<div class="ttc" id="arte__eal_8h_html_a5c3f4dddc25e38c5a186ecd8a69260e3"><div class="ttname"><a href="rte__eal_8h.html#a5c3f4dddc25e38c5a186ecd8a69260e3">rte_eal_init</a></div><div class="ttdeci">int rte_eal_init(int argc, char **argv)</div></div>
<div class="ttc" id="astructrte__mempool_html"><div class="ttname"><a href="structrte__mempool.html">rte_mempool</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__mempool_8h_source.html#l00207">rte_mempool.h:207</a></div></div>
<div class="ttc" id="arte__common_8h_html_a276e8a32e0bbf024aadd9420b8f2d3b3"><div class="ttname"><a href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a></div><div class="ttdeci">#define offsetof(TYPE, MEMBER)</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00753">rte_common.h:753</a></div></div>
<div class="ttc" id="astructrte__flow__attr_html"><div class="ttname"><a href="structrte__flow__attr.html">rte_flow_attr</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l00076">rte_flow.h:76</a></div></div>
<div class="ttc" id="astructrte__eth__ntuple__filter_html_a8c191b0996b359fb0012f86e0233abbc"><div class="ttname"><a href="structrte__eth__ntuple__filter.html#a8c191b0996b359fb0012f86e0233abbc">rte_eth_ntuple_filter::dst_port_mask</a></div><div class="ttdeci">uint16_t dst_port_mask</div><div class="ttdef"><b>Definition:</b> <a href="rte__eth__ctrl_8h_source.html#l00060">rte_eth_ctrl.h:60</a></div></div>
<div class="ttc" id="arte__mbuf_8h_html_a593921f13307803b94bbb4e0932db962"><div class="ttname"><a href="rte__mbuf_8h.html#a593921f13307803b94bbb4e0932db962">rte_pktmbuf_pool_create</a></div><div class="ttdeci">struct rte_mempool * rte_pktmbuf_pool_create(const char *name, unsigned n, unsigned cache_size, uint16_t priv_size, uint16_t data_room_size, int socket_id)</div></div>
<div class="ttc" id="astructrte__ipv4__hdr_html"><div class="ttname"><a href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ip_8h_source.html#l00033">rte_ip.h:33</a></div></div>
<div class="ttc" id="arte__mbuf_8h_html_a1215458932900b7cd5192326fa4a6902"><div class="ttname"><a href="rte__mbuf_8h.html#a1215458932900b7cd5192326fa4a6902">rte_pktmbuf_free</a></div><div class="ttdeci">static void rte_pktmbuf_free(struct rte_mbuf *m)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf_8h_source.html#l01397">rte_mbuf.h:1397</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a36ba70a5a6fce2c2c1f774828ba78f8d"><div class="ttname"><a href="rte__ethdev_8h.html#a36ba70a5a6fce2c2c1f774828ba78f8d">rte_eth_rx_queue_setup</a></div><div class="ttdeci">int rte_eth_rx_queue_setup(uint16_t port_id, uint16_t rx_queue_id, uint16_t nb_rx_desc, unsigned int socket_id, const struct rte_eth_rxconf *rx_conf, struct rte_mempool *mb_pool)</div></div>
<div class="ttc" id="arte__ethdev_8h_html"><div class="ttname"><a href="rte__ethdev_8h.html">rte_ethdev.h</a></div></div>
<div class="ttc" id="arte__mbuf_8h_html"><div class="ttname"><a href="rte__mbuf_8h.html">rte_mbuf.h</a></div></div>
<div class="ttc" id="astructrte__eth__ntuple__filter_html_adaae928b69788f774db092e75f1c4fb7"><div class="ttname"><a href="structrte__eth__ntuple__filter.html#adaae928b69788f774db092e75f1c4fb7">rte_eth_ntuple_filter::proto</a></div><div class="ttdeci">uint8_t proto</div><div class="ttdef"><b>Definition:</b> <a href="rte__eth__ctrl_8h_source.html#l00063">rte_eth_ctrl.h:63</a></div></div>
<div class="ttc" id="astructrte__eth__conf_html_a1c33c9d2e5cdb14b62ed386bf3159e07"><div class="ttname"><a href="structrte__eth__conf.html#a1c33c9d2e5cdb14b62ed386bf3159e07">rte_eth_conf::txmode</a></div><div class="ttdeci">struct rte_eth_txmode txmode</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01294">rte_ethdev.h:1302</a></div></div>
<div class="ttc" id="astructrte__flow__error_html"><div class="ttname"><a href="structrte__flow__error.html">rte_flow_error</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l02901">rte_flow.h:2901</a></div></div>
<div class="ttc" id="arte__common_8h_html_adba9930c1f0c89d4aab7d58c44ee835b"><div class="ttname"><a href="rte__common_8h.html#adba9930c1f0c89d4aab7d58c44ee835b">__rte_noreturn</a></div><div class="ttdeci">#define __rte_noreturn</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00221">rte_common.h:221</a></div></div>
<div class="ttc" id="arte__flow__classify_8h_html_a2f979c0353bcbaac1272ed9ae388c1e2"><div class="ttname"><a href="rte__flow__classify_8h.html#a2f979c0353bcbaac1272ed9ae388c1e2">rte_flow_classifier_query</a></div><div class="ttdeci">__rte_experimental int rte_flow_classifier_query(struct rte_flow_classifier *cls, struct rte_mbuf **pkts, const uint16_t nb_pkts, struct rte_flow_classify_rule *rule, struct rte_flow_classify_stats *stats)</div></div>
<div class="ttc" id="astructrte__eth__ntuple__filter_html_a891d8676f4217b7c83d29bca71789d42"><div class="ttname"><a href="structrte__eth__ntuple__filter.html#a891d8676f4217b7c83d29bca71789d42">rte_eth_ntuple_filter::proto_mask</a></div><div class="ttdeci">uint8_t proto_mask</div><div class="ttdef"><b>Definition:</b> <a href="rte__eth__ctrl_8h_source.html#l00064">rte_eth_ctrl.h:64</a></div></div>
<div class="ttc" id="astructrte__table__acl__params_html"><div class="ttname"><a href="structrte__table__acl__params.html">rte_table_acl_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__table__acl_8h_source.html#l00030">rte_table_acl.h:30</a></div></div>
<div class="ttc" id="arte__flow_8h_html_af10e2b0af33527be504e883406a84ca1abb502c9d1fc4678e1e36187090494aca"><div class="ttname"><a href="rte__flow_8h.html#af10e2b0af33527be504e883406a84ca1abb502c9d1fc4678e1e36187090494aca">RTE_FLOW_ITEM_TYPE_ETH</a></div><div class="ttdeci">@ RTE_FLOW_ITEM_TYPE_ETH</div><div class="ttdef"><b>Definition:</b> <a href="rte__flow_8h_source.html#l00210">rte_flow.h:210</a></div></div>
<div class="ttc" id="astructrte__eth__dev__info_html"><div class="ttname"><a href="structrte__eth__dev__info.html">rte_eth_dev_info</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01504">rte_ethdev.h:1504</a></div></div>
<div class="ttc" id="astructrte__ether__addr_html"><div class="ttname"><a href="structrte__ether__addr.html">rte_ether_addr</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ether_8h_source.html#l00064">rte_ether.h:64</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_ad7b46c67203d37fe3a34f11076d970d6"><div class="ttname"><a href="rte__ethdev_8h.html#ad7b46c67203d37fe3a34f11076d970d6">RTE_ETH_FOREACH_DEV</a></div><div class="ttdeci">#define RTE_ETH_FOREACH_DEV(p)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01858">rte_ethdev.h:1858</a></div></div>
<div class="ttc" id="astructrte__eth__conf_html"><div class="ttname"><a href="structrte__eth__conf.html">rte_eth_conf</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01293">rte_ethdev.h:1293</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_ad032e25f712e6ffeb0c19eab1ec1fd2e"><div class="ttname"><a href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a></div><div class="ttdeci">int rte_eth_dev_socket_id(uint16_t port_id)</div></div>
<div class="ttc" id="arte__malloc_8h_html_a1fc82f67711b13aca7e05dc9d58f9dbd"><div class="ttname"><a href="rte__malloc_8h.html#a1fc82f67711b13aca7e05dc9d58f9dbd">rte_free</a></div><div class="ttdeci">void void rte_free(void *ptr)</div></div>
<div class="ttc" id="astructrte__acl__field__def_html_aa63bd1fe49046f2c9ef0478a050b7c3a"><div class="ttname"><a href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">rte_acl_field_def::field_index</a></div><div class="ttdeci">uint8_t field_index</div><div class="ttdef"><b>Definition:</b> <a href="rte__acl_8h_source.html#l00054">rte_acl.h:54</a></div></div>
<div class="ttc" id="astructrte__eth__ntuple__filter_html_a0815784d41b3c13d42ce22367abfba1d"><div class="ttname"><a href="structrte__eth__ntuple__filter.html#a0815784d41b3c13d42ce22367abfba1d">rte_eth_ntuple_filter::priority</a></div><div class="ttdeci">uint16_t priority</div><div class="ttdef"><b>Definition:</b> <a href="rte__eth__ctrl_8h_source.html#l00069">rte_eth_ctrl.h:69</a></div></div>
<div class="ttc" id="astructrte__mempool_html_a229cb0bd24215f0cb940e0724dbd4d55"><div class="ttname"><a href="structrte__mempool.html#a229cb0bd24215f0cb940e0724dbd4d55">rte_mempool::socket_id</a></div><div class="ttdeci">int socket_id</div><div class="ttdef"><b>Definition:</b> <a href="rte__mempool_8h_source.html#l00222">rte_mempool.h:222</a></div></div>
<div class="ttc" id="arte__ether_8h_html_af1fb088707ce5b2ebb7825cb69b5cb58"><div class="ttname"><a href="rte__ether_8h.html#af1fb088707ce5b2ebb7825cb69b5cb58">RTE_ETHER_MAX_LEN</a></div><div class="ttdeci">#define RTE_ETHER_MAX_LEN</div><div class="ttdef"><b>Definition:</b> <a href="rte__ether_8h_source.html#l00037">rte_ether.h:37</a></div></div>
<div class="ttc" id="astructrte__eth__ntuple__filter_html_a14a008107647716cf9938ba9cf2cff07"><div class="ttname"><a href="structrte__eth__ntuple__filter.html#a14a008107647716cf9938ba9cf2cff07">rte_eth_ntuple_filter::src_ip_mask</a></div><div class="ttdeci">uint32_t src_ip_mask</div><div class="ttdef"><b>Definition:</b> <a href="rte__eth__ctrl_8h_source.html#l00058">rte_eth_ctrl.h:58</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
