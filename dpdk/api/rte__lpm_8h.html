<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: lib/librte_lpm/rte_lpm.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_85ecb587e53a4a73ea61471f0b12c7cd.html">librte_lpm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_lpm.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;sys/queue.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__branch__prediction_8h_source.html">rte_branch_prediction.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__byteorder_8h_source.html">rte_byteorder.h</a>&gt;</code><br />
<code>#include &lt;rte_config.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__memory_8h_source.html">rte_memory.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__common_8h_source.html">rte_common.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__vect_8h_source.html">rte_vect.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__rcu__qsbr_8h_source.html">rte_rcu_qsbr.h</a>&gt;</code><br />
<code>#include &quot;rte_lpm_sse.h&quot;</code><br />
</div>
<p><a href="rte__lpm_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__lpm__config.html">rte_lpm_config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__lpm__rcu__config.html">rte_lpm_rcu_config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a89212b12cc0712bf0464399e654c9f25"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a89212b12cc0712bf0464399e654c9f25">RTE_LPM_NAMESIZE</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a89212b12cc0712bf0464399e654c9f25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00207b4fecdb9058c4072a59abac1d52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a00207b4fecdb9058c4072a59abac1d52">RTE_LPM_MAX_DEPTH</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a00207b4fecdb9058c4072a59abac1d52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae31c18e8e385d52aa68cd2787d7e2a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a8ae31c18e8e385d52aa68cd2787d7e2a">RTE_LPM_LOOKUP_SUCCESS</a>&#160;&#160;&#160;0x01000000</td></tr>
<tr class="separator:a8ae31c18e8e385d52aa68cd2787d7e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50015c45c3fde72568c8ba303ded2288"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a50015c45c3fde72568c8ba303ded2288">rte_lpm_lookup_bulk</a>(lpm,  ips,  next_hops,  n)&#160;&#160;&#160;		rte_lpm_lookup_bulk_func(lpm, ips, next_hops, n)</td></tr>
<tr class="separator:a50015c45c3fde72568c8ba303ded2288"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a8ec8b339051740d2a28560c1daaca9cc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a8ec8b339051740d2a28560c1daaca9cc">rte_lpm_qsbr_mode</a> { <a class="el" href="rte__lpm_8h.html#a8ec8b339051740d2a28560c1daaca9cca39ff8c4d262a4f19d202841e45820f58">RTE_LPM_QSBR_MODE_DQ</a> = 0, 
<a class="el" href="rte__lpm_8h.html#a8ec8b339051740d2a28560c1daaca9cca5278711f83aa99dd1545581896a923c5">RTE_LPM_QSBR_MODE_SYNC</a>
 }</td></tr>
<tr class="separator:a8ec8b339051740d2a28560c1daaca9cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aec0add0a744e7b876e0ed74000dbb847"><td class="memItemLeft" align="right" valign="top">struct rte_lpm *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#aec0add0a744e7b876e0ed74000dbb847">rte_lpm_create</a> (const char *name, int socket_id, const struct <a class="el" href="structrte__lpm__config.html">rte_lpm_config</a> *config)</td></tr>
<tr class="separator:aec0add0a744e7b876e0ed74000dbb847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31022533b1dadc320b8e4dad049d5213"><td class="memItemLeft" align="right" valign="top">struct rte_lpm *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a31022533b1dadc320b8e4dad049d5213">rte_lpm_find_existing</a> (const char *name)</td></tr>
<tr class="separator:a31022533b1dadc320b8e4dad049d5213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ddd328a0546c49cdc7ab10ea8d2765"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a79ddd328a0546c49cdc7ab10ea8d2765">rte_lpm_free</a> (struct rte_lpm *lpm)</td></tr>
<tr class="separator:a79ddd328a0546c49cdc7ab10ea8d2765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2772d7e442f38290bb5783bac07e533f"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a2772d7e442f38290bb5783bac07e533f">rte_lpm_rcu_qsbr_add</a> (struct rte_lpm *lpm, struct <a class="el" href="structrte__lpm__rcu__config.html">rte_lpm_rcu_config</a> *cfg)</td></tr>
<tr class="separator:a2772d7e442f38290bb5783bac07e533f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03aa0c18f8a7c1b0c194c9d99c7ba448"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a03aa0c18f8a7c1b0c194c9d99c7ba448">rte_lpm_add</a> (struct rte_lpm *lpm, uint32_t ip, uint8_t depth, uint32_t next_hop)</td></tr>
<tr class="separator:a03aa0c18f8a7c1b0c194c9d99c7ba448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba4699e519b32c43d105c379c1fa24d0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#aba4699e519b32c43d105c379c1fa24d0">rte_lpm_is_rule_present</a> (struct rte_lpm *lpm, uint32_t ip, uint8_t depth, uint32_t *next_hop)</td></tr>
<tr class="separator:aba4699e519b32c43d105c379c1fa24d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16edbff0196beb69b413827c7ef5bfa4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a16edbff0196beb69b413827c7ef5bfa4">rte_lpm_delete</a> (struct rte_lpm *lpm, uint32_t ip, uint8_t depth)</td></tr>
<tr class="separator:a16edbff0196beb69b413827c7ef5bfa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab285af0847c33a5a6f1c7aedc6b00ba1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#ab285af0847c33a5a6f1c7aedc6b00ba1">rte_lpm_delete_all</a> (struct rte_lpm *lpm)</td></tr>
<tr class="separator:ab285af0847c33a5a6f1c7aedc6b00ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bab3e9f44549b0490a5e2f1e7e21ede"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a1bab3e9f44549b0490a5e2f1e7e21ede">rte_lpm_lookup</a> (struct rte_lpm *lpm, uint32_t ip, uint32_t *next_hop)</td></tr>
<tr class="separator:a1bab3e9f44549b0490a5e2f1e7e21ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a865f815f3d2cd706e0dbba3eb70aefcd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__lpm_8h.html#a865f815f3d2cd706e0dbba3eb70aefcd">rte_lpm_lookupx4</a> (const struct rte_lpm *lpm, xmm_t ip, uint32_t hop[4], uint32_t defv)</td></tr>
<tr class="separator:a865f815f3d2cd706e0dbba3eb70aefcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTE Longest Prefix Match (LPM) </p>

<p class="definition">Definition in file <a class="el" href="rte__lpm_8h_source.html">rte_lpm.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a89212b12cc0712bf0464399e654c9f25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89212b12cc0712bf0464399e654c9f25">&#9670;&nbsp;</a></span>RTE_LPM_NAMESIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_LPM_NAMESIZE&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Max number of characters in LPM name. </p>

<p class="definition">Definition at line <a class="el" href="rte__lpm_8h_source.html#l00031">31</a> of file <a class="el" href="rte__lpm_8h_source.html">rte_lpm.h</a>.</p>

</div>
</div>
<a id="a00207b4fecdb9058c4072a59abac1d52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00207b4fecdb9058c4072a59abac1d52">&#9670;&nbsp;</a></span>RTE_LPM_MAX_DEPTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_LPM_MAX_DEPTH&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum depth value possible for IPv4 LPM. </p>

<p class="definition">Definition at line <a class="el" href="rte__lpm_8h_source.html#l00034">34</a> of file <a class="el" href="rte__lpm_8h_source.html">rte_lpm.h</a>.</p>

</div>
</div>
<a id="a8ae31c18e8e385d52aa68cd2787d7e2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae31c18e8e385d52aa68cd2787d7e2a">&#9670;&nbsp;</a></span>RTE_LPM_LOOKUP_SUCCESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_LPM_LOOKUP_SUCCESS&#160;&#160;&#160;0x01000000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bitmask used to indicate successful lookup </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ipsec-secgw_2ipsec-secgw_8c-example.html#a68">examples/ipsec-secgw/ipsec-secgw.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rte__lpm_8h_source.html#l00065">65</a> of file <a class="el" href="rte__lpm_8h_source.html">rte_lpm.h</a>.</p>

</div>
</div>
<a id="a50015c45c3fde72568c8ba303ded2288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50015c45c3fde72568c8ba303ded2288">&#9670;&nbsp;</a></span>rte_lpm_lookup_bulk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rte_lpm_lookup_bulk</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpm, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ips, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">next_hops, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;		rte_lpm_lookup_bulk_func(lpm, ips, next_hops, n)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lookup multiple IP addresses in an LPM table. This may be implemented as a macro, so the address of the function should not be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
    <tr><td class="paramname">ips</td><td>Array of IPs to be looked up in the LPM table </td></tr>
    <tr><td class="paramname">next_hops</td><td>Next hop of the most specific rule found for IP (valid on lookup hit only). This is an array of two byte values. The most significant byte in each value says whether the lookup was successful (bitmask RTE_LPM_LOOKUP_SUCCESS is set). The least significant byte is the actual next hop. </td></tr>
    <tr><td class="paramname">n</td><td>Number of elements in ips (and next_hops) array to lookup. This should be a compile time constant, and divisible by 8 for best performance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-EINVAL for incorrect arguments, otherwise 0 </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ipsec-secgw_2ipsec-secgw_8c-example.html#a71">examples/ipsec-secgw/ipsec-secgw.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rte__lpm_8h_source.html#l00339">339</a> of file <a class="el" href="rte__lpm_8h_source.html">rte_lpm.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a8ec8b339051740d2a28560c1daaca9cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ec8b339051740d2a28560c1daaca9cc">&#9670;&nbsp;</a></span>rte_lpm_qsbr_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rte__lpm_8h.html#a8ec8b339051740d2a28560c1daaca9cc">rte_lpm_qsbr_mode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RCU reclamation modes </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8ec8b339051740d2a28560c1daaca9cca39ff8c4d262a4f19d202841e45820f58"></a>RTE_LPM_QSBR_MODE_DQ&#160;</td><td class="fielddoc"><p>Create defer queue for reclaim. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8ec8b339051740d2a28560c1daaca9cca5278711f83aa99dd1545581896a923c5"></a>RTE_LPM_QSBR_MODE_SYNC&#160;</td><td class="fielddoc"><p>Use blocking mode reclaim. No defer queue created. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="rte__lpm_8h_source.html#l00071">71</a> of file <a class="el" href="rte__lpm_8h_source.html">rte_lpm.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aec0add0a744e7b876e0ed74000dbb847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec0add0a744e7b876e0ed74000dbb847">&#9670;&nbsp;</a></span>rte_lpm_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rte_lpm* rte_lpm_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socket_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structrte__lpm__config.html">rte_lpm_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an LPM object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>LPM object name </td></tr>
    <tr><td class="paramname">socket_id</td><td>NUMA socket ID for LPM table memory allocation </td></tr>
    <tr><td class="paramname">config</td><td>Structure containing the configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Handle to LPM object on success, NULL otherwise with rte_errno set to an appropriate values. Possible rte_errno values include:<ul>
<li>E_RTE_NO_CONFIG - function could not get pointer to rte_config structure</li>
<li>E_RTE_SECONDARY - function was called from a secondary process instance</li>
<li>EINVAL - invalid parameter passed to function</li>
<li>ENOSPC - the maximum number of memzones has already been allocated</li>
<li>EEXIST - a memzone with the same name already exists</li>
<li>ENOMEM - no appropriate memory area found in which to create memzone </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_fragmentation_2main_8c-example.html#a78">examples/ip_fragmentation/main.c</a>, <a class="el" href="examples_2ip_reassembly_2main_8c-example.html#a76">examples/ip_reassembly/main.c</a>, <a class="el" href="examples_2ipsec-secgw_2rt_8c-example.html#a7">examples/ipsec-secgw/rt.c</a>, <a class="el" href="examples_2l3fwd-power_2main_8c-example.html#a110">examples/l3fwd-power/main.c</a>, <a class="el" href="examples_2l3fwd_2l3fwd_lpm_8c-example.html#a41">examples/l3fwd/l3fwd_lpm.c</a>, and <a class="el" href="examples_2performance-thread_2l3fwd-thread_2main_8c-example.html#a101">examples/performance-thread/l3fwd-thread/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a31022533b1dadc320b8e4dad049d5213"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31022533b1dadc320b8e4dad049d5213">&#9670;&nbsp;</a></span>rte_lpm_find_existing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rte_lpm* rte_lpm_find_existing </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find an existing LPM object and return a pointer to it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the lpm object as passed to <a class="el" href="rte__lpm_8h.html#aec0add0a744e7b876e0ed74000dbb847">rte_lpm_create()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to lpm object or NULL if object not found with rte_errno set appropriately. Possible rte_errno values include:<ul>
<li>ENOENT - required entry not available to return. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a79ddd328a0546c49cdc7ab10ea8d2765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79ddd328a0546c49cdc7ab10ea8d2765">&#9670;&nbsp;</a></span>rte_lpm_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_lpm_free </td>
          <td>(</td>
          <td class="paramtype">struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free an LPM object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a2772d7e442f38290bb5783bac07e533f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2772d7e442f38290bb5783bac07e533f">&#9670;&nbsp;</a></span>rte_lpm_rcu_qsbr_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_lpm_rcu_qsbr_add </td>
          <td>(</td>
          <td class="paramtype">struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__lpm__rcu__config.html">rte_lpm_rcu_config</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd><b>EXPERIMENTAL:</b> this API may change without prior notice</dd></dl>
<p>Associate RCU QSBR variable with an LPM object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>the lpm object to add RCU QSBR </td></tr>
    <tr><td class="paramname">cfg</td><td>RCU QSBR configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success - 0 On error - 1 with error code set in rte_errno. Possible rte_errno codes are:<ul>
<li>EINVAL - invalid pointer</li>
<li>EEXIST - already added QSBR</li>
<li>ENOMEM - memory allocation failure </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a03aa0c18f8a7c1b0c194c9d99c7ba448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03aa0c18f8a7c1b0c194c9d99c7ba448">&#9670;&nbsp;</a></span>rte_lpm_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_lpm_add </td>
          <td>(</td>
          <td class="paramtype">struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>next_hop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a rule to the LPM table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
    <tr><td class="paramname">ip</td><td>IP of the rule to be added to the LPM table </td></tr>
    <tr><td class="paramname">depth</td><td>Depth of the rule to be added to the LPM table </td></tr>
    <tr><td class="paramname">next_hop</td><td>Next hop of the rule to be added to the LPM table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative value otherwise </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_fragmentation_2main_8c-example.html#a71">examples/ip_fragmentation/main.c</a>, <a class="el" href="examples_2ip_reassembly_2main_8c-example.html#a65">examples/ip_reassembly/main.c</a>, <a class="el" href="examples_2ipsec-secgw_2rt_8c-example.html#a8">examples/ipsec-secgw/rt.c</a>, <a class="el" href="examples_2l3fwd-power_2main_8c-example.html#a111">examples/l3fwd-power/main.c</a>, <a class="el" href="examples_2l3fwd_2l3fwd_lpm_8c-example.html#a44">examples/l3fwd/l3fwd_lpm.c</a>, and <a class="el" href="examples_2performance-thread_2l3fwd-thread_2main_8c-example.html#a102">examples/performance-thread/l3fwd-thread/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="aba4699e519b32c43d105c379c1fa24d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba4699e519b32c43d105c379c1fa24d0">&#9670;&nbsp;</a></span>rte_lpm_is_rule_present()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_lpm_is_rule_present </td>
          <td>(</td>
          <td class="paramtype">struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>next_hop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if a rule is present in the LPM table, and provide its next hop if it is.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
    <tr><td class="paramname">ip</td><td>IP of the rule to be searched </td></tr>
    <tr><td class="paramname">depth</td><td>Depth of the rule to searched </td></tr>
    <tr><td class="paramname">next_hop</td><td>Next hop of the rule (valid only if it is found) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the rule exists, 0 if it does not, a negative value on failure </dd></dl>

</div>
</div>
<a id="a16edbff0196beb69b413827c7ef5bfa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16edbff0196beb69b413827c7ef5bfa4">&#9670;&nbsp;</a></span>rte_lpm_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_lpm_delete </td>
          <td>(</td>
          <td class="paramtype">struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a rule from the LPM table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
    <tr><td class="paramname">ip</td><td>IP of the rule to be deleted from the LPM table </td></tr>
    <tr><td class="paramname">depth</td><td>Depth of the rule to be deleted from the LPM table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, negative value otherwise </dd></dl>

</div>
</div>
<a id="ab285af0847c33a5a6f1c7aedc6b00ba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab285af0847c33a5a6f1c7aedc6b00ba1">&#9670;&nbsp;</a></span>rte_lpm_delete_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_lpm_delete_all </td>
          <td>(</td>
          <td class="paramtype">struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete all rules from the LPM table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1bab3e9f44549b0490a5e2f1e7e21ede"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bab3e9f44549b0490a5e2f1e7e21ede">&#9670;&nbsp;</a></span>rte_lpm_lookup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rte_lpm_lookup </td>
          <td>(</td>
          <td class="paramtype">struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>next_hop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Lookup an IP into the LPM table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
    <tr><td class="paramname">ip</td><td>IP to be looked up in the LPM table </td></tr>
    <tr><td class="paramname">next_hop</td><td>Next hop of the most specific rule found for IP (valid on lookup hit only) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-EINVAL for incorrect arguments, -ENOENT on lookup miss, 0 on lookup hit </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_fragmentation_2main_8c-example.html#a26">examples/ip_fragmentation/main.c</a>, <a class="el" href="examples_2ip_reassembly_2main_8c-example.html#a33">examples/ip_reassembly/main.c</a>, <a class="el" href="examples_2ipsec-secgw_2ipsec_worker_8c-example.html#a25">examples/ipsec-secgw/ipsec_worker.c</a>, <a class="el" href="examples_2l3fwd-power_2main_8c-example.html#a45">examples/l3fwd-power/main.c</a>, <a class="el" href="examples_2l3fwd_2l3fwd_lpm_8c-example.html#a4">examples/l3fwd/l3fwd_lpm.c</a>, and <a class="el" href="examples_2performance-thread_2l3fwd-thread_2main_8c-example.html#a46">examples/performance-thread/l3fwd-thread/main.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rte__lpm_8h_source.html#l00286">286</a> of file <a class="el" href="rte__lpm_8h_source.html">rte_lpm.h</a>.</p>

</div>
</div>
<a id="a865f815f3d2cd706e0dbba3eb70aefcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a865f815f3d2cd706e0dbba3eb70aefcd">&#9670;&nbsp;</a></span>rte_lpm_lookupx4()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rte_lpm_lookupx4 </td>
          <td>(</td>
          <td class="paramtype">const struct rte_lpm *&#160;</td>
          <td class="paramname"><em>lpm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">xmm_t&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>hop</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>defv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Lookup four IP addresses in an LPM table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lpm</td><td>LPM object handle </td></tr>
    <tr><td class="paramname">ip</td><td>Four IPs to be looked up in the LPM table </td></tr>
    <tr><td class="paramname">hop</td><td>Next hop of the most specific rule found for IP (valid on lookup hit only). This is an 4 elements array of two byte values. If the lookup was successful for the given IP, then least significant byte of the corresponding element is the actual next hop and the most significant byte is zero. If the lookup for the given IP failed, then corresponding element would contain default value, see description of then next parameter. </td></tr>
    <tr><td class="paramname">defv</td><td>Default value to populate into corresponding element of hop[] array, if lookup would fail. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2performance-thread_2l3fwd-thread_2main_8c-example.html#a64">examples/performance-thread/l3fwd-thread/main.c</a>.</dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
