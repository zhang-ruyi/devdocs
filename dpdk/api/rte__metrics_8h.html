<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: lib/librte_metrics/rte_metrics.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_099d2d80b969e7fd740b685b10b04f52.html">librte_metrics</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_metrics.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;rte_compat.h&gt;</code><br />
</div>
<p><a href="rte__metrics_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__metric__name.html">rte_metric_name</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__metric__value.html">rte_metric_value</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab40967017c9747d85e0740f9b165cde1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__metrics_8h.html#ab40967017c9747d85e0740f9b165cde1">RTE_METRICS_MAX_NAME_LEN</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:ab40967017c9747d85e0740f9b165cde1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a207a79d883d599b6b051c5c53cba930b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__metrics_8h.html#a207a79d883d599b6b051c5c53cba930b">RTE_METRICS_GLOBAL</a>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:a207a79d883d599b6b051c5c53cba930b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab5c4b471489805f6823ba65749e2aa06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__metrics_8h.html#ab5c4b471489805f6823ba65749e2aa06">rte_metrics_init</a> (int socket_id)</td></tr>
<tr class="separator:ab5c4b471489805f6823ba65749e2aa06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1278c09cb040e71805f9c78c1cb66ac"><td class="memItemLeft" align="right" valign="top">__rte_experimental int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__metrics_8h.html#af1278c09cb040e71805f9c78c1cb66ac">rte_metrics_deinit</a> (void)</td></tr>
<tr class="separator:af1278c09cb040e71805f9c78c1cb66ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c7c99c0ddb7406a08b0219f70b86c7e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__metrics_8h.html#a1c7c99c0ddb7406a08b0219f70b86c7e">rte_metrics_reg_name</a> (const char *name)</td></tr>
<tr class="separator:a1c7c99c0ddb7406a08b0219f70b86c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80c7b60bac9dbc8086b7b89c5038ff7d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__metrics_8h.html#a80c7b60bac9dbc8086b7b89c5038ff7d">rte_metrics_reg_names</a> (const char *const *names, uint16_t cnt_names)</td></tr>
<tr class="separator:a80c7b60bac9dbc8086b7b89c5038ff7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63bc53723e1da5ea9d3188c4cd360c81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__metrics_8h.html#a63bc53723e1da5ea9d3188c4cd360c81">rte_metrics_get_names</a> (struct <a class="el" href="structrte__metric__name.html">rte_metric_name</a> *names, uint16_t capacity)</td></tr>
<tr class="separator:a63bc53723e1da5ea9d3188c4cd360c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905a66e12b781c3648804140b1657cbf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__metrics_8h.html#a905a66e12b781c3648804140b1657cbf">rte_metrics_get_values</a> (int port_id, struct <a class="el" href="structrte__metric__value.html">rte_metric_value</a> *values, uint16_t capacity)</td></tr>
<tr class="separator:a905a66e12b781c3648804140b1657cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a037d876c9d1523d62b39c728ee5d3074"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__metrics_8h.html#a037d876c9d1523d62b39c728ee5d3074">rte_metrics_update_value</a> (int port_id, uint16_t key, const uint64_t value)</td></tr>
<tr class="separator:a037d876c9d1523d62b39c728ee5d3074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb0ce4269eef4241adb0dcd897f3432b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__metrics_8h.html#afb0ce4269eef4241adb0dcd897f3432b">rte_metrics_update_values</a> (int port_id, uint16_t key, const uint64_t *values, uint32_t count)</td></tr>
<tr class="separator:afb0ce4269eef4241adb0dcd897f3432b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>DPDK Metrics module</p>
<p>Metrics are statistics that are not generated by PMDs, and hence are better reported through a mechanism that is independent from the ethdev-based extended statistics. Providers will typically be other libraries and consumers will typically be applications.</p>
<p>Metric information is populated using a push model, where producers update the values contained within the metric library by calling an update function on the relevant metrics. Consumers receive metric information by querying the central metric data, which is held in shared memory. Currently only bulk querying of metrics by consumers is supported. </p>

<p class="definition">Definition in file <a class="el" href="rte__metrics_8h_source.html">rte_metrics.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab40967017c9747d85e0740f9b165cde1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab40967017c9747d85e0740f9b165cde1">&#9670;&nbsp;</a></span>RTE_METRICS_MAX_NAME_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_METRICS_MAX_NAME_LEN&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum length of metric name (including null-terminator) </p>

<p class="definition">Definition at line <a class="el" href="rte__metrics_8h_source.html#l00036">36</a> of file <a class="el" href="rte__metrics_8h_source.html">rte_metrics.h</a>.</p>

</div>
</div>
<a id="a207a79d883d599b6b051c5c53cba930b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a207a79d883d599b6b051c5c53cba930b">&#9670;&nbsp;</a></span>RTE_METRICS_GLOBAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_METRICS_GLOBAL&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Global metric special id.</p>
<p>When used for the port_id parameter when calling rte_metrics_update_metric() or rte_metrics_update_metric(), the global metric, which are not associated with any specific port (i.e. device), are updated. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l3fwd-power_2main_8c-example.html#a131">examples/l3fwd-power/main.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rte__metrics_8h_source.html#l00047">47</a> of file <a class="el" href="rte__metrics_8h_source.html">rte_metrics.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab5c4b471489805f6823ba65749e2aa06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5c4b471489805f6823ba65749e2aa06">&#9670;&nbsp;</a></span>rte_metrics_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_metrics_init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socket_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes metric module. This function must be called from a primary process before metrics are used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket_id</td><td>Socket to use for shared memory allocation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l3fwd-power_2main_8c-example.html#a172">examples/l3fwd-power/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="af1278c09cb040e71805f9c78c1cb66ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1278c09cb040e71805f9c78c1cb66ac">&#9670;&nbsp;</a></span>rte_metrics_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental int rte_metrics_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd><b>EXPERIMENTAL:</b> this API may change without prior notice</dd></dl>
<p>Deinitialize metric module. This function must be called from a primary process after all the metrics usage is over, to release the shared memory.</p>
<dl class="section return"><dt>Returns</dt><dd>-EINVAL - invalid parameter. -EIO: Error, unable to access metrics shared memory (<a class="el" href="rte__metrics_8h.html#ab5c4b471489805f6823ba65749e2aa06">rte_metrics_init()</a> not called) 0 - success </dd></dl>

</div>
</div>
<a id="a1c7c99c0ddb7406a08b0219f70b86c7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c7c99c0ddb7406a08b0219f70b86c7e">&#9670;&nbsp;</a></span>rte_metrics_reg_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_metrics_reg_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a metric, making it available as a reporting parameter.</p>
<p>Registering a metric is the way producers declare a parameter that they wish to be reported. Once registered, the associated numeric key can be obtained via <a class="el" href="rte__metrics_8h.html#a63bc53723e1da5ea9d3188c4cd360c81">rte_metrics_get_names()</a>, which is required for updating said metric's value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Metric name. If this exceeds RTE_METRICS_MAX_NAME_LEN (including the NULL terminator), it is truncated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Zero or positive: Success (index key of new metric)</li>
<li>-EIO: Error, unable to access metrics shared memory (<a class="el" href="rte__metrics_8h.html#ab5c4b471489805f6823ba65749e2aa06">rte_metrics_init()</a> not called)</li>
<li>-EINVAL: Error, invalid parameters</li>
<li>-ENOMEM: Error, maximum metrics reached </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a80c7b60bac9dbc8086b7b89c5038ff7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80c7b60bac9dbc8086b7b89c5038ff7d">&#9670;&nbsp;</a></span>rte_metrics_reg_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_metrics_reg_names </td>
          <td>(</td>
          <td class="paramtype">const char *const *&#160;</td>
          <td class="paramname"><em>names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>cnt_names</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a set of metrics.</p>
<p>This is a bulk version of <a class="el" href="rte__metrics_8h.html#a80c7b60bac9dbc8086b7b89c5038ff7d">rte_metrics_reg_names()</a> and aside from handling multiple keys at once is functionally identical.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">names</td><td>List of metric names</td></tr>
    <tr><td class="paramname">cnt_names</td><td>Number of metrics in set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Zero or positive: Success (index key of start of set)</li>
<li>-EIO: Error, unable to access metrics shared memory (<a class="el" href="rte__metrics_8h.html#ab5c4b471489805f6823ba65749e2aa06">rte_metrics_init()</a> not called)</li>
<li>-EINVAL: Error, invalid parameters</li>
<li>-ENOMEM: Error, maximum metrics reached </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l3fwd-power_2main_8c-example.html#a174">examples/l3fwd-power/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a63bc53723e1da5ea9d3188c4cd360c81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63bc53723e1da5ea9d3188c4cd360c81">&#9670;&nbsp;</a></span>rte_metrics_get_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_metrics_get_names </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__metric__name.html">rte_metric_name</a> *&#160;</td>
          <td class="paramname"><em>names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>capacity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get metric name-key lookup table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">names</td><td>A struct <a class="el" href="structrte__metric__name.html">rte_metric_name</a> array of at least <em>capacity</em> in size to receive key names. If this is NULL, function returns the required number of elements for this array.</td></tr>
    <tr><td class="paramname">capacity</td><td>Size (number of elements) of struct <a class="el" href="structrte__metric__name.html">rte_metric_name</a> array. Disregarded if names is NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Positive value above capacity: error, <em>names</em> is too small. Return value is required size.</li>
<li>Positive value equal or less than capacity: Success. Return value is number of elements filled in.</li>
<li>Negative value: error. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a905a66e12b781c3648804140b1657cbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a905a66e12b781c3648804140b1657cbf">&#9670;&nbsp;</a></span>rte_metrics_get_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_metrics_get_values </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__metric__value.html">rte_metric_value</a> *&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>capacity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get metric value table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port_id</td><td>Port id to query</td></tr>
    <tr><td class="paramname">values</td><td>A struct <a class="el" href="structrte__metric__value.html">rte_metric_value</a> array of at least <em>capacity</em> in size to receive metric ids and values. If this is NULL, function returns the required number of elements for this array.</td></tr>
    <tr><td class="paramname">capacity</td><td>Size (number of elements) of struct <a class="el" href="structrte__metric__value.html">rte_metric_value</a> array. Disregarded if names is NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>Positive value above capacity: error, <em>values</em> is too small. Return value is required size.</li>
<li>Positive value equal or less than capacity: Success. Return value is number of elements filled in.</li>
<li>Negative value: error. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a037d876c9d1523d62b39c728ee5d3074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a037d876c9d1523d62b39c728ee5d3074">&#9670;&nbsp;</a></span>rte_metrics_update_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_metrics_update_value </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates a metric</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port_id</td><td>Port to update metrics for </td></tr>
    <tr><td class="paramname">key</td><td>Id of metric to update </td></tr>
    <tr><td class="paramname">value</td><td>New value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>-EIO if unable to access shared metrics memory</li>
<li>Zero on success </li>
</ul>
</dd></dl>

</div>
</div>
<a id="afb0ce4269eef4241adb0dcd897f3432b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb0ce4269eef4241adb0dcd897f3432b">&#9670;&nbsp;</a></span>rte_metrics_update_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_metrics_update_values </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t *&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates a metric set. Note that it is an error to try to update across a set boundary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port_id</td><td>Port to update metrics for </td></tr>
    <tr><td class="paramname">key</td><td>Base id of metrics set to update </td></tr>
    <tr><td class="paramname">values</td><td>Set of new values </td></tr>
    <tr><td class="paramname">count</td><td>Number of new values</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>-ERANGE if count exceeds metric set size</li>
<li>-EIO if unable to access shared metrics memory</li>
<li>Zero on success </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2l3fwd-power_2main_8c-example.html#a130">examples/l3fwd-power/main.c</a>.</dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
