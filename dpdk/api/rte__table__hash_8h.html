<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: lib/librte_table/rte_table_hash.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1cb3d74b2ac9573f839cf243cfa1bc11.html">librte_table</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">rte_table_hash.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="rte__table_8h_source.html">rte_table.h</a>&quot;</code><br />
</div>
<p><a href="rte__table__hash_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__table__hash__params.html">rte_table_hash_params</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a49a5c7cb0c559f983bf21ec3c13967da"><td class="memItemLeft" align="right" valign="top">typedef uint64_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__table__hash_8h.html#a49a5c7cb0c559f983bf21ec3c13967da">rte_table_hash_op_hash</a>) (void *key, void *key_mask, uint32_t key_size, uint64_t seed)</td></tr>
<tr class="separator:a49a5c7cb0c559f983bf21ec3c13967da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad7d24416b687345b68e9820d65e7e5d2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structrte__table__ops.html">rte_table_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__table__hash_8h.html#ad7d24416b687345b68e9820d65e7e5d2">rte_table_hash_ext_ops</a></td></tr>
<tr class="separator:ad7d24416b687345b68e9820d65e7e5d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34bd949f43231bf0ce977b90fc02a0c1"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structrte__table__ops.html">rte_table_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__table__hash_8h.html#a34bd949f43231bf0ce977b90fc02a0c1">rte_table_hash_lru_ops</a></td></tr>
<tr class="separator:a34bd949f43231bf0ce977b90fc02a0c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTE Table Hash</p>
<p>These tables use the exact match criterion to uniquely associate data to lookup keys.</p>
<p>Hash table types:</p><ol type="1">
<li>Entry add strategy on bucket full: a. Least Recently Used (LRU): One of the existing keys in the bucket is deleted and the new key is added in its place. The number of keys in each bucket never grows bigger than 4. The logic to pick the key to be dropped from the bucket is LRU. The hash table lookup operation maintains the order in which the keys in the same bucket are hit, so every time a key is hit, it becomes the new Most Recently Used (MRU) key, i.e. the most unlikely candidate for drop. When a key is added to the bucket, it also becomes the new MRU key. When a key needs to be picked and dropped, the most likely candidate for drop, i.e. the current LRU key, is always picked. The LRU logic requires maintaining specific data structures per each bucket. Use-cases: flow cache, etc. b. Extendable bucket (ext): The bucket is extended with space for 4 more keys. This is done by allocating additional memory at table init time, which is used to create a pool of free keys (the size of this pool is configurable and always a multiple of 4). On key add operation, the allocation of a group of 4 keys only happens successfully within the limit of free keys, otherwise the key add operation fails. On key delete operation, a group of 4 keys is freed back to the pool of free keys when the key to be deleted is the only key that was used within its group of 4 keys at that time. On key lookup operation, if the current bucket is in extended state and a match is not found in the first group of 4 keys, the search continues beyond the first group of 4 keys, potentially until all keys in this bucket are examined. The extendable bucket logic requires maintaining specific data structures per table and per each bucket. Use-cases: flow table, etc.</li>
<li>Key size: a. Configurable key size b. Single key size (8-byte, 16-byte or 32-byte key size) </li>
</ol>

<p class="definition">Definition in file <a class="el" href="rte__table__hash_8h_source.html">rte_table_hash.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a49a5c7cb0c559f983bf21ec3c13967da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49a5c7cb0c559f983bf21ec3c13967da">&#9670;&nbsp;</a></span>rte_table_hash_op_hash</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint64_t(* rte_table_hash_op_hash) (void *key, void *key_mask, uint32_t key_size, uint64_t seed)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hash function </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_pipeline_2pipeline_8c-example.html#a91">examples/ip_pipeline/pipeline.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rte__table__hash_8h_source.html#l00056">56</a> of file <a class="el" href="rte__table__hash_8h_source.html">rte_table_hash.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad7d24416b687345b68e9820d65e7e5d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7d24416b687345b68e9820d65e7e5d2">&#9670;&nbsp;</a></span>rte_table_hash_ext_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structrte__table__ops.html">rte_table_ops</a> rte_table_hash_ext_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Extendable bucket hash table operations </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_pipeline_2pipeline_8c-example.html#a92">examples/ip_pipeline/pipeline.c</a>.</dd>
</dl>

</div>
</div>
<a id="a34bd949f43231bf0ce977b90fc02a0c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34bd949f43231bf0ce977b90fc02a0c1">&#9670;&nbsp;</a></span>rte_table_hash_lru_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structrte__table__ops.html">rte_table_ops</a> rte_table_hash_lru_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>LRU hash table operations </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_pipeline_2pipeline_8c-example.html#a93">examples/ip_pipeline/pipeline.c</a>.</dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
