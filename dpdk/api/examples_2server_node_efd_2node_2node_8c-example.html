<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: examples/server_node_efd/node/node.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">examples/server_node_efd/node/node.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/* SPDX-License-Identifier: BSD-3-Clause</span></div>
<div class="line"><span class="comment"> * Copyright(c) 2016-2017 Intel Corporation</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdarg.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/queue.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;getopt.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__common_8h.html">rte_common.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__malloc_8h.html">rte_malloc.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__memory_8h.html">rte_memory.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__memzone_8h.html">rte_memzone.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__eal_8h.html">rte_eal.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__atomic_8h.html">rte_atomic.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__branch__prediction_8h.html">rte_branch_prediction.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__log_8h.html">rte_log.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__per__lcore_8h.html">rte_per_lcore.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__launch_8h.html">rte_launch.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__lcore_8h.html">rte_lcore.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__ring_8h.html">rte_ring.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__debug_8h.html">rte_debug.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__mempool_8h.html">rte_mempool.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__mbuf_8h.html">rte_mbuf.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__interrupts_8h.html">rte_interrupts.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__ether_8h.html">rte_ether.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__ethdev_8h.html">rte_ethdev.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__string__fns_8h.html">rte_string_fns.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__ip_8h.html">rte_ip.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;common.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Number of packets to attempt to read from queue */</span></div>
<div class="line"><span class="preprocessor">#define PKT_READ_SIZE  ((uint16_t)32)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Our node id number - tells us which rx queue to read, and NIC TX</span></div>
<div class="line"><span class="comment"> * queue to write to.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> uint8_t node_id;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define MBQ_CAPACITY 32</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* maps input ports to output ports for packets */</span></div>
<div class="line"><span class="keyword">static</span> uint16_t output_ports[RTE_MAX_ETHPORTS];</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* buffers up a set of packet that are ready to send */</span></div>
<div class="line"><span class="keyword">struct </span><a name="_a0"></a><a class="code" href="structrte__eth__dev__tx__buffer.html">rte_eth_dev_tx_buffer</a> *tx_buffer[RTE_MAX_ETHPORTS];</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* shared data from server. We update statistics here */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>tx_stats *tx_stats;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>filter_stats *filter_stats;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * print a usage message</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">usage(<span class="keyword">const</span> <span class="keywordtype">char</span> *progname)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;Usage: %s [EAL args] -- -n &lt;node_id&gt;\n\n&quot;</span>, progname);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Convert the node id number from a string to an int.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">parse_node_num(<span class="keyword">const</span> <span class="keywordtype">char</span> *node)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> *end = NULL;</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> temp;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (node == NULL || *node == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    temp = strtoul(node, &amp;end, 10);</div>
<div class="line">    <span class="keywordflow">if</span> (end == NULL || *end != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    node_id = (uint8_t)temp;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Parse the application arguments to the node app.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">parse_app_args(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> option_index, opt;</div>
<div class="line">    <span class="keywordtype">char</span> **argvopt = argv;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *progname = NULL;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">struct </span>option lgopts[] = { <span class="comment">/* no long options */</span></div>
<div class="line">        {NULL, 0, 0, 0 }</div>
<div class="line">    };</div>
<div class="line">    progname = argv[0];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> ((opt = getopt_long(argc, argvopt, <span class="stringliteral">&quot;n:&quot;</span>, lgopts,</div>
<div class="line">        &amp;option_index)) != EOF) {</div>
<div class="line">        <span class="keywordflow">switch</span> (opt) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:</div>
<div class="line">            <span class="keywordflow">if</span> (parse_node_num(optarg) != 0) {</div>
<div class="line">                usage(progname);</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            usage(progname);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Tx buffer error callback</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">flush_tx_error_callback(<span class="keyword">struct</span> <a name="_a1"></a><a class="code" href="structrte__mbuf.html">rte_mbuf</a> **unsent, uint16_t count,</div>
<div class="line">        <span class="keywordtype">void</span> *userdata) {</div>
<div class="line">    <span class="keywordtype">int</span> i;</div>
<div class="line">    uint16_t port_id = (uintptr_t)userdata;</div>
<div class="line"> </div>
<div class="line">    tx_stats-&gt;tx_drop[port_id] += count;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* free the mbufs which failed from transmit */</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; count; i++)</div>
<div class="line">        <a name="a2"></a><a class="code" href="rte__mbuf_8h.html#a1215458932900b7cd5192326fa4a6902">rte_pktmbuf_free</a>(unsent[i]);</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">configure_tx_buffer(uint16_t port_id, uint16_t size)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> ret;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize TX buffers */</span></div>
<div class="line">    tx_buffer[port_id] = <a name="a3"></a><a class="code" href="rte__malloc_8h.html#a7e9f76b7e0b0921a617c6ab8b28f53b3">rte_zmalloc_socket</a>(<span class="stringliteral">&quot;tx_buffer&quot;</span>,</div>
<div class="line">            <a name="a4"></a><a class="code" href="rte__ethdev_8h.html#aff24ae3f48be43275b50966c3573a7a9">RTE_ETH_TX_BUFFER_SIZE</a>(size), 0,</div>
<div class="line">            <a name="a5"></a><a class="code" href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a>(port_id));</div>
<div class="line">    <span class="keywordflow">if</span> (tx_buffer[port_id] == NULL)</div>
<div class="line">        <a name="a6"></a><a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">            <span class="stringliteral">&quot;Cannot allocate buffer for tx on port %u\n&quot;</span>, port_id);</div>
<div class="line"> </div>
<div class="line">    <a name="a7"></a><a class="code" href="rte__ethdev_8h.html#ac5323444ecbe84309a5fcc03aa3c99cb">rte_eth_tx_buffer_init</a>(tx_buffer[port_id], size);</div>
<div class="line"> </div>
<div class="line">    ret = <a name="a8"></a><a class="code" href="rte__ethdev_8h.html#aacd4952d9f45acd463e203c21db9a7bb">rte_eth_tx_buffer_set_err_callback</a>(tx_buffer[port_id],</div>
<div class="line">            flush_tx_error_callback, (<span class="keywordtype">void</span> *)(intptr_t)port_id);</div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">            <span class="stringliteral">&quot;Cannot set error callback for tx buffer on port %u\n&quot;</span>,</div>
<div class="line">            port_id);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * set up output ports so that all traffic on port gets sent out</span></div>
<div class="line"><span class="comment"> * its paired port. Index using actual port numbers since that is</span></div>
<div class="line"><span class="comment"> * what comes in the mbuf structure.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">configure_output_ports(<span class="keyword">const</span> <span class="keyword">struct</span> shared_info *info)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> i;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (info-&gt;num_ports &gt; RTE_MAX_ETHPORTS)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Too many ethernet ports. &quot;</span></div>
<div class="line">                <span class="stringliteral">&quot;RTE_MAX_ETHPORTS = %u\n&quot;</span>,</div>
<div class="line">                (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)RTE_MAX_ETHPORTS);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; info-&gt;num_ports - 1; i += 2) {</div>
<div class="line">        uint8_t p1 = info-&gt;id[i];</div>
<div class="line">        uint8_t p2 = info-&gt;id[i+1];</div>
<div class="line"> </div>
<div class="line">        output_ports[p1] = p2;</div>
<div class="line">        output_ports[p2] = p1;</div>
<div class="line"> </div>
<div class="line">        configure_tx_buffer(p1, MBQ_CAPACITY);</div>
<div class="line">        configure_tx_buffer(p2, MBQ_CAPACITY);</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Create the hash table that will contain the flows that</span></div>
<div class="line"><span class="comment"> * the node will handle, which will be used to decide if packet</span></div>
<div class="line"><span class="comment"> * is transmitted or dropped.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span><a name="_a9"></a><a class="code" href="structrte__hash.html">rte_hash</a> *</div>
<div class="line">create_hash_table(<span class="keyword">const</span> <span class="keyword">struct</span> shared_info *info)</div>
<div class="line">{</div>
<div class="line">    uint32_t num_flows_node = info-&gt;num_flows / info-&gt;num_nodes;</div>
<div class="line">    <span class="keywordtype">char</span> <a name="a10"></a><a class="code" href="structrte__hash.html#a43ab7746b9b72f04b2e6dadf8365f41b">name</a>[<a name="a11"></a><a class="code" href="rte__hash_8h.html#a6f2eca61b3180fccd47b5170fa115d48">RTE_HASH_NAMESIZE</a>];</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__hash.html">rte_hash</a> *h;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* create table */</span></div>
<div class="line">    <span class="keyword">struct </span><a name="_a12"></a><a class="code" href="structrte__hash__parameters.html">rte_hash_parameters</a> hash_params = {</div>
<div class="line">        .<a name="a13"></a><a class="code" href="structrte__hash__parameters.html#a38bad35c844ffd72b0c1132715d5f3a1">entries</a> = num_flows_node * 2, <span class="comment">/* table load = 50% */</span></div>
<div class="line">        .key_len = <span class="keyword">sizeof</span>(uint32_t), <span class="comment">/* Store IPv4 dest IP address */</span></div>
<div class="line">        .<a name="a14"></a><a class="code" href="structrte__hash__parameters.html#a229cb0bd24215f0cb940e0724dbd4d55">socket_id</a> = <a name="a15"></a><a class="code" href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a>(),</div>
<div class="line">        .hash_func_init_val = 0,</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    snprintf(<a name="a16"></a><a class="code" href="structrte__hash__parameters.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="keyword">sizeof</span>(<a class="code" href="structrte__hash__parameters.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>), <span class="stringliteral">&quot;hash_table_%d&quot;</span>, node_id);</div>
<div class="line">    hash_params.<a class="code" href="structrte__hash__parameters.html#a8f8f80d37794cde9472343e4487ba3eb">name</a> = <a class="code" href="structrte__hash__parameters.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div>
<div class="line">    h = <a name="a17"></a><a class="code" href="rte__hash_8h.html#a5afbd2564f738149a241bc22b2428612">rte_hash_create</a>(&amp;hash_params);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (h == NULL)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE,</div>
<div class="line">                <span class="stringliteral">&quot;Problem creating the hash table for node %d\n&quot;</span>,</div>
<div class="line">                node_id);</div>
<div class="line">    <span class="keywordflow">return</span> h;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">populate_hash_table(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structrte__hash.html">rte_hash</a> *h, <span class="keyword">const</span> <span class="keyword">struct</span> shared_info *info)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line">    int32_t ret;</div>
<div class="line">    uint32_t ip_dst;</div>
<div class="line">    uint32_t num_flows_node = 0;</div>
<div class="line">    uint64_t target_node;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Add flows in table */</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; info-&gt;num_flows; i++) {</div>
<div class="line">        target_node = i % info-&gt;num_nodes;</div>
<div class="line">        <span class="keywordflow">if</span> (target_node != node_id)</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        ip_dst = <a name="a18"></a><a class="code" href="rte__byteorder_8h.html#a6b1dd5d5a4c60c1d72ba48c523eba45c">rte_cpu_to_be_32</a>(i);</div>
<div class="line"> </div>
<div class="line">        ret = <a name="a19"></a><a class="code" href="rte__hash_8h.html#a0247f58baa6cbf614e5b729ff0baf27e">rte_hash_add_key</a>(h, (<span class="keywordtype">void</span> *) &amp;ip_dst);</div>
<div class="line">        <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">            <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Unable to add entry %u &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;in hash table\n&quot;</span>, i);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            num_flows_node++;</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;Hash table: Adding 0x%x keys\n&quot;</span>, num_flows_node);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * This function performs routing of packets</span></div>
<div class="line"><span class="comment"> * Just sends each input packet out an output port based solely on the input</span></div>
<div class="line"><span class="comment"> * port it arrived on.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">transmit_packet(<span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> *buf)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> sent;</div>
<div class="line">    <span class="keyword">const</span> uint16_t in_port = buf-&gt;<a name="a20"></a><a class="code" href="structrte__mbuf.html#a8e0798404bf2cf5dabb84c5ba9a4f236">port</a>;</div>
<div class="line">    <span class="keyword">const</span> uint16_t out_port = output_ports[in_port];</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__eth__dev__tx__buffer.html">rte_eth_dev_tx_buffer</a> *buffer = tx_buffer[out_port];</div>
<div class="line"> </div>
<div class="line">    sent = <a name="a21"></a><a class="code" href="rte__ethdev_8h.html#a0e941a74ae1b1b886764bc282458d946">rte_eth_tx_buffer</a>(out_port, node_id, buffer, buf);</div>
<div class="line">    <span class="keywordflow">if</span> (sent)</div>
<div class="line">        tx_stats-&gt;tx[out_port] += sent;</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">handle_packets(<span class="keyword">struct</span> <a class="code" href="structrte__hash.html">rte_hash</a> *h, <span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> **bufs, uint16_t num_packets)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a name="_a22"></a><a class="code" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a> *ipv4_hdr;</div>
<div class="line">    uint32_t ipv4_dst_ip[PKT_READ_SIZE];</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">void</span> *key_ptrs[PKT_READ_SIZE];</div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line">    int32_t positions[PKT_READ_SIZE] = {0};</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; num_packets; i++) {</div>
<div class="line">        <span class="comment">/* Handle IPv4 header.*/</span></div>
<div class="line">        ipv4_hdr = <a name="a23"></a><a class="code" href="rte__mbuf__core_8h.html#ad63e1de0ec54d7c7603ea984c76ca956">rte_pktmbuf_mtod_offset</a>(bufs[i],</div>
<div class="line">            <span class="keyword">struct</span> <a class="code" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a> *, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a name="_a24"></a><a class="code" href="structrte__ether__hdr.html">rte_ether_hdr</a>));</div>
<div class="line">        ipv4_dst_ip[i] = ipv4_hdr-&gt;<a name="a25"></a><a class="code" href="structrte__ipv4__hdr.html#a57cd4df77fa494510d4203ccaace0bd7">dst_addr</a>;</div>
<div class="line">        key_ptrs[i] = &amp;ipv4_dst_ip[i];</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">/* Check if packets belongs to any flows handled by this node */</span></div>
<div class="line">    <a name="a26"></a><a class="code" href="rte__hash_8h.html#a420dedbd249c73bbb94a98e10a87b088">rte_hash_lookup_bulk</a>(h, key_ptrs, num_packets, positions);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; num_packets; i++) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a27"></a><a class="code" href="rte__branch__prediction_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a>(positions[i] &gt;= 0)) {</div>
<div class="line">            filter_stats-&gt;passed++;</div>
<div class="line">            transmit_packet(bufs[i]);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            filter_stats-&gt;drop++;</div>
<div class="line">            <span class="comment">/* Drop packet, as flow is not handled by this node */</span></div>
<div class="line">            <a class="code" href="rte__mbuf_8h.html#a1215458932900b7cd5192326fa4a6902">rte_pktmbuf_free</a>(bufs[i]);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Application main function - loops through</span></div>
<div class="line"><span class="comment"> * receiving and processing packets. Never returns</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct </span><a name="_a28"></a><a class="code" href="structrte__memzone.html">rte_memzone</a> *mz;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a29"></a><a class="code" href="structrte__ring.html">rte_ring</a> *rx_ring;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__hash.html">rte_hash</a> *h;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a30"></a><a class="code" href="structrte__mempool.html">rte_mempool</a> *mp;</div>
<div class="line">    <span class="keyword">struct </span>shared_info *info;</div>
<div class="line">    <span class="keywordtype">int</span> need_flush = 0; <span class="comment">/* indicates whether we have unsent packets */</span></div>
<div class="line">    <span class="keywordtype">int</span> retval;</div>
<div class="line">    <span class="keywordtype">void</span> *pkts[PKT_READ_SIZE];</div>
<div class="line">    uint16_t sent;</div>
<div class="line"> </div>
<div class="line">    retval = <a name="a31"></a><a class="code" href="rte__eal_8h.html#a5c3f4dddc25e38c5a186ecd8a69260e3">rte_eal_init</a>(argc, argv);</div>
<div class="line">    <span class="keywordflow">if</span> (retval  &lt; 0)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    argc -= retval;</div>
<div class="line">    argv += retval;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (parse_app_args(argc, argv) &lt; 0)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Invalid command-line arguments\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a32"></a><a class="code" href="rte__ethdev_8h.html#a9ab708089665bebcd65cefe5383b24f2">rte_eth_dev_count_avail</a>() == 0)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;No Ethernet ports - bye\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    rx_ring = <a name="a33"></a><a class="code" href="rte__ring_8h.html#ad26dd65732f16f720eca5e1aa94e2a8a">rte_ring_lookup</a>(get_rx_queue_name(node_id));</div>
<div class="line">    <span class="keywordflow">if</span> (rx_ring == NULL)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot get RX ring - &quot;</span></div>
<div class="line">                <span class="stringliteral">&quot;is server process running?\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    mp = <a name="a34"></a><a class="code" href="rte__mempool_8h.html#a3a5887135fc6329a35780b0053e769ad">rte_mempool_lookup</a>(PKTMBUF_POOL_NAME);</div>
<div class="line">    <span class="keywordflow">if</span> (mp == NULL)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot get mempool for mbufs\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    mz = <a name="a35"></a><a class="code" href="rte__memzone_8h.html#aa772ef84e73ac173503c16f243766993">rte_memzone_lookup</a>(MZ_SHARED_INFO);</div>
<div class="line">    <span class="keywordflow">if</span> (mz == NULL)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot get port info structure\n&quot;</span>);</div>
<div class="line">    info = mz-&gt;<a name="a36"></a><a class="code" href="structrte__memzone.html#ae5bd6c22dbf0f6b5b0ae0233f8eb3704">addr</a>;</div>
<div class="line">    tx_stats = &amp;(info-&gt;tx_stats[node_id]);</div>
<div class="line">    filter_stats = &amp;(info-&gt;filter_stats[node_id]);</div>
<div class="line"> </div>
<div class="line">    configure_output_ports(info);</div>
<div class="line"> </div>
<div class="line">    h = create_hash_table(info);</div>
<div class="line"> </div>
<div class="line">    populate_hash_table(h, info);</div>
<div class="line"> </div>
<div class="line">    <a name="a37"></a><a class="code" href="rte__log_8h.html#ac23caeb9833fd0fd0665c6c05ec806fe">RTE_LOG</a>(INFO, APP, <span class="stringliteral">&quot;Finished Process Init.\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\nNode process %d handling packets\n&quot;</span>, node_id);</div>
<div class="line">    printf(<span class="stringliteral">&quot;[Press Ctrl-C to quit ...]\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (;;) {</div>
<div class="line">        uint16_t  rx_pkts = PKT_READ_SIZE;</div>
<div class="line">        uint16_t port;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * Try dequeuing max possible packets first, if that fails,</span></div>
<div class="line"><span class="comment">         * get the most we can. Loop body should only execute once,</span></div>
<div class="line"><span class="comment">         * maximum</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        <span class="keywordflow">while</span> (rx_pkts &gt; 0 &amp;&amp;</div>
<div class="line">                <a name="a38"></a><a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a name="a39"></a><a class="code" href="rte__ring_8h.html#a558ff95b944832acf8de439c769638f3">rte_ring_dequeue_bulk</a>(rx_ring, pkts,</div>
<div class="line">                    rx_pkts, NULL) == 0))</div>
<div class="line">            rx_pkts = (uint16_t)<a name="a40"></a><a class="code" href="rte__common_8h.html#a4c7571cbcdbfe9b63431036af811bee9">RTE_MIN</a>(<a name="a41"></a><a class="code" href="rte__ring_8h.html#a35f9762abc6db3e0143ef33ce39c1a68">rte_ring_count</a>(rx_ring),</div>
<div class="line">                    PKT_READ_SIZE);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(rx_pkts == 0)) {</div>
<div class="line">            <span class="keywordflow">if</span> (need_flush)</div>
<div class="line">                <span class="keywordflow">for</span> (port = 0; port &lt; info-&gt;num_ports; port++) {</div>
<div class="line">                    sent = <a name="a42"></a><a class="code" href="rte__ethdev_8h.html#ace8779bcecccb86c94ce3638f35c9254">rte_eth_tx_buffer_flush</a>(</div>
<div class="line">                            info-&gt;id[port],</div>
<div class="line">                            node_id,</div>
<div class="line">                            tx_buffer[port]);</div>
<div class="line">                    <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(sent))</div>
<div class="line">                        tx_stats-&gt;tx[port] += sent;</div>
<div class="line">                }</div>
<div class="line">            need_flush = 0;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        handle_packets(h, (<span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> **)pkts, rx_pkts);</div>
<div class="line"> </div>
<div class="line">        need_flush = 1;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<div class="ttc" id="arte__ethdev_8h_html_ac5323444ecbe84309a5fcc03aa3c99cb"><div class="ttname"><a href="rte__ethdev_8h.html#ac5323444ecbe84309a5fcc03aa3c99cb">rte_eth_tx_buffer_init</a></div><div class="ttdeci">int rte_eth_tx_buffer_init(struct rte_eth_dev_tx_buffer *buffer, uint16_t size)</div></div>
<div class="ttc" id="arte__hash_8h_html_a0247f58baa6cbf614e5b729ff0baf27e"><div class="ttname"><a href="rte__hash_8h.html#a0247f58baa6cbf614e5b729ff0baf27e">rte_hash_add_key</a></div><div class="ttdeci">int32_t rte_hash_add_key(const struct rte_hash *h, const void *key)</div></div>
<div class="ttc" id="astructrte__ipv4__hdr_html_a57cd4df77fa494510d4203ccaace0bd7"><div class="ttname"><a href="structrte__ipv4__hdr.html#a57cd4df77fa494510d4203ccaace0bd7">rte_ipv4_hdr::dst_addr</a></div><div class="ttdeci">rte_be32_t dst_addr</div><div class="ttdef"><b>Definition:</b> <a href="rte__ip_8h_source.html#l00043">rte_ip.h:43</a></div></div>
<div class="ttc" id="arte__malloc_8h_html"><div class="ttname"><a href="rte__malloc_8h.html">rte_malloc.h</a></div></div>
<div class="ttc" id="arte__hash_8h_html_a420dedbd249c73bbb94a98e10a87b088"><div class="ttname"><a href="rte__hash_8h.html#a420dedbd249c73bbb94a98e10a87b088">rte_hash_lookup_bulk</a></div><div class="ttdeci">int rte_hash_lookup_bulk(const struct rte_hash *h, const void **keys, uint32_t num_keys, int32_t *positions)</div></div>
<div class="ttc" id="arte__memory_8h_html"><div class="ttname"><a href="rte__memory_8h.html">rte_memory.h</a></div></div>
<div class="ttc" id="astructrte__hash__parameters_html"><div class="ttname"><a href="structrte__hash__parameters.html">rte_hash_parameters</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__hash_8h_source.html#l00082">rte_hash.h:82</a></div></div>
<div class="ttc" id="arte__branch__prediction_8h_html_ac6c45889010c1bd68631771b64f18101"><div class="ttname"><a href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a></div><div class="ttdeci">#define unlikely(x)</div><div class="ttdef"><b>Definition:</b> <a href="rte__branch__prediction_8h_source.html#l00038">rte_branch_prediction.h:38</a></div></div>
<div class="ttc" id="arte__lcore_8h_html"><div class="ttname"><a href="rte__lcore_8h.html">rte_lcore.h</a></div></div>
<div class="ttc" id="arte__lcore_8h_html_a7c8da4664df26a64cf05dc508a4f26df"><div class="ttname"><a href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a></div><div class="ttdeci">unsigned int rte_socket_id(void)</div></div>
<div class="ttc" id="arte__log_8h_html"><div class="ttname"><a href="rte__log_8h.html">rte_log.h</a></div></div>
<div class="ttc" id="arte__string__fns_8h_html"><div class="ttname"><a href="rte__string__fns_8h.html">rte_string_fns.h</a></div></div>
<div class="ttc" id="arte__ring_8h_html"><div class="ttname"><a href="rte__ring_8h.html">rte_ring.h</a></div></div>
<div class="ttc" id="arte__interrupts_8h_html"><div class="ttname"><a href="rte__interrupts_8h.html">rte_interrupts.h</a></div></div>
<div class="ttc" id="arte__branch__prediction_8h_html"><div class="ttname"><a href="rte__branch__prediction_8h.html">rte_branch_prediction.h</a></div></div>
<div class="ttc" id="arte__ring_8h_html_a35f9762abc6db3e0143ef33ce39c1a68"><div class="ttname"><a href="rte__ring_8h.html#a35f9762abc6db3e0143ef33ce39c1a68">rte_ring_count</a></div><div class="ttdeci">static unsigned int rte_ring_count(const struct rte_ring *r)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ring_8h_source.html#l00489">rte_ring.h:489</a></div></div>
<div class="ttc" id="arte__eal_8h_html"><div class="ttname"><a href="rte__eal_8h.html">rte_eal.h</a></div></div>
<div class="ttc" id="astructrte__eth__dev__tx__buffer_html"><div class="ttname"><a href="structrte__eth__dev__tx__buffer.html">rte_eth_dev_tx_buffer</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l03271">rte_ethdev.h:3271</a></div></div>
<div class="ttc" id="arte__hash_8h_html_a6f2eca61b3180fccd47b5170fa115d48"><div class="ttname"><a href="rte__hash_8h.html#a6f2eca61b3180fccd47b5170fa115d48">RTE_HASH_NAMESIZE</a></div><div class="ttdeci">#define RTE_HASH_NAMESIZE</div><div class="ttdef"><b>Definition:</b> <a href="rte__hash_8h_source.html#l00028">rte_hash.h:28</a></div></div>
<div class="ttc" id="arte__ether_8h_html"><div class="ttname"><a href="rte__ether_8h.html">rte_ether.h</a></div></div>
<div class="ttc" id="astructrte__mbuf_html"><div class="ttname"><a href="structrte__mbuf.html">rte_mbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__core_8h_source.html#l00473">rte_mbuf_core.h:473</a></div></div>
<div class="ttc" id="arte__ring_8h_html_ad26dd65732f16f720eca5e1aa94e2a8a"><div class="ttname"><a href="rte__ring_8h.html#ad26dd65732f16f720eca5e1aa94e2a8a">rte_ring_lookup</a></div><div class="ttdeci">struct rte_ring * rte_ring_lookup(const char *name)</div></div>
<div class="ttc" id="arte__atomic_8h_html"><div class="ttname"><a href="rte__atomic_8h.html">rte_atomic.h</a></div></div>
<div class="ttc" id="arte__common_8h_html_ac5169870c983b3463cb226bdb8a94880"><div class="ttname"><a href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a></div><div class="ttdeci">__rte_noreturn void rte_exit(int exit_code, const char *format,...) __rte_format_printf(2</div></div>
<div class="ttc" id="arte__mbuf__core_8h_html_ad63e1de0ec54d7c7603ea984c76ca956"><div class="ttname"><a href="rte__mbuf__core_8h.html#ad63e1de0ec54d7c7603ea984c76ca956">rte_pktmbuf_mtod_offset</a></div><div class="ttdeci">#define rte_pktmbuf_mtod_offset(m, t, o)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__core_8h_source.html#l00711">rte_mbuf_core.h:711</a></div></div>
<div class="ttc" id="arte__ip_8h_html"><div class="ttname"><a href="rte__ip_8h.html">rte_ip.h</a></div></div>
<div class="ttc" id="astructrte__ring_html"><div class="ttname"><a href="structrte__ring.html">rte_ring</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ring__core_8h_source.html#l00123">rte_ring_core.h:123</a></div></div>
<div class="ttc" id="astructrte__hash__parameters_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="structrte__hash__parameters.html#a8f8f80d37794cde9472343e4487ba3eb">rte_hash_parameters::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="rte__hash_8h_source.html#l00083">rte_hash.h:83</a></div></div>
<div class="ttc" id="arte__common_8h_html_a4c7571cbcdbfe9b63431036af811bee9"><div class="ttname"><a href="rte__common_8h.html#a4c7571cbcdbfe9b63431036af811bee9">RTE_MIN</a></div><div class="ttdeci">#define RTE_MIN(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00573">rte_common.h:573</a></div></div>
<div class="ttc" id="arte__mempool_8h_html_a3a5887135fc6329a35780b0053e769ad"><div class="ttname"><a href="rte__mempool_8h.html#a3a5887135fc6329a35780b0053e769ad">rte_mempool_lookup</a></div><div class="ttdeci">struct rte_mempool * rte_mempool_lookup(const char *name)</div></div>
<div class="ttc" id="arte__ring_8h_html_a558ff95b944832acf8de439c769638f3"><div class="ttname"><a href="rte__ring_8h.html#a558ff95b944832acf8de439c769638f3">rte_ring_dequeue_bulk</a></div><div class="ttdeci">static __rte_always_inline unsigned int rte_ring_dequeue_bulk(struct rte_ring *r, void **obj_table, unsigned int n, unsigned int *available)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ring_8h_source.html#l00398">rte_ring.h:398</a></div></div>
<div class="ttc" id="astructrte__mbuf_html_a8e0798404bf2cf5dabb84c5ba9a4f236"><div class="ttname"><a href="structrte__mbuf.html#a8e0798404bf2cf5dabb84c5ba9a4f236">rte_mbuf::port</a></div><div class="ttdeci">uint16_t port</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__core_8h_source.html#l00503">rte_mbuf_core.h:503</a></div></div>
<div class="ttc" id="astructrte__ether__hdr_html"><div class="ttname"><a href="structrte__ether__hdr.html">rte_ether_hdr</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ether_8h_source.html#l00264">rte_ether.h:264</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_ace8779bcecccb86c94ce3638f35c9254"><div class="ttname"><a href="rte__ethdev_8h.html#ace8779bcecccb86c94ce3638f35c9254">rte_eth_tx_buffer_flush</a></div><div class="ttdeci">static uint16_t rte_eth_tx_buffer_flush(uint16_t port_id, uint16_t queue_id, struct rte_eth_dev_tx_buffer *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l05284">rte_ethdev.h:5284</a></div></div>
<div class="ttc" id="arte__common_8h_html"><div class="ttname"><a href="rte__common_8h.html">rte_common.h</a></div></div>
<div class="ttc" id="arte__memzone_8h_html_aa772ef84e73ac173503c16f243766993"><div class="ttname"><a href="rte__memzone_8h.html#aa772ef84e73ac173503c16f243766993">rte_memzone_lookup</a></div><div class="ttdeci">const struct rte_memzone * rte_memzone_lookup(const char *name)</div></div>
<div class="ttc" id="astructrte__hash__parameters_html_a38bad35c844ffd72b0c1132715d5f3a1"><div class="ttname"><a href="structrte__hash__parameters.html#a38bad35c844ffd72b0c1132715d5f3a1">rte_hash_parameters::entries</a></div><div class="ttdeci">uint32_t entries</div><div class="ttdef"><b>Definition:</b> <a href="rte__hash_8h_source.html#l00084">rte_hash.h:84</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a9ab708089665bebcd65cefe5383b24f2"><div class="ttname"><a href="rte__ethdev_8h.html#a9ab708089665bebcd65cefe5383b24f2">rte_eth_dev_count_avail</a></div><div class="ttdeci">uint16_t rte_eth_dev_count_avail(void)</div></div>
<div class="ttc" id="arte__debug_8h_html"><div class="ttname"><a href="rte__debug_8h.html">rte_debug.h</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_aacd4952d9f45acd463e203c21db9a7bb"><div class="ttname"><a href="rte__ethdev_8h.html#aacd4952d9f45acd463e203c21db9a7bb">rte_eth_tx_buffer_set_err_callback</a></div><div class="ttdeci">int rte_eth_tx_buffer_set_err_callback(struct rte_eth_dev_tx_buffer *buffer, buffer_tx_error_fn callback, void *userdata)</div></div>
<div class="ttc" id="arte__eal_8h_html_a5c3f4dddc25e38c5a186ecd8a69260e3"><div class="ttname"><a href="rte__eal_8h.html#a5c3f4dddc25e38c5a186ecd8a69260e3">rte_eal_init</a></div><div class="ttdeci">int rte_eal_init(int argc, char **argv)</div></div>
<div class="ttc" id="astructrte__mempool_html"><div class="ttname"><a href="structrte__mempool.html">rte_mempool</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__mempool_8h_source.html#l00207">rte_mempool.h:207</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_aff24ae3f48be43275b50966c3573a7a9"><div class="ttname"><a href="rte__ethdev_8h.html#aff24ae3f48be43275b50966c3573a7a9">RTE_ETH_TX_BUFFER_SIZE</a></div><div class="ttdeci">#define RTE_ETH_TX_BUFFER_SIZE(sz)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l03286">rte_ethdev.h:3286</a></div></div>
<div class="ttc" id="astructrte__ipv4__hdr_html"><div class="ttname"><a href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ip_8h_source.html#l00033">rte_ip.h:33</a></div></div>
<div class="ttc" id="arte__mbuf_8h_html_a1215458932900b7cd5192326fa4a6902"><div class="ttname"><a href="rte__mbuf_8h.html#a1215458932900b7cd5192326fa4a6902">rte_pktmbuf_free</a></div><div class="ttdeci">static void rte_pktmbuf_free(struct rte_mbuf *m)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf_8h_source.html#l01397">rte_mbuf.h:1397</a></div></div>
<div class="ttc" id="arte__memzone_8h_html"><div class="ttname"><a href="rte__memzone_8h.html">rte_memzone.h</a></div></div>
<div class="ttc" id="arte__branch__prediction_8h_html_a217a0bd562b98ae8c2ffce44935351e1"><div class="ttname"><a href="rte__branch__prediction_8h.html#a217a0bd562b98ae8c2ffce44935351e1">likely</a></div><div class="ttdeci">#define likely(x)</div><div class="ttdef"><b>Definition:</b> <a href="rte__branch__prediction_8h_source.html#l00024">rte_branch_prediction.h:24</a></div></div>
<div class="ttc" id="arte__mempool_8h_html"><div class="ttname"><a href="rte__mempool_8h.html">rte_mempool.h</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html"><div class="ttname"><a href="rte__ethdev_8h.html">rte_ethdev.h</a></div></div>
<div class="ttc" id="arte__byteorder_8h_html_a6b1dd5d5a4c60c1d72ba48c523eba45c"><div class="ttname"><a href="rte__byteorder_8h.html#a6b1dd5d5a4c60c1d72ba48c523eba45c">rte_cpu_to_be_32</a></div><div class="ttdeci">static rte_be32_t rte_cpu_to_be_32(uint32_t x)</div></div>
<div class="ttc" id="arte__log_8h_html_ac23caeb9833fd0fd0665c6c05ec806fe"><div class="ttname"><a href="rte__log_8h.html#ac23caeb9833fd0fd0665c6c05ec806fe">RTE_LOG</a></div><div class="ttdeci">#define RTE_LOG(l, t,...)</div><div class="ttdef"><b>Definition:</b> <a href="rte__log_8h_source.html#l00331">rte_log.h:331</a></div></div>
<div class="ttc" id="astructrte__memzone_html_ae5bd6c22dbf0f6b5b0ae0233f8eb3704"><div class="ttname"><a href="structrte__memzone.html#ae5bd6c22dbf0f6b5b0ae0233f8eb3704">rte_memzone::addr</a></div><div class="ttdeci">void * addr</div><div class="ttdef"><b>Definition:</b> <a href="rte__memzone_8h_source.html#l00057">rte_memzone.h:57</a></div></div>
<div class="ttc" id="arte__mbuf_8h_html"><div class="ttname"><a href="rte__mbuf_8h.html">rte_mbuf.h</a></div></div>
<div class="ttc" id="arte__launch_8h_html"><div class="ttname"><a href="rte__launch_8h.html">rte_launch.h</a></div></div>
<div class="ttc" id="arte__hash_8h_html_a5afbd2564f738149a241bc22b2428612"><div class="ttname"><a href="rte__hash_8h.html#a5afbd2564f738149a241bc22b2428612">rte_hash_create</a></div><div class="ttdeci">struct rte_hash * rte_hash_create(const struct rte_hash_parameters *params)</div></div>
<div class="ttc" id="astructrte__hash_html_a43ab7746b9b72f04b2e6dadf8365f41b"><div class="ttname"><a href="structrte__hash.html#a43ab7746b9b72f04b2e6dadf8365f41b">rte_hash::name</a></div><div class="ttdeci">char name[RTE_HASH_NAMESIZE]</div><div class="ttdef"><b>Definition:</b> <a href="rte__cuckoo__hash_8h_source.html#l00161">rte_cuckoo_hash.h:161</a></div></div>
<div class="ttc" id="astructrte__hash_html"><div class="ttname"><a href="structrte__hash.html">rte_hash</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__cuckoo__hash_8h_source.html#l00160">rte_cuckoo_hash.h:160</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_ad032e25f712e6ffeb0c19eab1ec1fd2e"><div class="ttname"><a href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a></div><div class="ttdeci">int rte_eth_dev_socket_id(uint16_t port_id)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_a0e941a74ae1b1b886764bc282458d946"><div class="ttname"><a href="rte__ethdev_8h.html#a0e941a74ae1b1b886764bc282458d946">rte_eth_tx_buffer</a></div><div class="ttdeci">static __rte_always_inline uint16_t rte_eth_tx_buffer(uint16_t port_id, uint16_t queue_id, struct rte_eth_dev_tx_buffer *buffer, struct rte_mbuf *tx_pkt)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l05337">rte_ethdev.h:5337</a></div></div>
<div class="ttc" id="astructrte__hash__parameters_html_a229cb0bd24215f0cb940e0724dbd4d55"><div class="ttname"><a href="structrte__hash__parameters.html#a229cb0bd24215f0cb940e0724dbd4d55">rte_hash_parameters::socket_id</a></div><div class="ttdeci">int socket_id</div><div class="ttdef"><b>Definition:</b> <a href="rte__hash_8h_source.html#l00089">rte_hash.h:89</a></div></div>
<div class="ttc" id="arte__per__lcore_8h_html"><div class="ttname"><a href="rte__per__lcore_8h.html">rte_per_lcore.h</a></div></div>
<div class="ttc" id="astructrte__memzone_html"><div class="ttname"><a href="structrte__memzone.html">rte_memzone</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__memzone_8h_source.html#l00049">rte_memzone.h:49</a></div></div>
<div class="ttc" id="arte__malloc_8h_html_a7e9f76b7e0b0921a617c6ab8b28f53b3"><div class="ttname"><a href="rte__malloc_8h.html#a7e9f76b7e0b0921a617c6ab8b28f53b3">rte_zmalloc_socket</a></div><div class="ttdeci">void * rte_zmalloc_socket(const char *type, size_t size, unsigned align, int socket) __rte_alloc_size(2)</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
