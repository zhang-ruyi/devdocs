<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: lib/librte_gro/rte_gro.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_bab3158cba42af609928ad7bdc323e4b.html">librte_gro</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_gro.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__mbuf_8h_source.html">rte_mbuf.h</a>&gt;</code><br />
</div>
<p><a href="rte__gro_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__gro__param.html">rte_gro_param</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afe9b86aadc5b7e6c63e1953b42c08552"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__gro_8h.html#afe9b86aadc5b7e6c63e1953b42c08552">RTE_GRO_MAX_BURST_ITEM_NUM</a>&#160;&#160;&#160;128U</td></tr>
<tr class="separator:afe9b86aadc5b7e6c63e1953b42c08552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd67536682b3038c574e3de4d976d57"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__gro_8h.html#a6dd67536682b3038c574e3de4d976d57">RTE_GRO_TYPE_MAX_NUM</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a6dd67536682b3038c574e3de4d976d57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54135e39c11ac94b708cfe771dda2068"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__gro_8h.html#a54135e39c11ac94b708cfe771dda2068">RTE_GRO_TYPE_SUPPORT_NUM</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a54135e39c11ac94b708cfe771dda2068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85b822a84389f12b734f66891608296"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__gro_8h.html#ab85b822a84389f12b734f66891608296">RTE_GRO_TCP_IPV4</a>&#160;&#160;&#160;(1ULL &lt;&lt; RTE_GRO_TCP_IPV4_INDEX)</td></tr>
<tr class="separator:ab85b822a84389f12b734f66891608296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71cc632e2bca2ce6fbed957a4452dcc0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__gro_8h.html#a71cc632e2bca2ce6fbed957a4452dcc0">RTE_GRO_IPV4_VXLAN_TCP_IPV4</a>&#160;&#160;&#160;(1ULL &lt;&lt; RTE_GRO_IPV4_VXLAN_TCP_IPV4_INDEX)</td></tr>
<tr class="separator:a71cc632e2bca2ce6fbed957a4452dcc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ddca24b3b3f651b843768951e5a18d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__gro_8h.html#ab8ddca24b3b3f651b843768951e5a18d">RTE_GRO_UDP_IPV4</a>&#160;&#160;&#160;(1ULL &lt;&lt; RTE_GRO_UDP_IPV4_INDEX)</td></tr>
<tr class="separator:ab8ddca24b3b3f651b843768951e5a18d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad49c02bd6fffa0f2f64eec7760ad053d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__gro_8h.html#ad49c02bd6fffa0f2f64eec7760ad053d">RTE_GRO_IPV4_VXLAN_UDP_IPV4</a>&#160;&#160;&#160;(1ULL &lt;&lt; RTE_GRO_IPV4_VXLAN_UDP_IPV4_INDEX)</td></tr>
<tr class="separator:ad49c02bd6fffa0f2f64eec7760ad053d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae719c72bda56a642c66674af53231aa9"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__gro_8h.html#ae719c72bda56a642c66674af53231aa9">rte_gro_ctx_create</a> (const struct <a class="el" href="structrte__gro__param.html">rte_gro_param</a> *param)</td></tr>
<tr class="separator:ae719c72bda56a642c66674af53231aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaacd7a54352f2e2e695ab364ed514ac5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__gro_8h.html#aaacd7a54352f2e2e695ab364ed514ac5">rte_gro_ctx_destroy</a> (void *ctx)</td></tr>
<tr class="separator:aaacd7a54352f2e2e695ab364ed514ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eaf86bb8b0b0c90d3b5f5fea1d5dcfa"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__gro_8h.html#a5eaf86bb8b0b0c90d3b5f5fea1d5dcfa">rte_gro_reassemble_burst</a> (struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **pkts, uint16_t nb_pkts, const struct <a class="el" href="structrte__gro__param.html">rte_gro_param</a> *param)</td></tr>
<tr class="separator:a5eaf86bb8b0b0c90d3b5f5fea1d5dcfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad31a0b81bccbf07aacc6aa7afb35427c"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__gro_8h.html#ad31a0b81bccbf07aacc6aa7afb35427c">rte_gro_reassemble</a> (struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **pkts, uint16_t nb_pkts, void *ctx)</td></tr>
<tr class="separator:ad31a0b81bccbf07aacc6aa7afb35427c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6157c7756a6ad4a6884e87c4feb619de"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__gro_8h.html#a6157c7756a6ad4a6884e87c4feb619de">rte_gro_timeout_flush</a> (void *ctx, uint64_t timeout_cycles, uint64_t gro_types, struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **out, uint16_t max_nb_out)</td></tr>
<tr class="separator:a6157c7756a6ad4a6884e87c4feb619de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15395aaf59b407e09bfa9c71a5e1cc79"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__gro_8h.html#a15395aaf59b407e09bfa9c71a5e1cc79">rte_gro_get_pkt_count</a> (void *ctx)</td></tr>
<tr class="separator:a15395aaf59b407e09bfa9c71a5e1cc79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface to GRO library </p>

<p class="definition">Definition in file <a class="el" href="rte__gro_8h_source.html">rte_gro.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="afe9b86aadc5b7e6c63e1953b42c08552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe9b86aadc5b7e6c63e1953b42c08552">&#9670;&nbsp;</a></span>RTE_GRO_MAX_BURST_ITEM_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_GRO_MAX_BURST_ITEM_NUM&#160;&#160;&#160;128U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the max number of packets that <a class="el" href="rte__gro_8h.html#a5eaf86bb8b0b0c90d3b5f5fea1d5dcfa">rte_gro_reassemble_burst()</a> can process in each invocation. </p>

<p class="definition">Definition at line <a class="el" href="rte__gro_8h_source.html#l00023">23</a> of file <a class="el" href="rte__gro_8h_source.html">rte_gro.h</a>.</p>

</div>
</div>
<a id="a6dd67536682b3038c574e3de4d976d57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dd67536682b3038c574e3de4d976d57">&#9670;&nbsp;</a></span>RTE_GRO_TYPE_MAX_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_GRO_TYPE_MAX_NUM&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the max number of supported GRO types </p>

<p class="definition">Definition at line <a class="el" href="rte__gro_8h_source.html#l00025">25</a> of file <a class="el" href="rte__gro_8h_source.html">rte_gro.h</a>.</p>

</div>
</div>
<a id="a54135e39c11ac94b708cfe771dda2068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54135e39c11ac94b708cfe771dda2068">&#9670;&nbsp;</a></span>RTE_GRO_TYPE_SUPPORT_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_GRO_TYPE_SUPPORT_NUM&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the number of currently supported GRO types </p>

<p class="definition">Definition at line <a class="el" href="rte__gro_8h_source.html#l00027">27</a> of file <a class="el" href="rte__gro_8h_source.html">rte_gro.h</a>.</p>

</div>
</div>
<a id="ab85b822a84389f12b734f66891608296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab85b822a84389f12b734f66891608296">&#9670;&nbsp;</a></span>RTE_GRO_TCP_IPV4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_GRO_TCP_IPV4&#160;&#160;&#160;(1ULL &lt;&lt; RTE_GRO_TCP_IPV4_INDEX)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TCP/IPv4 GRO flag </p>

<p class="definition">Definition at line <a class="el" href="rte__gro_8h_source.html#l00031">31</a> of file <a class="el" href="rte__gro_8h_source.html">rte_gro.h</a>.</p>

</div>
</div>
<a id="a71cc632e2bca2ce6fbed957a4452dcc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71cc632e2bca2ce6fbed957a4452dcc0">&#9670;&nbsp;</a></span>RTE_GRO_IPV4_VXLAN_TCP_IPV4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_GRO_IPV4_VXLAN_TCP_IPV4&#160;&#160;&#160;(1ULL &lt;&lt; RTE_GRO_IPV4_VXLAN_TCP_IPV4_INDEX)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>VxLAN TCP/IPv4 GRO flag. </p>

<p class="definition">Definition at line <a class="el" href="rte__gro_8h_source.html#l00034">34</a> of file <a class="el" href="rte__gro_8h_source.html">rte_gro.h</a>.</p>

</div>
</div>
<a id="ab8ddca24b3b3f651b843768951e5a18d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8ddca24b3b3f651b843768951e5a18d">&#9670;&nbsp;</a></span>RTE_GRO_UDP_IPV4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_GRO_UDP_IPV4&#160;&#160;&#160;(1ULL &lt;&lt; RTE_GRO_UDP_IPV4_INDEX)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>UDP/IPv4 GRO flag </p>

<p class="definition">Definition at line <a class="el" href="rte__gro_8h_source.html#l00037">37</a> of file <a class="el" href="rte__gro_8h_source.html">rte_gro.h</a>.</p>

</div>
</div>
<a id="ad49c02bd6fffa0f2f64eec7760ad053d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad49c02bd6fffa0f2f64eec7760ad053d">&#9670;&nbsp;</a></span>RTE_GRO_IPV4_VXLAN_UDP_IPV4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_GRO_IPV4_VXLAN_UDP_IPV4&#160;&#160;&#160;(1ULL &lt;&lt; RTE_GRO_IPV4_VXLAN_UDP_IPV4_INDEX)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>VxLAN UDP/IPv4 GRO flag. </p>

<p class="definition">Definition at line <a class="el" href="rte__gro_8h_source.html#l00040">40</a> of file <a class="el" href="rte__gro_8h_source.html">rte_gro.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae719c72bda56a642c66674af53231aa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae719c72bda56a642c66674af53231aa9">&#9670;&nbsp;</a></span>rte_gro_ctx_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* rte_gro_ctx_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structrte__gro__param.html">rte_gro_param</a> *&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd><b>EXPERIMENTAL:</b> this API may change without prior notice</dd></dl>
<p>This function create a GRO context object, which is used to merge packets in <a class="el" href="rte__gro_8h.html#ad31a0b81bccbf07aacc6aa7afb35427c">rte_gro_reassemble()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>applications use it to pass needed parameters to create a GRO context object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>if create successfully, return a pointer which points to the GRO context object. Otherwise, return NULL. </dd></dl>

</div>
</div>
<a id="aaacd7a54352f2e2e695ab364ed514ac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaacd7a54352f2e2e695ab364ed514ac5">&#9670;&nbsp;</a></span>rte_gro_ctx_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_gro_ctx_destroy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd><b>EXPERIMENTAL:</b> this API may change without prior notice</dd></dl>
<p>This function destroys a GRO context object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>pointer points to a GRO context object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5eaf86bb8b0b0c90d3b5f5fea1d5dcfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eaf86bb8b0b0c90d3b5f5fea1d5dcfa">&#9670;&nbsp;</a></span>rte_gro_reassemble_burst()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t rte_gro_reassemble_burst </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **&#160;</td>
          <td class="paramname"><em>pkts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>nb_pkts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structrte__gro__param.html">rte_gro_param</a> *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is one of the main reassembly APIs, which merges numbers of packets at a time. It doesn't check if input packets have correct checksums and doesn't re-calculate checksums for merged packets. It assumes the packets are complete (i.e., MF==0 &amp;&amp; frag_off==0), when IP fragmentation is possible (i.e., DF==0). The GROed packets are returned as soon as the function finishes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pkts</td><td>Pointer array pointing to the packets to reassemble. Besides, it keeps MBUF addresses for the GROed packets. </td></tr>
    <tr><td class="paramname">nb_pkts</td><td>The number of packets to reassemble </td></tr>
    <tr><td class="paramname">param</td><td>Application-determined parameters for reassembling packets.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of packets after been GROed. If no packets are merged, the return value is equals to nb_pkts. </dd></dl>

</div>
</div>
<a id="ad31a0b81bccbf07aacc6aa7afb35427c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad31a0b81bccbf07aacc6aa7afb35427c">&#9670;&nbsp;</a></span>rte_gro_reassemble()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t rte_gro_reassemble </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **&#160;</td>
          <td class="paramname"><em>pkts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>nb_pkts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd><b>EXPERIMENTAL:</b> this API may change without prior notice</dd></dl>
<p>Reassembly function, which tries to merge input packets with the existed packets in the reassembly tables of a given GRO context. It doesn't check if input packets have correct checksums and doesn't re-calculate checksums for merged packets. Additionally, it assumes the packets are complete (i.e., MF==0 &amp;&amp; frag_off==0), when IP fragmentation is possible (i.e., DF==0).</p>
<p>If the input packets have invalid parameters (e.g. no data payload, unsupported GRO types), they are returned to applications. Otherwise, they are either merged or inserted into the table. Applications need to flush packets from the tables by flush API, if they want to get the GROed packets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pkts</td><td>Packets to reassemble. It's also used to store the unprocessed packets. </td></tr>
    <tr><td class="paramname">nb_pkts</td><td>The number of packets to reassemble </td></tr>
    <tr><td class="paramname">ctx</td><td>GRO context object pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of unprocessed packets. </dd></dl>

</div>
</div>
<a id="a6157c7756a6ad4a6884e87c4feb619de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6157c7756a6ad4a6884e87c4feb619de">&#9670;&nbsp;</a></span>rte_gro_timeout_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t rte_gro_timeout_flush </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>timeout_cycles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>gro_types</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max_nb_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd><b>EXPERIMENTAL:</b> this API may change without prior notice</dd></dl>
<p>This function flushes the timeout packets from the reassembly tables of desired GRO types. The max number of flushed packets is the element number of 'out'.</p>
<p>Additionally, the flushed packets may have incorrect checksums, since this function doesn't re-calculate checksums for merged packets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>GRO context object pointer. </td></tr>
    <tr><td class="paramname">timeout_cycles</td><td>The max TTL for packets in reassembly tables, measured in nanosecond. </td></tr>
    <tr><td class="paramname">gro_types</td><td>This function flushes packets whose GRO types are specified by gro_types. </td></tr>
    <tr><td class="paramname">out</td><td>Pointer array used to keep flushed packets. </td></tr>
    <tr><td class="paramname">max_nb_out</td><td>The element number of 'out'. It's also the max number of timeout packets that can be flushed finally.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of flushed packets. </dd></dl>

</div>
</div>
<a id="a15395aaf59b407e09bfa9c71a5e1cc79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15395aaf59b407e09bfa9c71a5e1cc79">&#9670;&nbsp;</a></span>rte_gro_get_pkt_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t rte_gro_get_pkt_count </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd><b>EXPERIMENTAL:</b> this API may change without prior notice</dd></dl>
<p>This function returns the number of packets in all reassembly tables of a given GRO context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>GRO context object pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of packets in the tables. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
