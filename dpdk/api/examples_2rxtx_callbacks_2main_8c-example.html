<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: examples/rxtx_callbacks/main.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">examples/rxtx_callbacks/main.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/* SPDX-License-Identifier: BSD-3-Clause</span></div>
<div class="line"><span class="comment"> * Copyright(c) 2010-2015 Intel Corporation</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;getopt.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__eal_8h.html">rte_eal.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__ethdev_8h.html">rte_ethdev.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__cycles_8h.html">rte_cycles.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__lcore_8h.html">rte_lcore.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__mbuf_8h.html">rte_mbuf.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__mbuf__dyn_8h.html">rte_mbuf_dyn.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define RX_RING_SIZE 1024</span></div>
<div class="line"><span class="preprocessor">#define TX_RING_SIZE 1024</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define NUM_MBUFS 8191</span></div>
<div class="line"><span class="preprocessor">#define MBUF_CACHE_SIZE 250</span></div>
<div class="line"><span class="preprocessor">#define BURST_SIZE 32</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> hwts_dynfield_offset = -1;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> rte_mbuf_timestamp_t *</div>
<div class="line">hwts_field(<span class="keyword">struct</span> <a name="_a0"></a><a class="code" href="structrte__mbuf.html">rte_mbuf</a> *mbuf)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a name="a1"></a><a class="code" href="rte__mbuf__dyn_8h.html#ae3519e5885e62b3f99fa275b238418a5">RTE_MBUF_DYNFIELD</a>(mbuf,</div>
<div class="line">            hwts_dynfield_offset, rte_mbuf_timestamp_t *);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> uint64_t tsc_t;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> tsc_dynfield_offset = -1;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> tsc_t *</div>
<div class="line">tsc_field(<span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> *mbuf)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="rte__mbuf__dyn_8h.html#ae3519e5885e62b3f99fa275b238418a5">RTE_MBUF_DYNFIELD</a>(mbuf, tsc_dynfield_offset, tsc_t *);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> usage[] =</div>
<div class="line">    <span class="stringliteral">&quot;%s EAL_ARGS -- [-t]\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a name="_a2"></a><a class="code" href="structrte__eth__conf.html">rte_eth_conf</a> port_conf_default = {</div>
<div class="line">    .<a name="a3"></a><a class="code" href="structrte__eth__conf.html#a346eef99c24f617b74c440c1aa565d01">rxmode</a> = {</div>
<div class="line">        .<a name="a4"></a><a class="code" href="structrte__eth__rxmode.html#a84a5d32306b86a1df884144612c70726">max_rx_pkt_len</a> = <a name="a5"></a><a class="code" href="rte__ether_8h.html#af1fb088707ce5b2ebb7825cb69b5cb58">RTE_ETHER_MAX_LEN</a>,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>{</div>
<div class="line">    uint64_t total_cycles;</div>
<div class="line">    uint64_t total_queue_cycles;</div>
<div class="line">    uint64_t total_pkts;</div>
<div class="line">} latency_numbers;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> hw_timestamping;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define TICKS_PER_CYCLE_SHIFT 16</span></div>
<div class="line"><span class="keyword">static</span> uint64_t ticks_per_cycle_mult;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> uint16_t</div>
<div class="line">add_timestamps(uint16_t port <a name="a6"></a><a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a>, uint16_t qidx <a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a>,</div>
<div class="line">        <span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> **pkts, uint16_t nb_pkts,</div>
<div class="line">        uint16_t max_pkts <a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a>, <span class="keywordtype">void</span> *_ <a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">unsigned</span> i;</div>
<div class="line">    uint64_t now = rte_rdtsc();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; nb_pkts; i++)</div>
<div class="line">        *tsc_field(pkts[i]) = now;</div>
<div class="line">    <span class="keywordflow">return</span> nb_pkts;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> uint16_t</div>
<div class="line">calc_latency(uint16_t port, uint16_t qidx <a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a>,</div>
<div class="line">        <span class="keyword">struct</span> <a class="code" href="structrte__mbuf.html">rte_mbuf</a> **pkts, uint16_t nb_pkts, <span class="keywordtype">void</span> *_ <a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a>)</div>
<div class="line">{</div>
<div class="line">    uint64_t cycles = 0;</div>
<div class="line">    uint64_t queue_ticks = 0;</div>
<div class="line">    uint64_t now = rte_rdtsc();</div>
<div class="line">    uint64_t ticks;</div>
<div class="line">    <span class="keywordtype">unsigned</span> i;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (hw_timestamping)</div>
<div class="line">        <a name="a7"></a><a class="code" href="rte__ethdev_8h.html#a4346bf07a0d302c9ba4fe06baffd3196">rte_eth_read_clock</a>(port, &amp;ticks);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; nb_pkts; i++) {</div>
<div class="line">        cycles += now - *tsc_field(pkts[i]);</div>
<div class="line">        <span class="keywordflow">if</span> (hw_timestamping)</div>
<div class="line">            queue_ticks += ticks - *hwts_field(pkts[i]);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    latency_numbers.total_cycles += cycles;</div>
<div class="line">    <span class="keywordflow">if</span> (hw_timestamping)</div>
<div class="line">        latency_numbers.total_queue_cycles += (queue_ticks</div>
<div class="line">            * ticks_per_cycle_mult) &gt;&gt; TICKS_PER_CYCLE_SHIFT;</div>
<div class="line"> </div>
<div class="line">    latency_numbers.total_pkts += nb_pkts;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (latency_numbers.total_pkts &gt; (100 * 1000 * 1000ULL)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Latency = %&quot;</span>PRIu64<span class="stringliteral">&quot; cycles\n&quot;</span>,</div>
<div class="line">        latency_numbers.total_cycles / latency_numbers.total_pkts);</div>
<div class="line">        <span class="keywordflow">if</span> (hw_timestamping) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Latency from HW = %&quot;</span>PRIu64<span class="stringliteral">&quot; cycles\n&quot;</span>,</div>
<div class="line">               latency_numbers.total_queue_cycles</div>
<div class="line">               / latency_numbers.total_pkts);</div>
<div class="line">        }</div>
<div class="line">        latency_numbers.total_cycles = 0;</div>
<div class="line">        latency_numbers.total_queue_cycles = 0;</div>
<div class="line">        latency_numbers.total_pkts = 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> nb_pkts;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Initialises a given port using global settings and with the rx buffers</span></div>
<div class="line"><span class="comment"> * coming from the mbuf_pool passed as parameter</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span></div>
<div class="line">port_init(uint16_t port, <span class="keyword">struct</span> <a name="_a8"></a><a class="code" href="structrte__mempool.html">rte_mempool</a> *mbuf_pool)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__eth__conf.html">rte_eth_conf</a> port_conf = port_conf_default;</div>
<div class="line">    <span class="keyword">const</span> uint16_t rx_rings = 1, tx_rings = 1;</div>
<div class="line">    uint16_t nb_rxd = RX_RING_SIZE;</div>
<div class="line">    uint16_t nb_txd = TX_RING_SIZE;</div>
<div class="line">    <span class="keywordtype">int</span> retval;</div>
<div class="line">    uint16_t q;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a9"></a><a class="code" href="structrte__eth__dev__info.html">rte_eth_dev_info</a> dev_info;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a10"></a><a class="code" href="structrte__eth__rxconf.html">rte_eth_rxconf</a> rxconf;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a11"></a><a class="code" href="structrte__eth__txconf.html">rte_eth_txconf</a> txconf;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!<a name="a12"></a><a class="code" href="rte__ethdev_8h.html#a22dcfd3f5f2b34f657131d66132e23a7">rte_eth_dev_is_valid_port</a>(port))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    retval = <a name="a13"></a><a class="code" href="rte__ethdev_8h.html#a7593f4fff04f4ae1b1d718db7ca7dc8c">rte_eth_dev_info_get</a>(port, &amp;dev_info);</div>
<div class="line">    <span class="keywordflow">if</span> (retval != 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Error during getting device (port %u) info: %s\n&quot;</span>,</div>
<div class="line">                port, strerror(-retval));</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> retval;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (dev_info.tx_offload_capa &amp; <a name="a14"></a><a class="code" href="rte__ethdev_8h.html#ae7110b5d5dced8f42505bff5d9e3f0ea">DEV_TX_OFFLOAD_MBUF_FAST_FREE</a>)</div>
<div class="line">        port_conf.<a name="a15"></a><a class="code" href="structrte__eth__conf.html#a1c33c9d2e5cdb14b62ed386bf3159e07">txmode</a>.<a name="a16"></a><a class="code" href="structrte__eth__txmode.html#a6cfe3b3ee46e9a8b8c62a64294b0b564">offloads</a> |=</div>
<div class="line">            <a class="code" href="rte__ethdev_8h.html#ae7110b5d5dced8f42505bff5d9e3f0ea">DEV_TX_OFFLOAD_MBUF_FAST_FREE</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (hw_timestamping) {</div>
<div class="line">        <span class="keywordflow">if</span> (!(dev_info.rx_offload_capa &amp; <a name="a17"></a><a class="code" href="rte__ethdev_8h.html#acca9d5f3ba8e4e45478eb26a589aa127">DEV_RX_OFFLOAD_TIMESTAMP</a>)) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;\nERROR: Port %u does not support hardware timestamping\n&quot;</span></div>
<div class="line">                    , port);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        port_conf.<a class="code" href="structrte__eth__conf.html#a346eef99c24f617b74c440c1aa565d01">rxmode</a>.<a name="a18"></a><a class="code" href="structrte__eth__rxmode.html#a6cfe3b3ee46e9a8b8c62a64294b0b564">offloads</a> |= <a class="code" href="rte__ethdev_8h.html#acca9d5f3ba8e4e45478eb26a589aa127">DEV_RX_OFFLOAD_TIMESTAMP</a>;</div>
<div class="line">        <a name="a19"></a><a class="code" href="rte__mbuf__dyn_8h.html#a7635e95a6bea0811e01fe06a2a55c1c0">rte_mbuf_dyn_rx_timestamp_register</a>(&amp;hwts_dynfield_offset, NULL);</div>
<div class="line">        <span class="keywordflow">if</span> (hwts_dynfield_offset &lt; 0) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;ERROR: Failed to register timestamp field\n&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> -<a name="a20"></a><a class="code" href="rte__errno_8h.html#a66171a00ea02084317df4dc9c2adaccb">rte_errno</a>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    retval = <a name="a21"></a><a class="code" href="rte__ethdev_8h.html#a1a7d3a20b102fee222541fda50fd87bd">rte_eth_dev_configure</a>(port, rx_rings, tx_rings, &amp;port_conf);</div>
<div class="line">    <span class="keywordflow">if</span> (retval != 0)</div>
<div class="line">        <span class="keywordflow">return</span> retval;</div>
<div class="line"> </div>
<div class="line">    retval = <a name="a22"></a><a class="code" href="rte__ethdev_8h.html#ad31219b87a1733d5b367a7c04c7f7b48">rte_eth_dev_adjust_nb_rx_tx_desc</a>(port, &amp;nb_rxd, &amp;nb_txd);</div>
<div class="line">    <span class="keywordflow">if</span> (retval != 0)</div>
<div class="line">        <span class="keywordflow">return</span> retval;</div>
<div class="line"> </div>
<div class="line">    rxconf = dev_info.default_rxconf;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (q = 0; q &lt; rx_rings; q++) {</div>
<div class="line">        retval = <a name="a23"></a><a class="code" href="rte__ethdev_8h.html#a36ba70a5a6fce2c2c1f774828ba78f8d">rte_eth_rx_queue_setup</a>(port, q, nb_rxd,</div>
<div class="line">            <a name="a24"></a><a class="code" href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a>(port), &amp;rxconf, mbuf_pool);</div>
<div class="line">        <span class="keywordflow">if</span> (retval &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> retval;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    txconf = dev_info.default_txconf;</div>
<div class="line">    txconf.offloads = port_conf.<a class="code" href="structrte__eth__conf.html#a1c33c9d2e5cdb14b62ed386bf3159e07">txmode</a>.<a class="code" href="structrte__eth__txmode.html#a6cfe3b3ee46e9a8b8c62a64294b0b564">offloads</a>;</div>
<div class="line">    <span class="keywordflow">for</span> (q = 0; q &lt; tx_rings; q++) {</div>
<div class="line">        retval = <a name="a25"></a><a class="code" href="rte__ethdev_8h.html#a796c2f20778984c6f41b271e36bae50e">rte_eth_tx_queue_setup</a>(port, q, nb_txd,</div>
<div class="line">                <a class="code" href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a>(port), &amp;txconf);</div>
<div class="line">        <span class="keywordflow">if</span> (retval &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> retval;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    retval  = <a name="a26"></a><a class="code" href="rte__ethdev_8h.html#afdc834c1c52e9fb512301990468ca7c2">rte_eth_dev_start</a>(port);</div>
<div class="line">    <span class="keywordflow">if</span> (retval &lt; 0)</div>
<div class="line">        <span class="keywordflow">return</span> retval;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (hw_timestamping &amp;&amp; ticks_per_cycle_mult  == 0) {</div>
<div class="line">        uint64_t cycles_base = rte_rdtsc();</div>
<div class="line">        uint64_t ticks_base;</div>
<div class="line">        retval = <a class="code" href="rte__ethdev_8h.html#a4346bf07a0d302c9ba4fe06baffd3196">rte_eth_read_clock</a>(port, &amp;ticks_base);</div>
<div class="line">        <span class="keywordflow">if</span> (retval != 0)</div>
<div class="line">            <span class="keywordflow">return</span> retval;</div>
<div class="line">        <a name="a27"></a><a class="code" href="rte__cycles_8h.html#af73b844d50b98de74b1a0e1730262f85">rte_delay_ms</a>(100);</div>
<div class="line">        uint64_t cycles = rte_rdtsc();</div>
<div class="line">        uint64_t ticks;</div>
<div class="line">        <a class="code" href="rte__ethdev_8h.html#a4346bf07a0d302c9ba4fe06baffd3196">rte_eth_read_clock</a>(port, &amp;ticks);</div>
<div class="line">        uint64_t c_freq = cycles - cycles_base;</div>
<div class="line">        uint64_t t_freq = ticks - ticks_base;</div>
<div class="line">        <span class="keywordtype">double</span> freq_mult = (double)c_freq / t_freq;</div>
<div class="line">        printf(<span class="stringliteral">&quot;TSC Freq ~= %&quot;</span> PRIu64</div>
<div class="line">                <span class="stringliteral">&quot;\nHW Freq ~= %&quot;</span> PRIu64</div>
<div class="line">                <span class="stringliteral">&quot;\nRatio : %f\n&quot;</span>,</div>
<div class="line">                c_freq * 10, t_freq * 10, freq_mult);</div>
<div class="line">        <span class="comment">/* TSC will be faster than internal ticks so freq_mult is &gt; 0</span></div>
<div class="line"><span class="comment">         * We convert the multiplication to an integer shift &amp; mult</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        ticks_per_cycle_mult = (1 &lt;&lt; TICKS_PER_CYCLE_SHIFT) / freq_mult;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span><a name="_a28"></a><a class="code" href="structrte__ether__addr.html">rte_ether_addr</a> addr;</div>
<div class="line"> </div>
<div class="line">    retval = <a name="a29"></a><a class="code" href="rte__ethdev_8h.html#a8a28375b279ded9125c99a46bf3956ef">rte_eth_macaddr_get</a>(port, &amp;addr);</div>
<div class="line">    <span class="keywordflow">if</span> (retval &lt; 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Failed to get MAC address on port %u: %s\n&quot;</span>,</div>
<div class="line">            port, <a name="a30"></a><a class="code" href="rte__errno_8h.html#a129a7eb4cfa1f5bdac5783bf49137d06">rte_strerror</a>(-retval));</div>
<div class="line">        <span class="keywordflow">return</span> retval;</div>
<div class="line">    }</div>
<div class="line">    printf(<span class="stringliteral">&quot;Port %u MAC: %02&quot;</span>PRIx8<span class="stringliteral">&quot; %02&quot;</span>PRIx8<span class="stringliteral">&quot; %02&quot;</span>PRIx8</div>
<div class="line">            <span class="stringliteral">&quot; %02&quot;</span>PRIx8<span class="stringliteral">&quot; %02&quot;</span>PRIx8<span class="stringliteral">&quot; %02&quot;</span>PRIx8<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">            (<span class="keywordtype">unsigned</span>)port,</div>
<div class="line">            addr.addr_bytes[0], addr.addr_bytes[1],</div>
<div class="line">            addr.addr_bytes[2], addr.addr_bytes[3],</div>
<div class="line">            addr.addr_bytes[4], addr.addr_bytes[5]);</div>
<div class="line"> </div>
<div class="line">    retval = <a name="a31"></a><a class="code" href="rte__ethdev_8h.html#a5dd1dedaa45f05c72bcc35495e441e91">rte_eth_promiscuous_enable</a>(port);</div>
<div class="line">    <span class="keywordflow">if</span> (retval != 0)</div>
<div class="line">        <span class="keywordflow">return</span> retval;</div>
<div class="line"> </div>
<div class="line">    <a name="a32"></a><a class="code" href="rte__ethdev_8h.html#adb70723c985c3ea177591b67cfc49178">rte_eth_add_rx_callback</a>(port, 0, add_timestamps, NULL);</div>
<div class="line">    <a name="a33"></a><a class="code" href="rte__ethdev_8h.html#a1880bf92c5e7d1d6901807a431024490">rte_eth_add_tx_callback</a>(port, 0, calc_latency, NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Main thread that does the work, reading from INPUT_PORT</span></div>
<div class="line"><span class="comment"> * and writing to OUTPUT_PORT</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">static</span>  <a name="a34"></a><a class="code" href="rte__common_8h.html#adba9930c1f0c89d4aab7d58c44ee835b">__rte_noreturn</a> <span class="keywordtype">void</span></div>
<div class="line">lcore_main(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    uint16_t port;</div>
<div class="line"> </div>
<div class="line">    <a name="a35"></a><a class="code" href="rte__ethdev_8h.html#ad7b46c67203d37fe3a34f11076d970d6">RTE_ETH_FOREACH_DEV</a>(port)</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a>(port) &gt; 0 &amp;&amp;</div>
<div class="line">                <a class="code" href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a>(port) !=</div>
<div class="line">                        (<span class="keywordtype">int</span>)<a name="a36"></a><a class="code" href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a>())</div>
<div class="line">            printf(<span class="stringliteral">&quot;WARNING, port %u is on remote NUMA node to &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;polling thread.\n\tPerformance will &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;not be optimal.\n&quot;</span>, port);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\nCore %u forwarding packets. [Ctrl+C to quit]\n&quot;</span>,</div>
<div class="line">            <a name="a37"></a><a class="code" href="rte__lcore_8h.html#adfb2b334e7e73f534f25e8888a8a775f">rte_lcore_id</a>());</div>
<div class="line">    <span class="keywordflow">for</span> (;;) {</div>
<div class="line">        <a class="code" href="rte__ethdev_8h.html#ad7b46c67203d37fe3a34f11076d970d6">RTE_ETH_FOREACH_DEV</a>(port) {</div>
<div class="line">            <span class="keyword">struct </span><a class="code" href="structrte__mbuf.html">rte_mbuf</a> *bufs[BURST_SIZE];</div>
<div class="line">            <span class="keyword">const</span> uint16_t nb_rx = <a name="a38"></a><a class="code" href="rte__ethdev_8h.html#a3e7d76a451b46348686ea97d6367f102">rte_eth_rx_burst</a>(<a name="a39"></a><a class="code" href="structrte__mbuf.html#a8e0798404bf2cf5dabb84c5ba9a4f236">port</a>, 0,</div>
<div class="line">                    bufs, BURST_SIZE);</div>
<div class="line">            <span class="keywordflow">if</span> (<a name="a40"></a><a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(nb_rx == 0))</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line">            <span class="keyword">const</span> uint16_t nb_tx = <a name="a41"></a><a class="code" href="rte__ethdev_8h.html#a83e56cabbd31637efd648e3fc010392b">rte_eth_tx_burst</a>(<a class="code" href="structrte__mbuf.html#a8e0798404bf2cf5dabb84c5ba9a4f236">port</a> ^ 1, 0,</div>
<div class="line">                    bufs, nb_rx);</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(nb_tx &lt; nb_rx)) {</div>
<div class="line">                uint16_t buf;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">for</span> (buf = nb_tx; buf &lt; nb_rx; buf++)</div>
<div class="line">                    <a name="a42"></a><a class="code" href="rte__mbuf_8h.html#a1215458932900b7cd5192326fa4a6902">rte_pktmbuf_free</a>(bufs[buf]);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Main function, does initialisation and calls the per-lcore functions */</span></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__mempool.html">rte_mempool</a> *mbuf_pool;</div>
<div class="line">    uint16_t nb_ports;</div>
<div class="line">    uint16_t portid;</div>
<div class="line">    <span class="keyword">struct </span>option lgopts[] = {</div>
<div class="line">        { NULL,  0, 0, 0 }</div>
<div class="line">    };</div>
<div class="line">    <span class="keywordtype">int</span> opt, option_index;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a name="_a43"></a><a class="code" href="structrte__mbuf__dynfield.html">rte_mbuf_dynfield</a> tsc_dynfield_desc = {</div>
<div class="line">        .<a name="a44"></a><a class="code" href="structrte__mbuf__dynfield.html#af0eef0d99d09298d94b2e9937b7a498a">name</a> = <span class="stringliteral">&quot;example_bbdev_dynfield_tsc&quot;</span>,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(tsc_t),</div>
<div class="line">        .<a name="a45"></a><a class="code" href="structrte__mbuf__dynfield.html#ab2a8be45758f8c35a4a1574ccb26702d">align</a> = __alignof__(tsc_t),</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* init EAL */</span></div>
<div class="line">    <span class="keywordtype">int</span> ret = <a name="a46"></a><a class="code" href="rte__eal_8h.html#a5c3f4dddc25e38c5a186ecd8a69260e3">rte_eal_init</a>(argc, argv);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">        <a name="a47"></a><a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Error with EAL initialization\n&quot;</span>);</div>
<div class="line">    argc -= ret;</div>
<div class="line">    argv += ret;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> ((opt = getopt_long(argc, argv, <span class="stringliteral">&quot;t&quot;</span>, lgopts, &amp;option_index))</div>
<div class="line">            != EOF)</div>
<div class="line">        <span class="keywordflow">switch</span> (opt) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>:</div>
<div class="line">            hw_timestamping = 1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            printf(usage, argv[0]);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    optind = 1; <span class="comment">/* reset getopt lib */</span></div>
<div class="line"> </div>
<div class="line">    nb_ports = <a name="a48"></a><a class="code" href="rte__ethdev_8h.html#a9ab708089665bebcd65cefe5383b24f2">rte_eth_dev_count_avail</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (nb_ports &lt; 2 || (nb_ports &amp; 1))</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Error: number of ports must be even\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    mbuf_pool = <a name="a49"></a><a class="code" href="rte__mbuf_8h.html#a593921f13307803b94bbb4e0932db962">rte_pktmbuf_pool_create</a>(<span class="stringliteral">&quot;MBUF_POOL&quot;</span>,</div>
<div class="line">        NUM_MBUFS * nb_ports, MBUF_CACHE_SIZE, 0,</div>
<div class="line">        RTE_MBUF_DEFAULT_BUF_SIZE, <a class="code" href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a>());</div>
<div class="line">    <span class="keywordflow">if</span> (mbuf_pool == NULL)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot create mbuf pool\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    tsc_dynfield_offset =</div>
<div class="line">        <a name="a50"></a><a class="code" href="rte__mbuf__dyn_8h.html#a3984617f05c58035165f4cd48e777581">rte_mbuf_dynfield_register</a>(&amp;tsc_dynfield_desc);</div>
<div class="line">    <span class="keywordflow">if</span> (tsc_dynfield_offset &lt; 0)</div>
<div class="line">        <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot register mbuf field\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* initialize all ports */</span></div>
<div class="line">    <a class="code" href="rte__ethdev_8h.html#ad7b46c67203d37fe3a34f11076d970d6">RTE_ETH_FOREACH_DEV</a>(portid)</div>
<div class="line">        <span class="keywordflow">if</span> (port_init(portid, mbuf_pool) != 0)</div>
<div class="line">            <a class="code" href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a>(EXIT_FAILURE, <span class="stringliteral">&quot;Cannot init port %&quot;</span>PRIu8<span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">                    portid);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a51"></a><a class="code" href="rte__lcore_8h.html#a1728dc7f14571ba778d3b5b41aa09283">rte_lcore_count</a>() &gt; 1)</div>
<div class="line">        printf(<span class="stringliteral">&quot;\nWARNING: Too much enabled lcores - &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;App uses only 1 lcore\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* call lcore_main on main core only */</span></div>
<div class="line">    lcore_main();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<div class="ttc" id="arte__ethdev_8h_html_ad31219b87a1733d5b367a7c04c7f7b48"><div class="ttname"><a href="rte__ethdev_8h.html#ad31219b87a1733d5b367a7c04c7f7b48">rte_eth_dev_adjust_nb_rx_tx_desc</a></div><div class="ttdeci">int rte_eth_dev_adjust_nb_rx_tx_desc(uint16_t port_id, uint16_t *nb_rx_desc, uint16_t *nb_tx_desc)</div></div>
<div class="ttc" id="astructrte__eth__rxconf_html"><div class="ttname"><a href="structrte__eth__rxconf.html">rte_eth_rxconf</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01032">rte_ethdev.h:1032</a></div></div>
<div class="ttc" id="arte__branch__prediction_8h_html_ac6c45889010c1bd68631771b64f18101"><div class="ttname"><a href="rte__branch__prediction_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a></div><div class="ttdeci">#define unlikely(x)</div><div class="ttdef"><b>Definition:</b> <a href="rte__branch__prediction_8h_source.html#l00038">rte_branch_prediction.h:38</a></div></div>
<div class="ttc" id="arte__lcore_8h_html"><div class="ttname"><a href="rte__lcore_8h.html">rte_lcore.h</a></div></div>
<div class="ttc" id="arte__lcore_8h_html_a7c8da4664df26a64cf05dc508a4f26df"><div class="ttname"><a href="rte__lcore_8h.html#a7c8da4664df26a64cf05dc508a4f26df">rte_socket_id</a></div><div class="ttdeci">unsigned int rte_socket_id(void)</div></div>
<div class="ttc" id="astructrte__mbuf__dynfield_html_ab2a8be45758f8c35a4a1574ccb26702d"><div class="ttname"><a href="structrte__mbuf__dynfield.html#ab2a8be45758f8c35a4a1574ccb26702d">rte_mbuf_dynfield::align</a></div><div class="ttdeci">size_t align</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__dyn_8h_source.html#l00081">rte_mbuf_dyn.h:81</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a796c2f20778984c6f41b271e36bae50e"><div class="ttname"><a href="rte__ethdev_8h.html#a796c2f20778984c6f41b271e36bae50e">rte_eth_tx_queue_setup</a></div><div class="ttdeci">int rte_eth_tx_queue_setup(uint16_t port_id, uint16_t tx_queue_id, uint16_t nb_tx_desc, unsigned int socket_id, const struct rte_eth_txconf *tx_conf)</div></div>
<div class="ttc" id="astructrte__eth__txconf_html"><div class="ttname"><a href="structrte__eth__txconf.html">rte_eth_txconf</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01060">rte_ethdev.h:1060</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a1a7d3a20b102fee222541fda50fd87bd"><div class="ttname"><a href="rte__ethdev_8h.html#a1a7d3a20b102fee222541fda50fd87bd">rte_eth_dev_configure</a></div><div class="ttdeci">int rte_eth_dev_configure(uint16_t port_id, uint16_t nb_rx_queue, uint16_t nb_tx_queue, const struct rte_eth_conf *eth_conf)</div></div>
<div class="ttc" id="astructrte__eth__rxmode_html_a84a5d32306b86a1df884144612c70726"><div class="ttname"><a href="structrte__eth__rxmode.html#a84a5d32306b86a1df884144612c70726">rte_eth_rxmode::max_rx_pkt_len</a></div><div class="ttdeci">uint32_t max_rx_pkt_len</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l00403">rte_ethdev.h:403</a></div></div>
<div class="ttc" id="arte__errno_8h_html_a129a7eb4cfa1f5bdac5783bf49137d06"><div class="ttname"><a href="rte__errno_8h.html#a129a7eb4cfa1f5bdac5783bf49137d06">rte_strerror</a></div><div class="ttdeci">const char * rte_strerror(int errnum)</div></div>
<div class="ttc" id="astructrte__eth__conf_html_a346eef99c24f617b74c440c1aa565d01"><div class="ttname"><a href="structrte__eth__conf.html#a346eef99c24f617b74c440c1aa565d01">rte_eth_conf::rxmode</a></div><div class="ttdeci">struct rte_eth_rxmode rxmode</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01294">rte_ethdev.h:1301</a></div></div>
<div class="ttc" id="arte__eal_8h_html"><div class="ttname"><a href="rte__eal_8h.html">rte_eal.h</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a3e7d76a451b46348686ea97d6367f102"><div class="ttname"><a href="rte__ethdev_8h.html#a3e7d76a451b46348686ea97d6367f102">rte_eth_rx_burst</a></div><div class="ttdeci">static uint16_t rte_eth_rx_burst(uint16_t port_id, uint16_t queue_id, struct rte_mbuf **rx_pkts, const uint16_t nb_pkts)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l04834">rte_ethdev.h:4834</a></div></div>
<div class="ttc" id="astructrte__mbuf_html"><div class="ttname"><a href="structrte__mbuf.html">rte_mbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__core_8h_source.html#l00473">rte_mbuf_core.h:473</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a7593f4fff04f4ae1b1d718db7ca7dc8c"><div class="ttname"><a href="rte__ethdev_8h.html#a7593f4fff04f4ae1b1d718db7ca7dc8c">rte_eth_dev_info_get</a></div><div class="ttdeci">int rte_eth_dev_info_get(uint16_t port_id, struct rte_eth_dev_info *dev_info)</div></div>
<div class="ttc" id="arte__mbuf__dyn_8h_html"><div class="ttname"><a href="rte__mbuf__dyn_8h.html">rte_mbuf_dyn.h</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a5dd1dedaa45f05c72bcc35495e441e91"><div class="ttname"><a href="rte__ethdev_8h.html#a5dd1dedaa45f05c72bcc35495e441e91">rte_eth_promiscuous_enable</a></div><div class="ttdeci">int rte_eth_promiscuous_enable(uint16_t port_id)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_a1880bf92c5e7d1d6901807a431024490"><div class="ttname"><a href="rte__ethdev_8h.html#a1880bf92c5e7d1d6901807a431024490">rte_eth_add_tx_callback</a></div><div class="ttdeci">const struct rte_eth_rxtx_callback * rte_eth_add_tx_callback(uint16_t port_id, uint16_t queue_id, rte_tx_callback_fn fn, void *user_param)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_a22dcfd3f5f2b34f657131d66132e23a7"><div class="ttname"><a href="rte__ethdev_8h.html#a22dcfd3f5f2b34f657131d66132e23a7">rte_eth_dev_is_valid_port</a></div><div class="ttdeci">int rte_eth_dev_is_valid_port(uint16_t port_id)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_a8a28375b279ded9125c99a46bf3956ef"><div class="ttname"><a href="rte__ethdev_8h.html#a8a28375b279ded9125c99a46bf3956ef">rte_eth_macaddr_get</a></div><div class="ttdeci">int rte_eth_macaddr_get(uint16_t port_id, struct rte_ether_addr *mac_addr)</div></div>
<div class="ttc" id="arte__common_8h_html_ac5169870c983b3463cb226bdb8a94880"><div class="ttname"><a href="rte__common_8h.html#ac5169870c983b3463cb226bdb8a94880">rte_exit</a></div><div class="ttdeci">__rte_noreturn void rte_exit(int exit_code, const char *format,...) __rte_format_printf(2</div></div>
<div class="ttc" id="arte__lcore_8h_html_a1728dc7f14571ba778d3b5b41aa09283"><div class="ttname"><a href="rte__lcore_8h.html#a1728dc7f14571ba778d3b5b41aa09283">rte_lcore_count</a></div><div class="ttdeci">unsigned int rte_lcore_count(void)</div></div>
<div class="ttc" id="astructrte__mbuf__dynfield_html_af0eef0d99d09298d94b2e9937b7a498a"><div class="ttname"><a href="structrte__mbuf__dynfield.html#af0eef0d99d09298d94b2e9937b7a498a">rte_mbuf_dynfield::name</a></div><div class="ttdeci">char name[RTE_MBUF_DYN_NAMESIZE]</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__dyn_8h_source.html#l00079">rte_mbuf_dyn.h:79</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a83e56cabbd31637efd648e3fc010392b"><div class="ttname"><a href="rte__ethdev_8h.html#a83e56cabbd31637efd648e3fc010392b">rte_eth_tx_burst</a></div><div class="ttdeci">static uint16_t rte_eth_tx_burst(uint16_t port_id, uint16_t queue_id, struct rte_mbuf **tx_pkts, uint16_t nb_pkts)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l05112">rte_ethdev.h:5112</a></div></div>
<div class="ttc" id="arte__lcore_8h_html_adfb2b334e7e73f534f25e8888a8a775f"><div class="ttname"><a href="rte__lcore_8h.html#adfb2b334e7e73f534f25e8888a8a775f">rte_lcore_id</a></div><div class="ttdeci">static unsigned rte_lcore_id(void)</div><div class="ttdef"><b>Definition:</b> <a href="rte__lcore_8h_source.html#l00075">rte_lcore.h:75</a></div></div>
<div class="ttc" id="arte__cycles_8h_html"><div class="ttname"><a href="rte__cycles_8h.html">rte_cycles.h</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_ae7110b5d5dced8f42505bff5d9e3f0ea"><div class="ttname"><a href="rte__ethdev_8h.html#ae7110b5d5dced8f42505bff5d9e3f0ea">DEV_TX_OFFLOAD_MBUF_FAST_FREE</a></div><div class="ttdeci">#define DEV_TX_OFFLOAD_MBUF_FAST_FREE</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01401">rte_ethdev.h:1397</a></div></div>
<div class="ttc" id="astructrte__mbuf__dynfield_html"><div class="ttname"><a href="structrte__mbuf__dynfield.html">rte_mbuf_dynfield</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__dyn_8h_source.html#l00078">rte_mbuf_dyn.h:78</a></div></div>
<div class="ttc" id="astructrte__mbuf_html_a8e0798404bf2cf5dabb84c5ba9a4f236"><div class="ttname"><a href="structrte__mbuf.html#a8e0798404bf2cf5dabb84c5ba9a4f236">rte_mbuf::port</a></div><div class="ttdeci">uint16_t port</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__core_8h_source.html#l00503">rte_mbuf_core.h:503</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_afdc834c1c52e9fb512301990468ca7c2"><div class="ttname"><a href="rte__ethdev_8h.html#afdc834c1c52e9fb512301990468ca7c2">rte_eth_dev_start</a></div><div class="ttdeci">int rte_eth_dev_start(uint16_t port_id)</div></div>
<div class="ttc" id="astructrte__eth__txmode_html_a6cfe3b3ee46e9a8b8c62a64294b0b564"><div class="ttname"><a href="structrte__eth__txmode.html#a6cfe3b3ee46e9a8b8c62a64294b0b564">rte_eth_txmode::offloads</a></div><div class="ttdeci">uint64_t offloads</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l00959">rte_ethdev.h:959</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a9ab708089665bebcd65cefe5383b24f2"><div class="ttname"><a href="rte__ethdev_8h.html#a9ab708089665bebcd65cefe5383b24f2">rte_eth_dev_count_avail</a></div><div class="ttdeci">uint16_t rte_eth_dev_count_avail(void)</div></div>
<div class="ttc" id="arte__common_8h_html_ae1a7c8799cb57669ae2ddf367b21533f"><div class="ttname"><a href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a></div><div class="ttdeci">#define __rte_unused</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00116">rte_common.h:116</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_acca9d5f3ba8e4e45478eb26a589aa127"><div class="ttname"><a href="rte__ethdev_8h.html#acca9d5f3ba8e4e45478eb26a589aa127">DEV_RX_OFFLOAD_TIMESTAMP</a></div><div class="ttdeci">#define DEV_RX_OFFLOAD_TIMESTAMP</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01353">rte_ethdev.h:1353</a></div></div>
<div class="ttc" id="astructrte__eth__rxmode_html_a6cfe3b3ee46e9a8b8c62a64294b0b564"><div class="ttname"><a href="structrte__eth__rxmode.html#a6cfe3b3ee46e9a8b8c62a64294b0b564">rte_eth_rxmode::offloads</a></div><div class="ttdeci">uint64_t offloads</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l00412">rte_ethdev.h:412</a></div></div>
<div class="ttc" id="arte__eal_8h_html_a5c3f4dddc25e38c5a186ecd8a69260e3"><div class="ttname"><a href="rte__eal_8h.html#a5c3f4dddc25e38c5a186ecd8a69260e3">rte_eal_init</a></div><div class="ttdeci">int rte_eal_init(int argc, char **argv)</div></div>
<div class="ttc" id="astructrte__mempool_html"><div class="ttname"><a href="structrte__mempool.html">rte_mempool</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__mempool_8h_source.html#l00207">rte_mempool.h:207</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_adb70723c985c3ea177591b67cfc49178"><div class="ttname"><a href="rte__ethdev_8h.html#adb70723c985c3ea177591b67cfc49178">rte_eth_add_rx_callback</a></div><div class="ttdeci">const struct rte_eth_rxtx_callback * rte_eth_add_rx_callback(uint16_t port_id, uint16_t queue_id, rte_rx_callback_fn fn, void *user_param)</div></div>
<div class="ttc" id="arte__mbuf_8h_html_a593921f13307803b94bbb4e0932db962"><div class="ttname"><a href="rte__mbuf_8h.html#a593921f13307803b94bbb4e0932db962">rte_pktmbuf_pool_create</a></div><div class="ttdeci">struct rte_mempool * rte_pktmbuf_pool_create(const char *name, unsigned n, unsigned cache_size, uint16_t priv_size, uint16_t data_room_size, int socket_id)</div></div>
<div class="ttc" id="arte__mbuf_8h_html_a1215458932900b7cd5192326fa4a6902"><div class="ttname"><a href="rte__mbuf_8h.html#a1215458932900b7cd5192326fa4a6902">rte_pktmbuf_free</a></div><div class="ttdeci">static void rte_pktmbuf_free(struct rte_mbuf *m)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf_8h_source.html#l01397">rte_mbuf.h:1397</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_a36ba70a5a6fce2c2c1f774828ba78f8d"><div class="ttname"><a href="rte__ethdev_8h.html#a36ba70a5a6fce2c2c1f774828ba78f8d">rte_eth_rx_queue_setup</a></div><div class="ttdeci">int rte_eth_rx_queue_setup(uint16_t port_id, uint16_t rx_queue_id, uint16_t nb_rx_desc, unsigned int socket_id, const struct rte_eth_rxconf *rx_conf, struct rte_mempool *mb_pool)</div></div>
<div class="ttc" id="arte__ethdev_8h_html"><div class="ttname"><a href="rte__ethdev_8h.html">rte_ethdev.h</a></div></div>
<div class="ttc" id="arte__mbuf__dyn_8h_html_ae3519e5885e62b3f99fa275b238418a5"><div class="ttname"><a href="rte__mbuf__dyn_8h.html#ae3519e5885e62b3f99fa275b238418a5">RTE_MBUF_DYNFIELD</a></div><div class="ttdeci">#define RTE_MBUF_DYNFIELD(m, offset, type)</div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__dyn_8h_source.html#l00226">rte_mbuf_dyn.h:226</a></div></div>
<div class="ttc" id="arte__mbuf_8h_html"><div class="ttname"><a href="rte__mbuf_8h.html">rte_mbuf.h</a></div></div>
<div class="ttc" id="astructrte__eth__conf_html_a1c33c9d2e5cdb14b62ed386bf3159e07"><div class="ttname"><a href="structrte__eth__conf.html#a1c33c9d2e5cdb14b62ed386bf3159e07">rte_eth_conf::txmode</a></div><div class="ttdeci">struct rte_eth_txmode txmode</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01294">rte_ethdev.h:1302</a></div></div>
<div class="ttc" id="arte__mbuf__dyn_8h_html_a3984617f05c58035165f4cd48e777581"><div class="ttname"><a href="rte__mbuf__dyn_8h.html#a3984617f05c58035165f4cd48e777581">rte_mbuf_dynfield_register</a></div><div class="ttdeci">__rte_experimental int rte_mbuf_dynfield_register(const struct rte_mbuf_dynfield *params)</div></div>
<div class="ttc" id="arte__common_8h_html_adba9930c1f0c89d4aab7d58c44ee835b"><div class="ttname"><a href="rte__common_8h.html#adba9930c1f0c89d4aab7d58c44ee835b">__rte_noreturn</a></div><div class="ttdeci">#define __rte_noreturn</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00221">rte_common.h:221</a></div></div>
<div class="ttc" id="astructrte__eth__dev__info_html"><div class="ttname"><a href="structrte__eth__dev__info.html">rte_eth_dev_info</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01504">rte_ethdev.h:1504</a></div></div>
<div class="ttc" id="astructrte__ether__addr_html"><div class="ttname"><a href="structrte__ether__addr.html">rte_ether_addr</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ether_8h_source.html#l00064">rte_ether.h:64</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_ad7b46c67203d37fe3a34f11076d970d6"><div class="ttname"><a href="rte__ethdev_8h.html#ad7b46c67203d37fe3a34f11076d970d6">RTE_ETH_FOREACH_DEV</a></div><div class="ttdeci">#define RTE_ETH_FOREACH_DEV(p)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01858">rte_ethdev.h:1858</a></div></div>
<div class="ttc" id="astructrte__eth__conf_html"><div class="ttname"><a href="structrte__eth__conf.html">rte_eth_conf</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ethdev_8h_source.html#l01293">rte_ethdev.h:1293</a></div></div>
<div class="ttc" id="arte__ethdev_8h_html_ad032e25f712e6ffeb0c19eab1ec1fd2e"><div class="ttname"><a href="rte__ethdev_8h.html#ad032e25f712e6ffeb0c19eab1ec1fd2e">rte_eth_dev_socket_id</a></div><div class="ttdeci">int rte_eth_dev_socket_id(uint16_t port_id)</div></div>
<div class="ttc" id="arte__ethdev_8h_html_a4346bf07a0d302c9ba4fe06baffd3196"><div class="ttname"><a href="rte__ethdev_8h.html#a4346bf07a0d302c9ba4fe06baffd3196">rte_eth_read_clock</a></div><div class="ttdeci">__rte_experimental int rte_eth_read_clock(uint16_t port_id, uint64_t *clock)</div></div>
<div class="ttc" id="arte__cycles_8h_html_af73b844d50b98de74b1a0e1730262f85"><div class="ttname"><a href="rte__cycles_8h.html#af73b844d50b98de74b1a0e1730262f85">rte_delay_ms</a></div><div class="ttdeci">static void rte_delay_ms(unsigned ms)</div><div class="ttdef"><b>Definition:</b> <a href="rte__cycles_8h_source.html#l00148">rte_cycles.h:148</a></div></div>
<div class="ttc" id="arte__mbuf__dyn_8h_html_a7635e95a6bea0811e01fe06a2a55c1c0"><div class="ttname"><a href="rte__mbuf__dyn_8h.html#a7635e95a6bea0811e01fe06a2a55c1c0">rte_mbuf_dyn_rx_timestamp_register</a></div><div class="ttdeci">__rte_experimental int rte_mbuf_dyn_rx_timestamp_register(int *field_offset, uint64_t *rx_flag)</div></div>
<div class="ttc" id="arte__ether_8h_html_af1fb088707ce5b2ebb7825cb69b5cb58"><div class="ttname"><a href="rte__ether_8h.html#af1fb088707ce5b2ebb7825cb69b5cb58">RTE_ETHER_MAX_LEN</a></div><div class="ttdeci">#define RTE_ETHER_MAX_LEN</div><div class="ttdef"><b>Definition:</b> <a href="rte__ether_8h_source.html#l00037">rte_ether.h:37</a></div></div>
<div class="ttc" id="arte__errno_8h_html_a66171a00ea02084317df4dc9c2adaccb"><div class="ttname"><a href="rte__errno_8h.html#a66171a00ea02084317df4dc9c2adaccb">rte_errno</a></div><div class="ttdeci">#define rte_errno</div><div class="ttdef"><b>Definition:</b> <a href="rte__errno_8h_source.html#l00029">rte_errno.h:29</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
