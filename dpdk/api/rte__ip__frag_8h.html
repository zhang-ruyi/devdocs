<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: lib/librte_ip_frag/rte_ip_frag.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_425fd6afd4367244802c1f095c2bd91a.html">librte_ip_frag</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_ip_frag.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;rte_config.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__malloc_8h_source.html">rte_malloc.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__memory_8h_source.html">rte_memory.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__ip_8h_source.html">rte_ip.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__byteorder_8h_source.html">rte_byteorder.h</a>&gt;</code><br />
</div>
<p><a href="rte__ip__frag_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__ip__frag__death__row.html">rte_ip_frag_death_row</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structip__frag__tbl__stat.html">ip_frag_tbl_stat</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__ip__frag__tbl.html">rte_ip_frag_tbl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a42258c62091fdfe18263215c9682964c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ip__frag_8h.html#a42258c62091fdfe18263215c9682964c">IP_FRAG_DEATH_ROW_LEN</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a42258c62091fdfe18263215c9682964c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:acb6f6fa3e73244ffcf5c366390b4a4ed"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="rte__ip__frag_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda0f846ec86005d86bd9d696bbde76f120">IP_LAST_FRAG_IDX</a>, 
<a class="el" href="rte__ip__frag_8h.html#acb6f6fa3e73244ffcf5c366390b4a4eda4f87105682877810dd4e36afef937f5a">IP_FIRST_FRAG_IDX</a>, 
<a class="el" href="rte__ip__frag_8h.html#acb6f6fa3e73244ffcf5c366390b4a4edaf617418f5d898ea68b626b0f736fff66">IP_MIN_FRAG_NUM</a>, 
<a class="el" href="rte__ip__frag_8h.html#acb6f6fa3e73244ffcf5c366390b4a4edafe920c928a60243e882269a26376c418">IP_MAX_FRAG_NUM</a> = RTE_LIBRTE_IP_FRAG_MAX_FRAG
 }</td></tr>
<tr class="separator:acb6f6fa3e73244ffcf5c366390b4a4ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad00c0949e82c8c4126d8565339b93350"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structrte__ip__frag__tbl.html">rte_ip_frag_tbl</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ip__frag_8h.html#ad00c0949e82c8c4126d8565339b93350">rte_ip_frag_table_create</a> (uint32_t bucket_num, uint32_t bucket_entries, uint32_t max_entries, uint64_t max_cycles, int socket_id)</td></tr>
<tr class="separator:ad00c0949e82c8c4126d8565339b93350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e5330fe8ee35b7e9e381d1a415f359"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ip__frag_8h.html#aa7e5330fe8ee35b7e9e381d1a415f359">rte_ip_frag_table_destroy</a> (struct <a class="el" href="structrte__ip__frag__tbl.html">rte_ip_frag_tbl</a> *tbl)</td></tr>
<tr class="separator:aa7e5330fe8ee35b7e9e381d1a415f359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3e47fcd41f6ee74b920eabc0bc86565"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ip__frag_8h.html#ae3e47fcd41f6ee74b920eabc0bc86565">rte_ipv6_fragment_packet</a> (struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *pkt_in, struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **pkts_out, uint16_t nb_pkts_out, uint16_t mtu_size, struct <a class="el" href="structrte__mempool.html">rte_mempool</a> *pool_direct, struct <a class="el" href="structrte__mempool.html">rte_mempool</a> *pool_indirect)</td></tr>
<tr class="separator:ae3e47fcd41f6ee74b920eabc0bc86565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a5e68f12b9184d13950a7f685ec9aed"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ip__frag_8h.html#a3a5e68f12b9184d13950a7f685ec9aed">rte_ipv6_frag_reassemble_packet</a> (struct <a class="el" href="structrte__ip__frag__tbl.html">rte_ip_frag_tbl</a> *tbl, struct <a class="el" href="structrte__ip__frag__death__row.html">rte_ip_frag_death_row</a> *dr, struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *mb, uint64_t tms, struct <a class="el" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a> *ip_hdr, struct ipv6_extension_fragment *frag_hdr)</td></tr>
<tr class="separator:a3a5e68f12b9184d13950a7f685ec9aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a946fc05c631bedfaa390782a6bf89012"><td class="memItemLeft" align="right" valign="top">static struct ipv6_extension_fragment *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ip__frag_8h.html#a946fc05c631bedfaa390782a6bf89012">rte_ipv6_frag_get_ipv6_fragment_header</a> (struct <a class="el" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a> *hdr)</td></tr>
<tr class="separator:a946fc05c631bedfaa390782a6bf89012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec59118790a4babb24bd5636b1e60d9"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ip__frag_8h.html#a0ec59118790a4babb24bd5636b1e60d9">rte_ipv4_fragment_packet</a> (struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *pkt_in, struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **pkts_out, uint16_t nb_pkts_out, uint16_t mtu_size, struct <a class="el" href="structrte__mempool.html">rte_mempool</a> *pool_direct, struct <a class="el" href="structrte__mempool.html">rte_mempool</a> *pool_indirect)</td></tr>
<tr class="separator:a0ec59118790a4babb24bd5636b1e60d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2da601515eb520c7d11a9ca53d225003"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ip__frag_8h.html#a2da601515eb520c7d11a9ca53d225003">rte_ipv4_frag_reassemble_packet</a> (struct <a class="el" href="structrte__ip__frag__tbl.html">rte_ip_frag_tbl</a> *tbl, struct <a class="el" href="structrte__ip__frag__death__row.html">rte_ip_frag_death_row</a> *dr, struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *mb, uint64_t tms, struct <a class="el" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a> *ip_hdr)</td></tr>
<tr class="separator:a2da601515eb520c7d11a9ca53d225003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a18f3aadcc2f5bdd9ccdd306860ba5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ip__frag_8h.html#a20a18f3aadcc2f5bdd9ccdd306860ba5">rte_ipv4_frag_pkt_is_fragmented</a> (const struct <a class="el" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a> *hdr)</td></tr>
<tr class="separator:a20a18f3aadcc2f5bdd9ccdd306860ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7d0a604738e3a8d5b7f3507c176510b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ip__frag_8h.html#af7d0a604738e3a8d5b7f3507c176510b">rte_ip_frag_free_death_row</a> (struct <a class="el" href="structrte__ip__frag__death__row.html">rte_ip_frag_death_row</a> *dr, uint32_t prefetch)</td></tr>
<tr class="separator:af7d0a604738e3a8d5b7f3507c176510b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5056971c61a8661b808ef8daf28777e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ip__frag_8h.html#a5056971c61a8661b808ef8daf28777e0">rte_ip_frag_table_statistics_dump</a> (FILE *f, const struct <a class="el" href="structrte__ip__frag__tbl.html">rte_ip_frag_tbl</a> *tbl)</td></tr>
<tr class="separator:a5056971c61a8661b808ef8daf28777e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c01ccf91793e9de3040cc8c2b00332d"><td class="memItemLeft" align="right" valign="top">__rte_experimental void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__ip__frag_8h.html#a0c01ccf91793e9de3040cc8c2b00332d">rte_frag_table_del_expired_entries</a> (struct <a class="el" href="structrte__ip__frag__tbl.html">rte_ip_frag_tbl</a> *tbl, struct <a class="el" href="structrte__ip__frag__death__row.html">rte_ip_frag_death_row</a> *dr, uint64_t tms)</td></tr>
<tr class="separator:a0c01ccf91793e9de3040cc8c2b00332d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTE IP Fragmentation and Reassembly</p>
<p>Implementation of IP packet fragmentation and reassembly. </p>

<p class="definition">Definition in file <a class="el" href="rte__ip__frag_8h_source.html">rte_ip_frag.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a42258c62091fdfe18263215c9682964c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42258c62091fdfe18263215c9682964c">&#9670;&nbsp;</a></span>IP_FRAG_DEATH_ROW_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IP_FRAG_DEATH_ROW_LEN&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>death row size (in packets) </p>

<p class="definition">Definition at line <a class="el" href="rte__ip__frag_8h_source.html#l00074">74</a> of file <a class="el" href="rte__ip__frag_8h_source.html">rte_ip_frag.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="acb6f6fa3e73244ffcf5c366390b4a4ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb6f6fa3e73244ffcf5c366390b4a4ed">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="acb6f6fa3e73244ffcf5c366390b4a4eda0f846ec86005d86bd9d696bbde76f120"></a>IP_LAST_FRAG_IDX&#160;</td><td class="fielddoc"><p>index of last fragment </p>
</td></tr>
<tr><td class="fieldname"><a id="acb6f6fa3e73244ffcf5c366390b4a4eda4f87105682877810dd4e36afef937f5a"></a>IP_FIRST_FRAG_IDX&#160;</td><td class="fielddoc"><p>index of first fragment </p>
</td></tr>
<tr><td class="fieldname"><a id="acb6f6fa3e73244ffcf5c366390b4a4edaf617418f5d898ea68b626b0f736fff66"></a>IP_MIN_FRAG_NUM&#160;</td><td class="fielddoc"><p>minimum number of fragments </p>
</td></tr>
<tr><td class="fieldname"><a id="acb6f6fa3e73244ffcf5c366390b4a4edafe920c928a60243e882269a26376c418"></a>IP_MAX_FRAG_NUM&#160;</td><td class="fielddoc"><p>maximum number of fragments per packet </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="rte__ip__frag_8h_source.html#l00030">30</a> of file <a class="el" href="rte__ip__frag_8h_source.html">rte_ip_frag.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad00c0949e82c8c4126d8565339b93350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad00c0949e82c8c4126d8565339b93350">&#9670;&nbsp;</a></span>rte_ip_frag_table_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structrte__ip__frag__tbl.html">rte_ip_frag_tbl</a>* rte_ip_frag_table_create </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bucket_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bucket_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>max_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>max_cycles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>socket_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new IP fragmentation table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_num</td><td>Number of buckets in the hash table. </td></tr>
    <tr><td class="paramname">bucket_entries</td><td>Number of entries per bucket (e.g. hash associativity). Should be power of two. </td></tr>
    <tr><td class="paramname">max_entries</td><td>Maximum number of entries that could be stored in the table. The value should be less or equal then bucket_num * bucket_entries. </td></tr>
    <tr><td class="paramname">max_cycles</td><td>Maximum TTL in cycles for each fragmented packet. </td></tr>
    <tr><td class="paramname">socket_id</td><td>The <em>socket_id</em> argument is the socket identifier in the case of NUMA. The value can be <em>SOCKET_ID_ANY</em> if there is no NUMA constraints. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the new allocated fragmentation table, on success. NULL on error. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_reassembly_2main_8c-example.html#a71">examples/ip_reassembly/main.c</a>, and <a class="el" href="examples_2ipsec-secgw_2ipsec-secgw_8c-example.html#a175">examples/ipsec-secgw/ipsec-secgw.c</a>.</dd>
</dl>

</div>
</div>
<a id="aa7e5330fe8ee35b7e9e381d1a415f359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7e5330fe8ee35b7e9e381d1a415f359">&#9670;&nbsp;</a></span>rte_ip_frag_table_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_ip_frag_table_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ip__frag__tbl.html">rte_ip_frag_tbl</a> *&#160;</td>
          <td class="paramname"><em>tbl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free allocated IP fragmentation table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tbl</td><td>Fragmentation table to free. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae3e47fcd41f6ee74b920eabc0bc86565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3e47fcd41f6ee74b920eabc0bc86565">&#9670;&nbsp;</a></span>rte_ipv6_fragment_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_ipv6_fragment_packet </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *&#160;</td>
          <td class="paramname"><em>pkt_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **&#160;</td>
          <td class="paramname"><em>pkts_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>nb_pkts_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mtu_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mempool.html">rte_mempool</a> *&#160;</td>
          <td class="paramname"><em>pool_direct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mempool.html">rte_mempool</a> *&#160;</td>
          <td class="paramname"><em>pool_indirect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function implements the fragmentation of IPv6 packets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pkt_in</td><td>The input packet. </td></tr>
    <tr><td class="paramname">pkts_out</td><td>Array storing the output fragments. </td></tr>
    <tr><td class="paramname">nb_pkts_out</td><td>Number of fragments. </td></tr>
    <tr><td class="paramname">mtu_size</td><td>Size in bytes of the Maximum Transfer Unit (MTU) for the outgoing IPv6 datagrams. This value includes the size of the IPv6 header. </td></tr>
    <tr><td class="paramname">pool_direct</td><td>MBUF pool used for allocating direct buffers for the output fragments. </td></tr>
    <tr><td class="paramname">pool_indirect</td><td>MBUF pool used for allocating indirect buffers for the output fragments. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful completion - number of output fragments placed in the pkts_out array. Otherwise - (-1) * errno. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_fragmentation_2main_8c-example.html#a36">examples/ip_fragmentation/main.c</a>, and <a class="el" href="examples_2ipsec-secgw_2ipsec-secgw_8c-example.html#a62">examples/ipsec-secgw/ipsec-secgw.c</a>.</dd>
</dl>

</div>
</div>
<a id="a3a5e68f12b9184d13950a7f685ec9aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a5e68f12b9184d13950a7f685ec9aed">&#9670;&nbsp;</a></span>rte_ipv6_frag_reassemble_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a>* rte_ipv6_frag_reassemble_packet </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ip__frag__tbl.html">rte_ip_frag_tbl</a> *&#160;</td>
          <td class="paramname"><em>tbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__ip__frag__death__row.html">rte_ip_frag_death_row</a> *&#160;</td>
          <td class="paramname"><em>dr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *&#160;</td>
          <td class="paramname"><em>mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>tms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a> *&#160;</td>
          <td class="paramname"><em>ip_hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ipv6_extension_fragment *&#160;</td>
          <td class="paramname"><em>frag_hdr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function implements reassembly of fragmented IPv6 packets. Incoming mbuf should have its l2_len/l3_len fields setup correctly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tbl</td><td>Table where to lookup/add the fragmented packet. </td></tr>
    <tr><td class="paramname">dr</td><td>Death row to free buffers to </td></tr>
    <tr><td class="paramname">mb</td><td>Incoming mbuf with IPv6 fragment. </td></tr>
    <tr><td class="paramname">tms</td><td>Fragment arrival timestamp. </td></tr>
    <tr><td class="paramname">ip_hdr</td><td>Pointer to the IPv6 header. </td></tr>
    <tr><td class="paramname">frag_hdr</td><td>Pointer to the IPv6 fragment extension header. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to mbuf for reassembled packet, or NULL if:<ul>
<li>an error occurred.</li>
<li>not all fragments of the packet are collected yet. </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_reassembly_2main_8c-example.html#a40">examples/ip_reassembly/main.c</a>, and <a class="el" href="examples_2ipsec-secgw_2ipsec-secgw_8c-example.html#a173">examples/ipsec-secgw/ipsec-secgw.c</a>.</dd>
</dl>

</div>
</div>
<a id="a946fc05c631bedfaa390782a6bf89012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a946fc05c631bedfaa390782a6bf89012">&#9670;&nbsp;</a></span>rte_ipv6_frag_get_ipv6_fragment_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct ipv6_extension_fragment* rte_ipv6_frag_get_ipv6_fragment_header </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a> *&#160;</td>
          <td class="paramname"><em>hdr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return a pointer to the packet's fragment header, if found. It only looks at the extension header that's right after the fixed IPv6 header, and doesn't follow the whole chain of extension headers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdr</td><td>Pointer to the IPv6 header. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the IPv6 fragment extension header, or NULL if it's not present. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_reassembly_2main_8c-example.html#a39">examples/ip_reassembly/main.c</a>, and <a class="el" href="examples_2ipsec-secgw_2ipsec-secgw_8c-example.html#a172">examples/ipsec-secgw/ipsec-secgw.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rte__ip__frag_8h_source.html#l00215">215</a> of file <a class="el" href="rte__ip__frag_8h_source.html">rte_ip_frag.h</a>.</p>

</div>
</div>
<a id="a0ec59118790a4babb24bd5636b1e60d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ec59118790a4babb24bd5636b1e60d9">&#9670;&nbsp;</a></span>rte_ipv4_fragment_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t rte_ipv4_fragment_packet </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *&#160;</td>
          <td class="paramname"><em>pkt_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **&#160;</td>
          <td class="paramname"><em>pkts_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>nb_pkts_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mtu_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mempool.html">rte_mempool</a> *&#160;</td>
          <td class="paramname"><em>pool_direct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mempool.html">rte_mempool</a> *&#160;</td>
          <td class="paramname"><em>pool_indirect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IPv4 fragmentation.</p>
<p>This function implements the fragmentation of IPv4 packets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pkt_in</td><td>The input packet. </td></tr>
    <tr><td class="paramname">pkts_out</td><td>Array storing the output fragments. </td></tr>
    <tr><td class="paramname">nb_pkts_out</td><td>Number of fragments. </td></tr>
    <tr><td class="paramname">mtu_size</td><td>Size in bytes of the Maximum Transfer Unit (MTU) for the outgoing IPv4 datagrams. This value includes the size of the IPv4 header. </td></tr>
    <tr><td class="paramname">pool_direct</td><td>MBUF pool used for allocating direct buffers for the output fragments. </td></tr>
    <tr><td class="paramname">pool_indirect</td><td>MBUF pool used for allocating indirect buffers for the output fragments. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful completion - number of output fragments placed in the pkts_out array. Otherwise - (-1) * errno. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_fragmentation_2main_8c-example.html#a29">examples/ip_fragmentation/main.c</a>, and <a class="el" href="examples_2ipsec-secgw_2ipsec-secgw_8c-example.html#a61">examples/ipsec-secgw/ipsec-secgw.c</a>.</dd>
</dl>

</div>
</div>
<a id="a2da601515eb520c7d11a9ca53d225003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2da601515eb520c7d11a9ca53d225003">&#9670;&nbsp;</a></span>rte_ipv4_frag_reassemble_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a>* rte_ipv4_frag_reassemble_packet </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ip__frag__tbl.html">rte_ip_frag_tbl</a> *&#160;</td>
          <td class="paramname"><em>tbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__ip__frag__death__row.html">rte_ip_frag_death_row</a> *&#160;</td>
          <td class="paramname"><em>dr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *&#160;</td>
          <td class="paramname"><em>mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>tms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a> *&#160;</td>
          <td class="paramname"><em>ip_hdr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function implements reassembly of fragmented IPv4 packets. Incoming mbufs should have its l2_len/l3_len fields setup correctly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tbl</td><td>Table where to lookup/add the fragmented packet. </td></tr>
    <tr><td class="paramname">dr</td><td>Death row to free buffers to </td></tr>
    <tr><td class="paramname">mb</td><td>Incoming mbuf with IPv4 fragment. </td></tr>
    <tr><td class="paramname">tms</td><td>Fragment arrival timestamp. </td></tr>
    <tr><td class="paramname">ip_hdr</td><td>Pointer to the IPV4 header inside the fragment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to mbuf for reassembled packet, or NULL if:<ul>
<li>an error occurred.</li>
<li>not all fragments of the packet are collected yet. </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_reassembly_2main_8c-example.html#a27">examples/ip_reassembly/main.c</a>, and <a class="el" href="examples_2ipsec-secgw_2ipsec-secgw_8c-example.html#a170">examples/ipsec-secgw/ipsec-secgw.c</a>.</dd>
</dl>

</div>
</div>
<a id="a20a18f3aadcc2f5bdd9ccdd306860ba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20a18f3aadcc2f5bdd9ccdd306860ba5">&#9670;&nbsp;</a></span>rte_ipv4_frag_pkt_is_fragmented()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rte_ipv4_frag_pkt_is_fragmented </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a> *&#160;</td>
          <td class="paramname"><em>hdr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check if the IPv4 packet is fragmented</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdr</td><td>IPv4 header of the packet </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if fragmented, 0 if not fragmented </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_reassembly_2main_8c-example.html#a24">examples/ip_reassembly/main.c</a>, and <a class="el" href="examples_2ipsec-secgw_2ipsec-secgw_8c-example.html#a169">examples/ipsec-secgw/ipsec-secgw.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rte__ip__frag_8h_source.html#l00285">285</a> of file <a class="el" href="rte__ip__frag_8h_source.html">rte_ip_frag.h</a>.</p>

</div>
</div>
<a id="af7d0a604738e3a8d5b7f3507c176510b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7d0a604738e3a8d5b7f3507c176510b">&#9670;&nbsp;</a></span>rte_ip_frag_free_death_row()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_ip_frag_free_death_row </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ip__frag__death__row.html">rte_ip_frag_death_row</a> *&#160;</td>
          <td class="paramname"><em>dr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>prefetch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free mbufs on a given death row.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dr</td><td>Death row to free mbufs in. </td></tr>
    <tr><td class="paramname">prefetch</td><td>How many buffers to prefetch before freeing. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_reassembly_2main_8c-example.html#a54">examples/ip_reassembly/main.c</a>, and <a class="el" href="examples_2ipsec-secgw_2ipsec-secgw_8c-example.html#a174">examples/ipsec-secgw/ipsec-secgw.c</a>.</dd>
</dl>

</div>
</div>
<a id="a5056971c61a8661b808ef8daf28777e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5056971c61a8661b808ef8daf28777e0">&#9670;&nbsp;</a></span>rte_ip_frag_table_statistics_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_ip_frag_table_statistics_dump </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structrte__ip__frag__tbl.html">rte_ip_frag_tbl</a> *&#160;</td>
          <td class="paramname"><em>tbl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dump fragmentation table statistics to file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>File to dump statistics to </td></tr>
    <tr><td class="paramname">tbl</td><td>Fragmentation table to dump statistics from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2ip_reassembly_2main_8c-example.html#a78">examples/ip_reassembly/main.c</a>.</dd>
</dl>

</div>
</div>
<a id="a0c01ccf91793e9de3040cc8c2b00332d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c01ccf91793e9de3040cc8c2b00332d">&#9670;&nbsp;</a></span>rte_frag_table_del_expired_entries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__rte_experimental void rte_frag_table_del_expired_entries </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__ip__frag__tbl.html">rte_ip_frag_tbl</a> *&#160;</td>
          <td class="paramname"><em>tbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__ip__frag__death__row.html">rte_ip_frag_death_row</a> *&#160;</td>
          <td class="paramname"><em>dr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>tms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete expired fragments</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tbl</td><td>Table to delete expired fragments from </td></tr>
    <tr><td class="paramname">dr</td><td>Death row to free buffers to </td></tr>
    <tr><td class="paramname">tms</td><td>Current timestamp </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
