<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: examples/pipeline/thread.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">examples/pipeline/thread.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/* SPDX-License-Identifier: BSD-3-Clause</span></div>
<div class="line"><span class="comment"> * Copyright(c) 2020 Intel Corporation</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__common_8h.html">rte_common.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__cycles_8h.html">rte_cycles.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__lcore_8h.html">rte_lcore.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__ring_8h.html">rte_ring.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__table__acl_8h.html">rte_table_acl.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__table__array_8h.html">rte_table_array.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__table__hash_8h.html">rte_table_hash.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__table__lpm_8h.html">rte_table_lpm.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__table__lpm__ipv6_8h.html">rte_table_lpm_ipv6.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;obj.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;thread.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef THREAD_PIPELINES_MAX</span></div>
<div class="line"><span class="preprocessor">#define THREAD_PIPELINES_MAX                               256</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef THREAD_MSGQ_SIZE</span></div>
<div class="line"><span class="preprocessor">#define THREAD_MSGQ_SIZE                                   64</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef THREAD_TIMER_PERIOD_MS</span></div>
<div class="line"><span class="preprocessor">#define THREAD_TIMER_PERIOD_MS                             100</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>thread {</div>
<div class="line">    <span class="keyword">struct </span><a name="_a0"></a><a class="code" href="structrte__ring.html">rte_ring</a> *msgq_req;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> *msgq_rsp;</div>
<div class="line"> </div>
<div class="line">    uint32_t enabled;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>thread thread[RTE_MAX_LCORE];</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>pipeline_data {</div>
<div class="line">    <span class="keyword">struct </span>rte_swx_pipeline *p;</div>
<div class="line">    uint64_t timer_period; <span class="comment">/* Measured in CPU cycles. */</span></div>
<div class="line">    uint64_t time_next;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>thread_data {</div>
<div class="line">    <span class="keyword">struct </span>rte_swx_pipeline *p[THREAD_PIPELINES_MAX];</div>
<div class="line">    uint32_t n_pipelines;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span>pipeline_data pipeline_data[THREAD_PIPELINES_MAX];</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> *msgq_req;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> *msgq_rsp;</div>
<div class="line">    uint64_t timer_period; <span class="comment">/* Measured in CPU cycles. */</span></div>
<div class="line">    uint64_t time_next;</div>
<div class="line">    uint64_t time_next_min;</div>
<div class="line">} <a name="a1"></a><a class="code" href="rte__common_8h.html#a38e32f822bc941e90fdcbe5a9c69b178">__rte_cache_aligned</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>thread_data thread_data[RTE_MAX_LCORE];</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">thread_free(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    uint32_t i;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; RTE_MAX_LCORE; i++) {</div>
<div class="line">        <span class="keyword">struct </span>thread *t = &amp;thread[i];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!<a name="a2"></a><a class="code" href="rte__lcore_8h.html#a5404ee6ac26cbe5a4f4ddef44d690b76">rte_lcore_is_enabled</a>(i))</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* MSGQs */</span></div>
<div class="line">        <span class="keywordflow">if</span> (t-&gt;msgq_req)</div>
<div class="line">            <a name="a3"></a><a class="code" href="rte__ring_8h.html#a564e012c1eb4ae08f9eea3acfd08b377">rte_ring_free</a>(t-&gt;msgq_req);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (t-&gt;msgq_rsp)</div>
<div class="line">            <a class="code" href="rte__ring_8h.html#a564e012c1eb4ae08f9eea3acfd08b377">rte_ring_free</a>(t-&gt;msgq_rsp);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">thread_init(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    uint32_t i;</div>
<div class="line"> </div>
<div class="line">    <a name="a4"></a><a class="code" href="rte__lcore_8h.html#ac779e61584eb9d087c3e20bf2d1150c8">RTE_LCORE_FOREACH_WORKER</a>(i) {</div>
<div class="line">        <span class="keywordtype">char</span> name[NAME_MAX];</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> *msgq_req, *msgq_rsp;</div>
<div class="line">        <span class="keyword">struct </span>thread *t = &amp;thread[i];</div>
<div class="line">        <span class="keyword">struct </span>thread_data *t_data = &amp;thread_data[i];</div>
<div class="line">        uint32_t cpu_id = <a name="a5"></a><a class="code" href="rte__lcore_8h.html#a023b4909f52c3cdf0351d71d2b5032bc">rte_lcore_to_socket_id</a>(i);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* MSGQs */</span></div>
<div class="line">        snprintf(name, <span class="keyword">sizeof</span>(name), <span class="stringliteral">&quot;THREAD-%04x-MSGQ-REQ&quot;</span>, i);</div>
<div class="line"> </div>
<div class="line">        msgq_req = <a name="a6"></a><a class="code" href="rte__ring_8h.html#ae4dece63653850041afd5c16d3d6e052">rte_ring_create</a>(name,</div>
<div class="line">            THREAD_MSGQ_SIZE,</div>
<div class="line">            cpu_id,</div>
<div class="line">            <a name="a7"></a><a class="code" href="rte__ring__core_8h.html#a127c66adbeab4653a47649993b94f35b">RING_F_SP_ENQ</a> | <a name="a8"></a><a class="code" href="rte__ring__core_8h.html#a421a61b2f94cdf65b3a6ac146c492fb9">RING_F_SC_DEQ</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (msgq_req == NULL) {</div>
<div class="line">            thread_free();</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        snprintf(name, <span class="keyword">sizeof</span>(name), <span class="stringliteral">&quot;THREAD-%04x-MSGQ-RSP&quot;</span>, i);</div>
<div class="line"> </div>
<div class="line">        msgq_rsp = <a class="code" href="rte__ring_8h.html#ae4dece63653850041afd5c16d3d6e052">rte_ring_create</a>(name,</div>
<div class="line">            THREAD_MSGQ_SIZE,</div>
<div class="line">            cpu_id,</div>
<div class="line">            <a class="code" href="rte__ring__core_8h.html#a127c66adbeab4653a47649993b94f35b">RING_F_SP_ENQ</a> | <a class="code" href="rte__ring__core_8h.html#a421a61b2f94cdf65b3a6ac146c492fb9">RING_F_SC_DEQ</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (msgq_rsp == NULL) {</div>
<div class="line">            thread_free();</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Control thread records */</span></div>
<div class="line">        t-&gt;msgq_req = msgq_req;</div>
<div class="line">        t-&gt;msgq_rsp = msgq_rsp;</div>
<div class="line">        t-&gt;enabled = 1;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Data plane thread records */</span></div>
<div class="line">        t_data-&gt;n_pipelines = 0;</div>
<div class="line">        t_data-&gt;msgq_req = msgq_req;</div>
<div class="line">        t_data-&gt;msgq_rsp = msgq_rsp;</div>
<div class="line">        t_data-&gt;timer_period =</div>
<div class="line">            (<a name="a9"></a><a class="code" href="rte__cycles_8h.html#ae016e608f344823e677819d8f04264c5">rte_get_tsc_hz</a>() * THREAD_TIMER_PERIOD_MS) / 1000;</div>
<div class="line">        t_data-&gt;time_next = <a name="a10"></a><a class="code" href="rte__cycles_8h.html#a34aaedfb8b9fa4f83d4cb3108cda2041">rte_get_tsc_cycles</a>() + t_data-&gt;timer_period;</div>
<div class="line">        t_data-&gt;time_next_min = t_data-&gt;time_next;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span></div>
<div class="line">thread_is_running(uint32_t thread_id)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">enum</span> <a class="code" href="rte__launch_8h.html#aac7785c53560a19ce4108c510e5024c9">rte_lcore_state_t</a> thread_state;</div>
<div class="line"> </div>
<div class="line">    thread_state = <a name="a11"></a><a class="code" href="rte__launch_8h.html#a66d883d90f6112489b69c996a2f6f2ab">rte_eal_get_lcore_state</a>(thread_id);</div>
<div class="line">    <span class="keywordflow">return</span> (thread_state == <a name="a12"></a><a class="code" href="rte__launch_8h.html#aac7785c53560a19ce4108c510e5024c9a1061be6c3fb88d32829cba6f6b2be304">RUNNING</a>) ? 1 : 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> thread_req_type {</div>
<div class="line">    THREAD_REQ_PIPELINE_ENABLE = 0,</div>
<div class="line">    THREAD_REQ_PIPELINE_DISABLE,</div>
<div class="line">    THREAD_REQ_MAX</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>thread_msg_req {</div>
<div class="line">    <span class="keyword">enum</span> thread_req_type type;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">union </span>{</div>
<div class="line">        <span class="keyword">struct </span>{</div>
<div class="line">            <span class="keyword">struct </span>rte_swx_pipeline *p;</div>
<div class="line">            uint32_t timer_period_ms;</div>
<div class="line">        } pipeline_enable;</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">struct </span>{</div>
<div class="line">            <span class="keyword">struct </span>rte_swx_pipeline *p;</div>
<div class="line">        } pipeline_disable;</div>
<div class="line">    };</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>thread_msg_rsp {</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>thread_msg_req *</div>
<div class="line">thread_msg_alloc(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> size = <a name="a13"></a><a class="code" href="rte__common_8h.html#a8df8b303b8ea240cf6aebf937fd21eaf">RTE_MAX</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> thread_msg_req),</div>
<div class="line">        <span class="keyword">sizeof</span>(<span class="keyword">struct</span> thread_msg_rsp));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> calloc(1, size);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">thread_msg_free(<span class="keyword">struct</span> thread_msg_rsp *rsp)</div>
<div class="line">{</div>
<div class="line">    free(rsp);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>thread_msg_rsp *</div>
<div class="line">thread_msg_send_recv(uint32_t thread_id,</div>
<div class="line">    <span class="keyword">struct</span> thread_msg_req *req)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>thread *t = &amp;thread[thread_id];</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> *msgq_req = t-&gt;msgq_req;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> *msgq_rsp = t-&gt;msgq_rsp;</div>
<div class="line">    <span class="keyword">struct </span>thread_msg_rsp *rsp;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* send */</span></div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        status = <a name="a14"></a><a class="code" href="rte__ring_8h.html#afd7f172fbce0358e0b140fb9bd82aa7a">rte_ring_sp_enqueue</a>(msgq_req, req);</div>
<div class="line">    } <span class="keywordflow">while</span> (status == -ENOBUFS);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* recv */</span></div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        status = <a name="a15"></a><a class="code" href="rte__ring_8h.html#ae8a18b67229a569e0ad2fb1e5df70d2c">rte_ring_sc_dequeue</a>(msgq_rsp, (<span class="keywordtype">void</span> **) &amp;rsp);</div>
<div class="line">    } <span class="keywordflow">while</span> (status != 0);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> rsp;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">thread_pipeline_enable(uint32_t thread_id,</div>
<div class="line">    <span class="keyword">struct</span> obj *obj,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *pipeline_name)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>pipeline *p = pipeline_find(obj, pipeline_name);</div>
<div class="line">    <span class="keyword">struct </span>thread *t;</div>
<div class="line">    <span class="keyword">struct </span>thread_msg_req *req;</div>
<div class="line">    <span class="keyword">struct </span>thread_msg_rsp *rsp;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Check input params */</span></div>
<div class="line">    <span class="keywordflow">if</span> ((thread_id &gt;= RTE_MAX_LCORE) ||</div>
<div class="line">        (p == NULL))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    t = &amp;thread[thread_id];</div>
<div class="line">    <span class="keywordflow">if</span> (t-&gt;enabled == 0)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!thread_is_running(thread_id)) {</div>
<div class="line">        <span class="keyword">struct </span>thread_data *td = &amp;thread_data[thread_id];</div>
<div class="line">        <span class="keyword">struct </span>pipeline_data *tdp = &amp;td-&gt;pipeline_data[td-&gt;n_pipelines];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (td-&gt;n_pipelines &gt;= THREAD_PIPELINES_MAX)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Data plane thread */</span></div>
<div class="line">        td-&gt;p[td-&gt;n_pipelines] = p-&gt;p;</div>
<div class="line"> </div>
<div class="line">        tdp-&gt;p = p-&gt;p;</div>
<div class="line">        tdp-&gt;timer_period =</div>
<div class="line">            (<a class="code" href="rte__cycles_8h.html#ae016e608f344823e677819d8f04264c5">rte_get_tsc_hz</a>() * p-&gt;timer_period_ms) / 1000;</div>
<div class="line">        tdp-&gt;time_next = <a class="code" href="rte__cycles_8h.html#a34aaedfb8b9fa4f83d4cb3108cda2041">rte_get_tsc_cycles</a>() + tdp-&gt;timer_period;</div>
<div class="line"> </div>
<div class="line">        td-&gt;n_pipelines++;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Pipeline */</span></div>
<div class="line">        p-&gt;thread_id = thread_id;</div>
<div class="line">        p-&gt;enabled = 1;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Allocate request */</span></div>
<div class="line">    req = thread_msg_alloc();</div>
<div class="line">    <span class="keywordflow">if</span> (req == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Write request */</span></div>
<div class="line">    req-&gt;type = THREAD_REQ_PIPELINE_ENABLE;</div>
<div class="line">    req-&gt;pipeline_enable.p = p-&gt;p;</div>
<div class="line">    req-&gt;pipeline_enable.timer_period_ms = p-&gt;timer_period_ms;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Send request and wait for response */</span></div>
<div class="line">    rsp = thread_msg_send_recv(thread_id, req);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Read response */</span></div>
<div class="line">    status = rsp-&gt;status;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Free response */</span></div>
<div class="line">    thread_msg_free(rsp);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Request completion */</span></div>
<div class="line">    <span class="keywordflow">if</span> (status)</div>
<div class="line">        <span class="keywordflow">return</span> status;</div>
<div class="line"> </div>
<div class="line">    p-&gt;thread_id = thread_id;</div>
<div class="line">    p-&gt;enabled = 1;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">thread_pipeline_disable(uint32_t thread_id,</div>
<div class="line">    <span class="keyword">struct</span> obj *obj,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *pipeline_name)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>pipeline *p = pipeline_find(obj, pipeline_name);</div>
<div class="line">    <span class="keyword">struct </span>thread *t;</div>
<div class="line">    <span class="keyword">struct </span>thread_msg_req *req;</div>
<div class="line">    <span class="keyword">struct </span>thread_msg_rsp *rsp;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Check input params */</span></div>
<div class="line">    <span class="keywordflow">if</span> ((thread_id &gt;= RTE_MAX_LCORE) ||</div>
<div class="line">        (p == NULL))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    t = &amp;thread[thread_id];</div>
<div class="line">    <span class="keywordflow">if</span> (t-&gt;enabled == 0)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;enabled == 0)</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;thread_id != thread_id)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!thread_is_running(thread_id)) {</div>
<div class="line">        <span class="keyword">struct </span>thread_data *td = &amp;thread_data[thread_id];</div>
<div class="line">        uint32_t i;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; td-&gt;n_pipelines; i++) {</div>
<div class="line">            <span class="keyword">struct </span>pipeline_data *tdp = &amp;td-&gt;pipeline_data[i];</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (tdp-&gt;p != p-&gt;p)</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="comment">/* Data plane thread */</span></div>
<div class="line">            <span class="keywordflow">if</span> (i &lt; td-&gt;n_pipelines - 1) {</div>
<div class="line">                <span class="keyword">struct </span>rte_swx_pipeline *pipeline_last =</div>
<div class="line">                    td-&gt;p[td-&gt;n_pipelines - 1];</div>
<div class="line">                <span class="keyword">struct </span>pipeline_data *tdp_last =</div>
<div class="line">                    &amp;td-&gt;pipeline_data[td-&gt;n_pipelines - 1];</div>
<div class="line"> </div>
<div class="line">                td-&gt;p[i] = pipeline_last;</div>
<div class="line">                memcpy(tdp, tdp_last, <span class="keyword">sizeof</span>(*tdp));</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            td-&gt;n_pipelines--;</div>
<div class="line"> </div>
<div class="line">            <span class="comment">/* Pipeline */</span></div>
<div class="line">            p-&gt;enabled = 0;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Allocate request */</span></div>
<div class="line">    req = thread_msg_alloc();</div>
<div class="line">    <span class="keywordflow">if</span> (req == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Write request */</span></div>
<div class="line">    req-&gt;type = THREAD_REQ_PIPELINE_DISABLE;</div>
<div class="line">    req-&gt;pipeline_disable.p = p-&gt;p;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Send request and wait for response */</span></div>
<div class="line">    rsp = thread_msg_send_recv(thread_id, req);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Read response */</span></div>
<div class="line">    status = rsp-&gt;status;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Free response */</span></div>
<div class="line">    thread_msg_free(rsp);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Request completion */</span></div>
<div class="line">    <span class="keywordflow">if</span> (status)</div>
<div class="line">        <span class="keywordflow">return</span> status;</div>
<div class="line"> </div>
<div class="line">    p-&gt;enabled = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>thread_msg_req *</div>
<div class="line">thread_msg_recv(<span class="keyword">struct</span> <a class="code" href="structrte__ring.html">rte_ring</a> *msgq_req)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>thread_msg_req *req;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> status = <a class="code" href="rte__ring_8h.html#ae8a18b67229a569e0ad2fb1e5df70d2c">rte_ring_sc_dequeue</a>(msgq_req, (<span class="keywordtype">void</span> **) &amp;req);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (status != 0)</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> req;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div>
<div class="line">thread_msg_send(<span class="keyword">struct</span> <a class="code" href="structrte__ring.html">rte_ring</a> *msgq_rsp,</div>
<div class="line">    <span class="keyword">struct</span> thread_msg_rsp *rsp)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">do</span> {</div>
<div class="line">        status = <a class="code" href="rte__ring_8h.html#afd7f172fbce0358e0b140fb9bd82aa7a">rte_ring_sp_enqueue</a>(msgq_rsp, rsp);</div>
<div class="line">    } <span class="keywordflow">while</span> (status == -ENOBUFS);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>thread_msg_rsp *</div>
<div class="line">thread_msg_handle_pipeline_enable(<span class="keyword">struct</span> thread_data *t,</div>
<div class="line">    <span class="keyword">struct</span> thread_msg_req *req)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>thread_msg_rsp *rsp = (<span class="keyword">struct </span>thread_msg_rsp *) req;</div>
<div class="line">    <span class="keyword">struct </span>pipeline_data *p = &amp;t-&gt;pipeline_data[t-&gt;n_pipelines];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Request */</span></div>
<div class="line">    <span class="keywordflow">if</span> (t-&gt;n_pipelines &gt;= THREAD_PIPELINES_MAX) {</div>
<div class="line">        rsp-&gt;status = -1;</div>
<div class="line">        <span class="keywordflow">return</span> rsp;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    t-&gt;p[t-&gt;n_pipelines] = req-&gt;pipeline_enable.p;</div>
<div class="line"> </div>
<div class="line">    p-&gt;p = req-&gt;pipeline_enable.p;</div>
<div class="line">    p-&gt;timer_period = (<a class="code" href="rte__cycles_8h.html#ae016e608f344823e677819d8f04264c5">rte_get_tsc_hz</a>() *</div>
<div class="line">        req-&gt;pipeline_enable.timer_period_ms) / 1000;</div>
<div class="line">    p-&gt;time_next = <a class="code" href="rte__cycles_8h.html#a34aaedfb8b9fa4f83d4cb3108cda2041">rte_get_tsc_cycles</a>() + p-&gt;timer_period;</div>
<div class="line"> </div>
<div class="line">    t-&gt;n_pipelines++;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Response */</span></div>
<div class="line">    rsp-&gt;status = 0;</div>
<div class="line">    <span class="keywordflow">return</span> rsp;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>thread_msg_rsp *</div>
<div class="line">thread_msg_handle_pipeline_disable(<span class="keyword">struct</span> thread_data *t,</div>
<div class="line">    <span class="keyword">struct</span> thread_msg_req *req)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>thread_msg_rsp *rsp = (<span class="keyword">struct </span>thread_msg_rsp *) req;</div>
<div class="line">    uint32_t n_pipelines = t-&gt;n_pipelines;</div>
<div class="line">    <span class="keyword">struct </span>rte_swx_pipeline *pipeline = req-&gt;pipeline_disable.p;</div>
<div class="line">    uint32_t i;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* find pipeline */</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_pipelines; i++) {</div>
<div class="line">        <span class="keyword">struct </span>pipeline_data *p = &amp;t-&gt;pipeline_data[i];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (p-&gt;p != pipeline)</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (i &lt; n_pipelines - 1) {</div>
<div class="line">            <span class="keyword">struct </span>rte_swx_pipeline *pipeline_last =</div>
<div class="line">                t-&gt;p[n_pipelines - 1];</div>
<div class="line">            <span class="keyword">struct </span>pipeline_data *p_last =</div>
<div class="line">                &amp;t-&gt;pipeline_data[n_pipelines - 1];</div>
<div class="line"> </div>
<div class="line">            t-&gt;p[i] = pipeline_last;</div>
<div class="line">            memcpy(p, p_last, <span class="keyword">sizeof</span>(*p));</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        t-&gt;n_pipelines--;</div>
<div class="line"> </div>
<div class="line">        rsp-&gt;status = 0;</div>
<div class="line">        <span class="keywordflow">return</span> rsp;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* should not get here */</span></div>
<div class="line">    rsp-&gt;status = 0;</div>
<div class="line">    <span class="keywordflow">return</span> rsp;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">thread_msg_handle(<span class="keyword">struct</span> thread_data *t)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> ( ; ; ) {</div>
<div class="line">        <span class="keyword">struct </span>thread_msg_req *req;</div>
<div class="line">        <span class="keyword">struct </span>thread_msg_rsp *rsp;</div>
<div class="line"> </div>
<div class="line">        req = thread_msg_recv(t-&gt;msgq_req);</div>
<div class="line">        <span class="keywordflow">if</span> (req == NULL)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span> (req-&gt;type) {</div>
<div class="line">        <span class="keywordflow">case</span> THREAD_REQ_PIPELINE_ENABLE:</div>
<div class="line">            rsp = thread_msg_handle_pipeline_enable(t, req);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> THREAD_REQ_PIPELINE_DISABLE:</div>
<div class="line">            rsp = thread_msg_handle_pipeline_disable(t, req);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            rsp = (<span class="keyword">struct </span>thread_msg_rsp *) req;</div>
<div class="line">            rsp-&gt;status = -1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        thread_msg_send(t-&gt;msgq_rsp, rsp);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">thread_main(<span class="keywordtype">void</span> *arg <a name="a16"></a><a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>thread_data *t;</div>
<div class="line">    uint32_t thread_id, i;</div>
<div class="line"> </div>
<div class="line">    thread_id = <a name="a17"></a><a class="code" href="rte__lcore_8h.html#adfb2b334e7e73f534f25e8888a8a775f">rte_lcore_id</a>();</div>
<div class="line">    t = &amp;thread_data[thread_id];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Dispatch loop */</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; ; i++) {</div>
<div class="line">        uint32_t j;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Data Plane */</span></div>
<div class="line">        <span class="keywordflow">for</span> (j = 0; j &lt; t-&gt;n_pipelines; j++)</div>
<div class="line">            <a name="a18"></a><a class="code" href="rte__swx__pipeline_8h.html#abbccbad59da013a4fb3c90f091964cca">rte_swx_pipeline_run</a>(t-&gt;p[j], 1000000);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Control Plane */</span></div>
<div class="line">        <span class="keywordflow">if</span> ((i &amp; 0xF) == 0) {</div>
<div class="line">            uint64_t time = <a class="code" href="rte__cycles_8h.html#a34aaedfb8b9fa4f83d4cb3108cda2041">rte_get_tsc_cycles</a>();</div>
<div class="line">            uint64_t time_next_min = UINT64_MAX;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (time &lt; t-&gt;time_next_min)</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="comment">/* Thread message queues */</span></div>
<div class="line">            {</div>
<div class="line">                uint64_t time_next = t-&gt;time_next;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (time_next &lt;= time) {</div>
<div class="line">                    thread_msg_handle(t);</div>
<div class="line">                    time_next = time + t-&gt;timer_period;</div>
<div class="line">                    t-&gt;time_next = time_next;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (time_next &lt; time_next_min)</div>
<div class="line">                    time_next_min = time_next;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            t-&gt;time_next_min = time_next_min;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<div class="ttc" id="arte__common_8h_html_a8df8b303b8ea240cf6aebf937fd21eaf"><div class="ttname"><a href="rte__common_8h.html#a8df8b303b8ea240cf6aebf937fd21eaf">RTE_MAX</a></div><div class="ttdeci">#define RTE_MAX(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00583">rte_common.h:583</a></div></div>
<div class="ttc" id="arte__table__acl_8h_html"><div class="ttname"><a href="rte__table__acl_8h.html">rte_table_acl.h</a></div></div>
<div class="ttc" id="arte__lcore_8h_html_a5404ee6ac26cbe5a4f4ddef44d690b76"><div class="ttname"><a href="rte__lcore_8h.html#a5404ee6ac26cbe5a4f4ddef44d690b76">rte_lcore_is_enabled</a></div><div class="ttdeci">int rte_lcore_is_enabled(unsigned int lcore_id)</div></div>
<div class="ttc" id="arte__swx__pipeline_8h_html_abbccbad59da013a4fb3c90f091964cca"><div class="ttname"><a href="rte__swx__pipeline_8h.html#abbccbad59da013a4fb3c90f091964cca">rte_swx_pipeline_run</a></div><div class="ttdeci">__rte_experimental void rte_swx_pipeline_run(struct rte_swx_pipeline *p, uint32_t n_instructions)</div></div>
<div class="ttc" id="arte__lcore_8h_html"><div class="ttname"><a href="rte__lcore_8h.html">rte_lcore.h</a></div></div>
<div class="ttc" id="arte__ring_8h_html_ae4dece63653850041afd5c16d3d6e052"><div class="ttname"><a href="rte__ring_8h.html#ae4dece63653850041afd5c16d3d6e052">rte_ring_create</a></div><div class="ttdeci">struct rte_ring * rte_ring_create(const char *name, unsigned int count, int socket_id, unsigned int flags)</div></div>
<div class="ttc" id="arte__ring_8h_html"><div class="ttname"><a href="rte__ring_8h.html">rte_ring.h</a></div></div>
<div class="ttc" id="arte__common_8h_html_a38e32f822bc941e90fdcbe5a9c69b178"><div class="ttname"><a href="rte__common_8h.html#a38e32f822bc941e90fdcbe5a9c69b178">__rte_cache_aligned</a></div><div class="ttdeci">#define __rte_cache_aligned</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00400">rte_common.h:400</a></div></div>
<div class="ttc" id="arte__lcore_8h_html_a023b4909f52c3cdf0351d71d2b5032bc"><div class="ttname"><a href="rte__lcore_8h.html#a023b4909f52c3cdf0351d71d2b5032bc">rte_lcore_to_socket_id</a></div><div class="ttdeci">unsigned int rte_lcore_to_socket_id(unsigned int lcore_id)</div></div>
<div class="ttc" id="arte__ring_8h_html_a564e012c1eb4ae08f9eea3acfd08b377"><div class="ttname"><a href="rte__ring_8h.html#a564e012c1eb4ae08f9eea3acfd08b377">rte_ring_free</a></div><div class="ttdeci">void rte_ring_free(struct rte_ring *r)</div></div>
<div class="ttc" id="arte__table__lpm__ipv6_8h_html"><div class="ttname"><a href="rte__table__lpm__ipv6_8h.html">rte_table_lpm_ipv6.h</a></div></div>
<div class="ttc" id="arte__cycles_8h_html_ae016e608f344823e677819d8f04264c5"><div class="ttname"><a href="rte__cycles_8h.html#ae016e608f344823e677819d8f04264c5">rte_get_tsc_hz</a></div><div class="ttdeci">uint64_t rte_get_tsc_hz(void)</div></div>
<div class="ttc" id="arte__ring__core_8h_html_a127c66adbeab4653a47649993b94f35b"><div class="ttname"><a href="rte__ring__core_8h.html#a127c66adbeab4653a47649993b94f35b">RING_F_SP_ENQ</a></div><div class="ttdeci">#define RING_F_SP_ENQ</div><div class="ttdef"><b>Definition:</b> <a href="rte__ring__core_8h_source.html#l00161">rte_ring_core.h:161</a></div></div>
<div class="ttc" id="arte__lcore_8h_html_adfb2b334e7e73f534f25e8888a8a775f"><div class="ttname"><a href="rte__lcore_8h.html#adfb2b334e7e73f534f25e8888a8a775f">rte_lcore_id</a></div><div class="ttdeci">static unsigned rte_lcore_id(void)</div><div class="ttdef"><b>Definition:</b> <a href="rte__lcore_8h_source.html#l00075">rte_lcore.h:75</a></div></div>
<div class="ttc" id="astructrte__ring_html"><div class="ttname"><a href="structrte__ring.html">rte_ring</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ring__core_8h_source.html#l00123">rte_ring_core.h:123</a></div></div>
<div class="ttc" id="arte__cycles_8h_html"><div class="ttname"><a href="rte__cycles_8h.html">rte_cycles.h</a></div></div>
<div class="ttc" id="arte__common_8h_html"><div class="ttname"><a href="rte__common_8h.html">rte_common.h</a></div></div>
<div class="ttc" id="arte__table__array_8h_html"><div class="ttname"><a href="rte__table__array_8h.html">rte_table_array.h</a></div></div>
<div class="ttc" id="arte__common_8h_html_ae1a7c8799cb57669ae2ddf367b21533f"><div class="ttname"><a href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a></div><div class="ttdeci">#define __rte_unused</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00116">rte_common.h:116</a></div></div>
<div class="ttc" id="arte__launch_8h_html_aac7785c53560a19ce4108c510e5024c9"><div class="ttname"><a href="rte__launch_8h.html#aac7785c53560a19ce4108c510e5024c9">rte_lcore_state_t</a></div><div class="ttdeci">rte_lcore_state_t</div><div class="ttdef"><b>Definition:</b> <a href="rte__launch_8h_source.html#l00021">rte_launch.h:21</a></div></div>
<div class="ttc" id="arte__launch_8h_html_a66d883d90f6112489b69c996a2f6f2ab"><div class="ttname"><a href="rte__launch_8h.html#a66d883d90f6112489b69c996a2f6f2ab">rte_eal_get_lcore_state</a></div><div class="ttdeci">enum rte_lcore_state_t rte_eal_get_lcore_state(unsigned int worker_id)</div></div>
<div class="ttc" id="arte__table__hash_8h_html"><div class="ttname"><a href="rte__table__hash_8h.html">rte_table_hash.h</a></div></div>
<div class="ttc" id="arte__lcore_8h_html_ac779e61584eb9d087c3e20bf2d1150c8"><div class="ttname"><a href="rte__lcore_8h.html#ac779e61584eb9d087c3e20bf2d1150c8">RTE_LCORE_FOREACH_WORKER</a></div><div class="ttdeci">#define RTE_LCORE_FOREACH_WORKER(i)</div><div class="ttdef"><b>Definition:</b> <a href="rte__lcore_8h_source.html#l00239">rte_lcore.h:239</a></div></div>
<div class="ttc" id="arte__ring_8h_html_ae8a18b67229a569e0ad2fb1e5df70d2c"><div class="ttname"><a href="rte__ring_8h.html#ae8a18b67229a569e0ad2fb1e5df70d2c">rte_ring_sc_dequeue</a></div><div class="ttdeci">static __rte_always_inline int rte_ring_sc_dequeue(struct rte_ring *r, void **obj_p)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ring_8h_source.html#l00439">rte_ring.h:439</a></div></div>
<div class="ttc" id="arte__cycles_8h_html_a34aaedfb8b9fa4f83d4cb3108cda2041"><div class="ttname"><a href="rte__cycles_8h.html#a34aaedfb8b9fa4f83d4cb3108cda2041">rte_get_tsc_cycles</a></div><div class="ttdeci">static uint64_t rte_get_tsc_cycles(void)</div></div>
<div class="ttc" id="arte__launch_8h_html_aac7785c53560a19ce4108c510e5024c9a1061be6c3fb88d32829cba6f6b2be304"><div class="ttname"><a href="rte__launch_8h.html#aac7785c53560a19ce4108c510e5024c9a1061be6c3fb88d32829cba6f6b2be304">RUNNING</a></div><div class="ttdeci">@ RUNNING</div><div class="ttdef"><b>Definition:</b> <a href="rte__launch_8h_source.html#l00023">rte_launch.h:23</a></div></div>
<div class="ttc" id="arte__ring__core_8h_html_a421a61b2f94cdf65b3a6ac146c492fb9"><div class="ttname"><a href="rte__ring__core_8h.html#a421a61b2f94cdf65b3a6ac146c492fb9">RING_F_SC_DEQ</a></div><div class="ttdeci">#define RING_F_SC_DEQ</div><div class="ttdef"><b>Definition:</b> <a href="rte__ring__core_8h_source.html#l00162">rte_ring_core.h:162</a></div></div>
<div class="ttc" id="arte__ring_8h_html_afd7f172fbce0358e0b140fb9bd82aa7a"><div class="ttname"><a href="rte__ring_8h.html#afd7f172fbce0358e0b140fb9bd82aa7a">rte_ring_sp_enqueue</a></div><div class="ttdeci">static __rte_always_inline int rte_ring_sp_enqueue(struct rte_ring *r, void *obj)</div><div class="ttdef"><b>Definition:</b> <a href="rte__ring_8h_source.html#l00302">rte_ring.h:302</a></div></div>
<div class="ttc" id="arte__table__lpm_8h_html"><div class="ttname"><a href="rte__table__lpm_8h.html">rte_table_lpm.h</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
