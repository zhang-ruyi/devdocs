<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: examples/ip_pipeline/pipeline.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">examples/ip_pipeline/pipeline.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/* SPDX-License-Identifier: BSD-3-Clause</span></div>
<div class="line"><span class="comment"> * Copyright(c) 2010-2018 Intel Corporation</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__common_8h.html">rte_common.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__ip_8h.html">rte_ip.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__tcp_8h.html">rte_tcp.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__string__fns_8h.html">rte_string_fns.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__port__ethdev_8h.html">rte_port_ethdev.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef RTE_LIB_KNI</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__port__kni_8h.html">rte_port_kni.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__port__ring_8h.html">rte_port_ring.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__port__source__sink_8h.html">rte_port_source_sink.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__port__fd_8h.html">rte_port_fd.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__port__sched_8h.html">rte_port_sched.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__port__sym__crypto_8h.html">rte_port_sym_crypto.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__table__acl_8h.html">rte_table_acl.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__table__array_8h.html">rte_table_array.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__table__hash_8h.html">rte_table_hash.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;rte_table_hash_func.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__table__lpm_8h.html">rte_table_lpm.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__table__lpm__ipv6_8h.html">rte_table_lpm_ipv6.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__table__stub_8h.html">rte_table_stub.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifdef RTE_LIB_KNI</span></div>
<div class="line"><span class="preprocessor">#include &quot;kni.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#include &quot;link.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;mempool.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;pipeline.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;tap.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;tmgr.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;swq.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;cryptodev.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef PIPELINE_MSGQ_SIZE</span></div>
<div class="line"><span class="preprocessor">#define PIPELINE_MSGQ_SIZE                                 64</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef TABLE_LPM_NUMBER_TBL8</span></div>
<div class="line"><span class="preprocessor">#define TABLE_LPM_NUMBER_TBL8                              256</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>pipeline_list pipeline_list;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">pipeline_init(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    TAILQ_INIT(&amp;pipeline_list);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>pipeline *</div>
<div class="line">pipeline_find(<span class="keyword">const</span> <span class="keywordtype">char</span> *name)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>pipeline *pipeline;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (name == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line"> </div>
<div class="line">    TAILQ_FOREACH(pipeline, &amp;pipeline_list, node)</div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(name, pipeline-&gt;name) == 0)</div>
<div class="line">            <span class="keywordflow">return</span> pipeline;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> NULL;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>pipeline *</div>
<div class="line">pipeline_create(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">struct</span> <a name="_a0"></a><a class="code" href="structpipeline__params.html">pipeline_params</a> *params)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> msgq_name[NAME_MAX];</div>
<div class="line">    <span class="keyword">struct </span><a name="_a1"></a><a class="code" href="structrte__pipeline__params.html">rte_pipeline_params</a> pp;</div>
<div class="line">    <span class="keyword">struct </span>pipeline *pipeline;</div>
<div class="line">    <span class="keyword">struct </span>rte_pipeline *p;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a2"></a><a class="code" href="structrte__ring.html">rte_ring</a> *msgq_req;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__ring.html">rte_ring</a> *msgq_rsp;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Check input params */</span></div>
<div class="line">    <span class="keywordflow">if</span> ((name == NULL) ||</div>
<div class="line">        pipeline_find(name) ||</div>
<div class="line">        (params == NULL) ||</div>
<div class="line">        (params-&gt;<a name="a3"></a>timer_period_ms == 0))</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Resource create */</span></div>
<div class="line">    snprintf(msgq_name, <span class="keyword">sizeof</span>(msgq_name), <span class="stringliteral">&quot;%s-MSGQ-REQ&quot;</span>, name);</div>
<div class="line"> </div>
<div class="line">    msgq_req = <a name="a4"></a><a class="code" href="rte__ring_8h.html#ae4dece63653850041afd5c16d3d6e052">rte_ring_create</a>(msgq_name,</div>
<div class="line">        PIPELINE_MSGQ_SIZE,</div>
<div class="line">        params-&gt;cpu_id,</div>
<div class="line">        <a name="a5"></a><a class="code" href="rte__ring__core_8h.html#a127c66adbeab4653a47649993b94f35b">RING_F_SP_ENQ</a> | <a name="a6"></a><a class="code" href="rte__ring__core_8h.html#a421a61b2f94cdf65b3a6ac146c492fb9">RING_F_SC_DEQ</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (msgq_req == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line"> </div>
<div class="line">    snprintf(msgq_name, <span class="keyword">sizeof</span>(msgq_name), <span class="stringliteral">&quot;%s-MSGQ-RSP&quot;</span>, name);</div>
<div class="line"> </div>
<div class="line">    msgq_rsp = <a class="code" href="rte__ring_8h.html#ae4dece63653850041afd5c16d3d6e052">rte_ring_create</a>(msgq_name,</div>
<div class="line">        PIPELINE_MSGQ_SIZE,</div>
<div class="line">        params-&gt;cpu_id,</div>
<div class="line">        <a class="code" href="rte__ring__core_8h.html#a127c66adbeab4653a47649993b94f35b">RING_F_SP_ENQ</a> | <a class="code" href="rte__ring__core_8h.html#a421a61b2f94cdf65b3a6ac146c492fb9">RING_F_SC_DEQ</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (msgq_rsp == NULL) {</div>
<div class="line">        <a name="a7"></a><a class="code" href="rte__ring_8h.html#a564e012c1eb4ae08f9eea3acfd08b377">rte_ring_free</a>(msgq_req);</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    pp.name = name;</div>
<div class="line">    pp.socket_id = (int) params-&gt;cpu_id;</div>
<div class="line">    pp.<a name="a8"></a>offset_port_id = params-&gt;offset_port_id;</div>
<div class="line"> </div>
<div class="line">    p = <a name="a9"></a><a class="code" href="rte__pipeline_8h.html#ad650149ed178057bfb54bda0b6e39e05">rte_pipeline_create</a>(&amp;pp);</div>
<div class="line">    <span class="keywordflow">if</span> (p == NULL) {</div>
<div class="line">        <a class="code" href="rte__ring_8h.html#a564e012c1eb4ae08f9eea3acfd08b377">rte_ring_free</a>(msgq_rsp);</div>
<div class="line">        <a class="code" href="rte__ring_8h.html#a564e012c1eb4ae08f9eea3acfd08b377">rte_ring_free</a>(msgq_req);</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Node allocation */</span></div>
<div class="line">    pipeline = calloc(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> pipeline));</div>
<div class="line">    <span class="keywordflow">if</span> (pipeline == NULL) {</div>
<div class="line">        <a name="a10"></a><a class="code" href="rte__pipeline_8h.html#a85ce2e4661092748a84409a1d6eae14c">rte_pipeline_free</a>(p);</div>
<div class="line">        <a class="code" href="rte__ring_8h.html#a564e012c1eb4ae08f9eea3acfd08b377">rte_ring_free</a>(msgq_rsp);</div>
<div class="line">        <a class="code" href="rte__ring_8h.html#a564e012c1eb4ae08f9eea3acfd08b377">rte_ring_free</a>(msgq_req);</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Node fill in */</span></div>
<div class="line">    strlcpy(pipeline-&gt;name, name, <span class="keyword">sizeof</span>(pipeline-&gt;name));</div>
<div class="line">    pipeline-&gt;p = p;</div>
<div class="line">    pipeline-&gt;n_ports_in = 0;</div>
<div class="line">    pipeline-&gt;n_ports_out = 0;</div>
<div class="line">    pipeline-&gt;n_tables = 0;</div>
<div class="line">    pipeline-&gt;msgq_req = msgq_req;</div>
<div class="line">    pipeline-&gt;msgq_rsp = msgq_rsp;</div>
<div class="line">    pipeline-&gt;timer_period_ms = params-&gt;timer_period_ms;</div>
<div class="line">    pipeline-&gt;enabled = 0;</div>
<div class="line">    pipeline-&gt;cpu_id = params-&gt;cpu_id;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Node add to list */</span></div>
<div class="line">    TAILQ_INSERT_TAIL(&amp;pipeline_list, pipeline, node);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> pipeline;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">pipeline_port_in_create(<span class="keyword">const</span> <span class="keywordtype">char</span> *pipeline_name,</div>
<div class="line">    <span class="keyword">struct</span> port_in_params *params,</div>
<div class="line">    <span class="keywordtype">int</span> enabled)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a name="_a11"></a><a class="code" href="structrte__pipeline__port__in__params.html">rte_pipeline_port_in_params</a> p;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">union </span>{</div>
<div class="line">        <span class="keyword">struct </span><a name="_a12"></a><a class="code" href="structrte__port__ethdev__reader__params.html">rte_port_ethdev_reader_params</a> ethdev;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a13"></a><a class="code" href="structrte__port__ring__reader__params.html">rte_port_ring_reader_params</a> <a name="a14"></a><a class="code" href="structrte__port__ring__reader__params.html#a1dfc25cca5a340eff30700b60fd41339">ring</a>;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a15"></a><a class="code" href="structrte__port__sched__reader__params.html">rte_port_sched_reader_params</a> <a name="a16"></a><a class="code" href="structrte__port__sched__reader__params.html#afac65a177b53f7589c4bfd38423bde94">sched</a>;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a17"></a><a class="code" href="structrte__port__fd__reader__params.html">rte_port_fd_reader_params</a> <a name="a18"></a><a class="code" href="structrte__port__fd__reader__params.html#a6f8059414f0228f0256115e024eeed4b">fd</a>;</div>
<div class="line"><span class="preprocessor">#ifdef RTE_LIB_KNI</span></div>
<div class="line">        <span class="keyword">struct </span><a name="_a19"></a><a class="code" href="structrte__port__kni__reader__params.html">rte_port_kni_reader_params</a> <a name="a20"></a><a class="code" href="structrte__port__kni__reader__params.html#a9f23347bc6d858fef6360d38c591ed1c">kni</a>;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">        <span class="keyword">struct </span><a name="_a21"></a><a class="code" href="structrte__port__source__params.html">rte_port_source_params</a> source;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a22"></a><a class="code" href="structrte__port__sym__crypto__reader__params.html">rte_port_sym_crypto_reader_params</a> sym_crypto;</div>
<div class="line">    } pp;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span>pipeline *pipeline;</div>
<div class="line">    <span class="keyword">struct </span>port_in *port_in;</div>
<div class="line">    <span class="keyword">struct </span>port_in_action_profile *ap;</div>
<div class="line">    <span class="keyword">struct </span>rte_port_in_action *action;</div>
<div class="line">    uint32_t port_id;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"> </div>
<div class="line">    memset(&amp;p, 0, <span class="keyword">sizeof</span>(p));</div>
<div class="line">    memset(&amp;pp, 0, <span class="keyword">sizeof</span>(pp));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Check input params */</span></div>
<div class="line">    <span class="keywordflow">if</span> ((pipeline_name == NULL) ||</div>
<div class="line">        (params == NULL) ||</div>
<div class="line">        (params-&gt;burst_size == 0) ||</div>
<div class="line">        (params-&gt;burst_size &gt; <a name="a23"></a><a class="code" href="rte__port_8h.html#ad0b862300dcd7ddddee0871a90f1b310">RTE_PORT_IN_BURST_SIZE_MAX</a>))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    pipeline = pipeline_find(pipeline_name);</div>
<div class="line">    <span class="keywordflow">if</span> (pipeline == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    ap = NULL;</div>
<div class="line">    <span class="keywordflow">if</span> (params-&gt;action_profile_name) {</div>
<div class="line">        ap = port_in_action_profile_find(params-&gt;action_profile_name);</div>
<div class="line">        <span class="keywordflow">if</span> (ap == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (params-&gt;type) {</div>
<div class="line">    <span class="keywordflow">case</span> PORT_IN_RXQ:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>link *link;</div>
<div class="line"> </div>
<div class="line">        link = link_find(params-&gt;dev_name);</div>
<div class="line">        <span class="keywordflow">if</span> (link == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;rxq.queue_id &gt;= link-&gt;n_rxq)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.ethdev.port_id = link-&gt;port_id;</div>
<div class="line">        pp.ethdev.queue_id = params-&gt;rxq.queue_id;</div>
<div class="line"> </div>
<div class="line">        p.ops = &amp;<a name="a24"></a><a class="code" href="rte__port__ethdev_8h.html#ae118ef74190911c882e0ce7029affb55">rte_port_ethdev_reader_ops</a>;</div>
<div class="line">        p.arg_create = &amp;pp.ethdev;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> PORT_IN_SWQ:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>swq *swq;</div>
<div class="line"> </div>
<div class="line">        swq = swq_find(params-&gt;dev_name);</div>
<div class="line">        <span class="keywordflow">if</span> (swq == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.ring.ring = swq-&gt;r;</div>
<div class="line"> </div>
<div class="line">        p.ops = &amp;<a name="a25"></a><a class="code" href="rte__port__ring_8h.html#a21140815d53c059aaadb55f28a24497e">rte_port_ring_reader_ops</a>;</div>
<div class="line">        p.arg_create = &amp;pp.ring;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> PORT_IN_TMGR:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>tmgr_port *tmgr_port;</div>
<div class="line"> </div>
<div class="line">        tmgr_port = tmgr_port_find(params-&gt;dev_name);</div>
<div class="line">        <span class="keywordflow">if</span> (tmgr_port == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.sched.sched = tmgr_port-&gt;s;</div>
<div class="line"> </div>
<div class="line">        p.ops = &amp;<a name="a26"></a><a class="code" href="rte__port__sched_8h.html#ab1ac2ae5677783ecf1f497a75c76ddf3">rte_port_sched_reader_ops</a>;</div>
<div class="line">        p.arg_create = &amp;pp.sched;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> PORT_IN_TAP:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>tap *tap;</div>
<div class="line">        <span class="keyword">struct </span>mempool *mempool;</div>
<div class="line"> </div>
<div class="line">        tap = tap_find(params-&gt;dev_name);</div>
<div class="line">        mempool = mempool_find(params-&gt;tap.mempool_name);</div>
<div class="line">        <span class="keywordflow">if</span> ((tap == NULL) || (mempool == NULL))</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.fd.fd = tap-&gt;fd;</div>
<div class="line">        pp.fd.mempool = mempool-&gt;m;</div>
<div class="line">        pp.fd.mtu = params-&gt;tap.mtu;</div>
<div class="line"> </div>
<div class="line">        p.ops = &amp;<a name="a27"></a><a class="code" href="rte__port__fd_8h.html#a5cfe37ce10416a525ebaf7a561a6d0cf">rte_port_fd_reader_ops</a>;</div>
<div class="line">        p.arg_create = &amp;pp.fd;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifdef RTE_LIB_KNI</span></div>
<div class="line">    <span class="keywordflow">case</span> PORT_IN_KNI:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>kni *kni;</div>
<div class="line"> </div>
<div class="line">        kni = kni_find(params-&gt;dev_name);</div>
<div class="line">        <span class="keywordflow">if</span> (kni == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.kni.kni = kni-&gt;k;</div>
<div class="line"> </div>
<div class="line">        p.ops = &amp;<a name="a28"></a><a class="code" href="rte__port__kni_8h.html#aa2ff1b8f5e97315c68a936b8661ea39b">rte_port_kni_reader_ops</a>;</div>
<div class="line">        p.arg_create = &amp;pp.kni;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> PORT_IN_SOURCE:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>mempool *mempool;</div>
<div class="line"> </div>
<div class="line">        mempool = mempool_find(params-&gt;source.mempool_name);</div>
<div class="line">        <span class="keywordflow">if</span> (mempool == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.source.mempool = mempool-&gt;m;</div>
<div class="line">        pp.source.file_name = params-&gt;source.file_name;</div>
<div class="line">        pp.source.n_bytes_per_pkt = params-&gt;source.n_bytes_per_pkt;</div>
<div class="line"> </div>
<div class="line">        p.ops = &amp;<a name="a29"></a><a class="code" href="rte__port__source__sink_8h.html#a4b25b2bf1aba2b7a044ca28923b0351f">rte_port_source_ops</a>;</div>
<div class="line">        p.arg_create = &amp;pp.source;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> PORT_IN_CRYPTODEV:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>cryptodev *cryptodev;</div>
<div class="line"> </div>
<div class="line">        cryptodev = cryptodev_find(params-&gt;dev_name);</div>
<div class="line">        <span class="keywordflow">if</span> (cryptodev == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;rxq.queue_id &gt; cryptodev-&gt;n_queues - 1)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.sym_crypto.cryptodev_id = cryptodev-&gt;dev_id;</div>
<div class="line">        pp.sym_crypto.queue_id = params-&gt;cryptodev.queue_id;</div>
<div class="line">        pp.sym_crypto.f_callback = params-&gt;cryptodev.f_callback;</div>
<div class="line">        pp.sym_crypto.arg_callback = params-&gt;cryptodev.arg_callback;</div>
<div class="line">        p.ops = &amp;<a name="a30"></a><a class="code" href="rte__port__sym__crypto_8h.html#a2ea706cf2bdf0be3887541de6276721b">rte_port_sym_crypto_reader_ops</a>;</div>
<div class="line">        p.arg_create = &amp;pp.sym_crypto;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    p.burst_size = params-&gt;burst_size;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Resource create */</span></div>
<div class="line">    action = NULL;</div>
<div class="line">    p.f_action = NULL;</div>
<div class="line">    p.arg_ah = NULL;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (ap) {</div>
<div class="line">        action = <a name="a31"></a><a class="code" href="rte__port__in__action_8h.html#ab79c741b4d4d0013ef966196df0d4869">rte_port_in_action_create</a>(ap-&gt;ap,</div>
<div class="line">            pipeline-&gt;cpu_id);</div>
<div class="line">        <span class="keywordflow">if</span> (action == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        status = <a name="a32"></a><a class="code" href="rte__port__in__action_8h.html#ae28a252c914440f7e21e29ad98e943f5">rte_port_in_action_params_get</a>(</div>
<div class="line">            action,</div>
<div class="line">            &amp;p);</div>
<div class="line">        <span class="keywordflow">if</span> (status) {</div>
<div class="line">            <a name="a33"></a><a class="code" href="rte__port__in__action_8h.html#ac3535b16fab92a56ac8fc65811d3ec8a">rte_port_in_action_free</a>(action);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    status = <a name="a34"></a><a class="code" href="rte__pipeline_8h.html#ab0c0f093519ccc9fbb76e7c5696fd266">rte_pipeline_port_in_create</a>(pipeline-&gt;p,</div>
<div class="line">        &amp;p,</div>
<div class="line">        &amp;port_id);</div>
<div class="line">    <span class="keywordflow">if</span> (status) {</div>
<div class="line">        <a class="code" href="rte__port__in__action_8h.html#ac3535b16fab92a56ac8fc65811d3ec8a">rte_port_in_action_free</a>(action);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (enabled)</div>
<div class="line">        <a name="a35"></a><a class="code" href="rte__pipeline_8h.html#af8a48f99a99731883005dfe93c5406e6">rte_pipeline_port_in_enable</a>(pipeline-&gt;p, port_id);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Pipeline */</span></div>
<div class="line">    port_in = &amp;pipeline-&gt;port_in[pipeline-&gt;n_ports_in];</div>
<div class="line">    memcpy(&amp;port_in-&gt;params, params, <span class="keyword">sizeof</span>(*params));</div>
<div class="line">    port_in-&gt;ap = ap;</div>
<div class="line">    port_in-&gt;a = action;</div>
<div class="line">    pipeline-&gt;n_ports_in++;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">pipeline_port_in_connect_to_table(<span class="keyword">const</span> <span class="keywordtype">char</span> *pipeline_name,</div>
<div class="line">    uint32_t port_id,</div>
<div class="line">    uint32_t table_id)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>pipeline *pipeline;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Check input params */</span></div>
<div class="line">    <span class="keywordflow">if</span> (pipeline_name == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    pipeline = pipeline_find(pipeline_name);</div>
<div class="line">    <span class="keywordflow">if</span> ((pipeline == NULL) ||</div>
<div class="line">        (port_id &gt;= pipeline-&gt;n_ports_in) ||</div>
<div class="line">        (table_id &gt;= pipeline-&gt;n_tables))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Resource */</span></div>
<div class="line">    status = <a name="a36"></a><a class="code" href="rte__pipeline_8h.html#adc4634b81c75f146f3afac17dbbe727c">rte_pipeline_port_in_connect_to_table</a>(pipeline-&gt;p,</div>
<div class="line">        port_id,</div>
<div class="line">        table_id);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">pipeline_port_out_create(<span class="keyword">const</span> <span class="keywordtype">char</span> *pipeline_name,</div>
<div class="line">    <span class="keyword">struct</span> port_out_params *params)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a name="_a37"></a><a class="code" href="structrte__pipeline__port__out__params.html">rte_pipeline_port_out_params</a> p;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">union </span>{</div>
<div class="line">        <span class="keyword">struct </span><a name="_a38"></a><a class="code" href="structrte__port__ethdev__writer__params.html">rte_port_ethdev_writer_params</a> ethdev;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a39"></a><a class="code" href="structrte__port__ring__writer__params.html">rte_port_ring_writer_params</a> <a name="a40"></a><a class="code" href="structrte__port__ring__writer__params.html#a1dfc25cca5a340eff30700b60fd41339">ring</a>;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a41"></a><a class="code" href="structrte__port__sched__writer__params.html">rte_port_sched_writer_params</a> <a name="a42"></a><a class="code" href="structrte__port__sched__writer__params.html#afac65a177b53f7589c4bfd38423bde94">sched</a>;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a43"></a><a class="code" href="structrte__port__fd__writer__params.html">rte_port_fd_writer_params</a> <a name="a44"></a><a class="code" href="structrte__port__fd__writer__params.html#a6f8059414f0228f0256115e024eeed4b">fd</a>;</div>
<div class="line"><span class="preprocessor">#ifdef RTE_LIB_KNI</span></div>
<div class="line">        <span class="keyword">struct </span><a name="_a45"></a><a class="code" href="structrte__port__kni__writer__params.html">rte_port_kni_writer_params</a> <a name="a46"></a><a class="code" href="structrte__port__kni__writer__params.html#a9f23347bc6d858fef6360d38c591ed1c">kni</a>;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">        <span class="keyword">struct </span><a name="_a47"></a><a class="code" href="structrte__port__sink__params.html">rte_port_sink_params</a> sink;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a48"></a><a class="code" href="structrte__port__sym__crypto__writer__params.html">rte_port_sym_crypto_writer_params</a> sym_crypto;</div>
<div class="line">    } pp;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">union </span>{</div>
<div class="line">        <span class="keyword">struct </span><a name="_a49"></a><a class="code" href="structrte__port__ethdev__writer__nodrop__params.html">rte_port_ethdev_writer_nodrop_params</a> ethdev;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a50"></a><a class="code" href="structrte__port__ring__writer__nodrop__params.html">rte_port_ring_writer_nodrop_params</a> <a name="a51"></a><a class="code" href="structrte__port__ring__writer__nodrop__params.html#a1dfc25cca5a340eff30700b60fd41339">ring</a>;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a52"></a><a class="code" href="structrte__port__fd__writer__nodrop__params.html">rte_port_fd_writer_nodrop_params</a> <a name="a53"></a><a class="code" href="structrte__port__fd__writer__nodrop__params.html#a6f8059414f0228f0256115e024eeed4b">fd</a>;</div>
<div class="line"><span class="preprocessor">#ifdef RTE_LIB_KNI</span></div>
<div class="line">        <span class="keyword">struct </span><a name="_a54"></a><a class="code" href="structrte__port__kni__writer__nodrop__params.html">rte_port_kni_writer_nodrop_params</a> <a name="a55"></a><a class="code" href="structrte__port__kni__writer__nodrop__params.html#a9f23347bc6d858fef6360d38c591ed1c">kni</a>;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">        <span class="keyword">struct </span><a name="_a56"></a><a class="code" href="structrte__port__sym__crypto__writer__nodrop__params.html">rte_port_sym_crypto_writer_nodrop_params</a> sym_crypto;</div>
<div class="line">    } pp_nodrop;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span>pipeline *pipeline;</div>
<div class="line">    uint32_t port_id;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"> </div>
<div class="line">    memset(&amp;p, 0, <span class="keyword">sizeof</span>(p));</div>
<div class="line">    memset(&amp;pp, 0, <span class="keyword">sizeof</span>(pp));</div>
<div class="line">    memset(&amp;pp_nodrop, 0, <span class="keyword">sizeof</span>(pp_nodrop));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Check input params */</span></div>
<div class="line">    <span class="keywordflow">if</span> ((pipeline_name == NULL) ||</div>
<div class="line">        (params == NULL) ||</div>
<div class="line">        (params-&gt;burst_size == 0) ||</div>
<div class="line">        (params-&gt;burst_size &gt; <a class="code" href="rte__port_8h.html#ad0b862300dcd7ddddee0871a90f1b310">RTE_PORT_IN_BURST_SIZE_MAX</a>))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    pipeline = pipeline_find(pipeline_name);</div>
<div class="line">    <span class="keywordflow">if</span> (pipeline == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (params-&gt;type) {</div>
<div class="line">    <span class="keywordflow">case</span> PORT_OUT_TXQ:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>link *link;</div>
<div class="line"> </div>
<div class="line">        link = link_find(params-&gt;dev_name);</div>
<div class="line">        <span class="keywordflow">if</span> (link == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;txq.queue_id &gt;= link-&gt;n_txq)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.ethdev.port_id = link-&gt;port_id;</div>
<div class="line">        pp.ethdev.queue_id = params-&gt;txq.queue_id;</div>
<div class="line">        pp.ethdev.tx_burst_sz = params-&gt;burst_size;</div>
<div class="line"> </div>
<div class="line">        pp_nodrop.ethdev.port_id = link-&gt;port_id;</div>
<div class="line">        pp_nodrop.ethdev.queue_id = params-&gt;txq.queue_id;</div>
<div class="line">        pp_nodrop.ethdev.tx_burst_sz = params-&gt;burst_size;</div>
<div class="line">        pp_nodrop.ethdev.n_retries = params-&gt;n_retries;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;retry == 0) {</div>
<div class="line">            p.ops = &amp;<a name="a57"></a><a class="code" href="rte__port__ethdev_8h.html#a3b78a74a428484403e04cfff80c0aea0">rte_port_ethdev_writer_ops</a>;</div>
<div class="line">            p.arg_create = &amp;pp.ethdev;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            p.ops = &amp;<a name="a58"></a><a class="code" href="rte__port__ethdev_8h.html#a30ce5487b28f5119579f3e909d62cac6">rte_port_ethdev_writer_nodrop_ops</a>;</div>
<div class="line">            p.arg_create = &amp;pp_nodrop.ethdev;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> PORT_OUT_SWQ:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>swq *swq;</div>
<div class="line"> </div>
<div class="line">        swq = swq_find(params-&gt;dev_name);</div>
<div class="line">        <span class="keywordflow">if</span> (swq == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.ring.ring = swq-&gt;r;</div>
<div class="line">        pp.ring.tx_burst_sz = params-&gt;burst_size;</div>
<div class="line"> </div>
<div class="line">        pp_nodrop.ring.ring = swq-&gt;r;</div>
<div class="line">        pp_nodrop.ring.tx_burst_sz = params-&gt;burst_size;</div>
<div class="line">        pp_nodrop.ring.n_retries = params-&gt;n_retries;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;retry == 0) {</div>
<div class="line">            p.ops = &amp;<a name="a59"></a><a class="code" href="rte__port__ring_8h.html#a59fd9348c9a8ae494c504f265ad20b23">rte_port_ring_writer_ops</a>;</div>
<div class="line">            p.arg_create = &amp;pp.ring;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            p.ops = &amp;<a name="a60"></a><a class="code" href="rte__port__ring_8h.html#a40f51cecdbb7adb17cb61b699c4836d3">rte_port_ring_writer_nodrop_ops</a>;</div>
<div class="line">            p.arg_create = &amp;pp_nodrop.ring;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> PORT_OUT_TMGR:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>tmgr_port *tmgr_port;</div>
<div class="line"> </div>
<div class="line">        tmgr_port = tmgr_port_find(params-&gt;dev_name);</div>
<div class="line">        <span class="keywordflow">if</span> (tmgr_port == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.sched.sched = tmgr_port-&gt;s;</div>
<div class="line">        pp.sched.tx_burst_sz = params-&gt;burst_size;</div>
<div class="line"> </div>
<div class="line">        p.ops = &amp;<a name="a61"></a><a class="code" href="rte__port__sched_8h.html#a776d4fbec3b3b4d2b1e1fe45a699e583">rte_port_sched_writer_ops</a>;</div>
<div class="line">        p.arg_create = &amp;pp.sched;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> PORT_OUT_TAP:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>tap *tap;</div>
<div class="line"> </div>
<div class="line">        tap = tap_find(params-&gt;dev_name);</div>
<div class="line">        <span class="keywordflow">if</span> (tap == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.fd.fd = tap-&gt;fd;</div>
<div class="line">        pp.fd.tx_burst_sz = params-&gt;burst_size;</div>
<div class="line"> </div>
<div class="line">        pp_nodrop.fd.fd = tap-&gt;fd;</div>
<div class="line">        pp_nodrop.fd.tx_burst_sz = params-&gt;burst_size;</div>
<div class="line">        pp_nodrop.fd.n_retries = params-&gt;n_retries;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;retry == 0) {</div>
<div class="line">            p.ops = &amp;<a name="a62"></a><a class="code" href="rte__port__fd_8h.html#ab16824d1b803617892d1aab7da1ee164">rte_port_fd_writer_ops</a>;</div>
<div class="line">            p.arg_create = &amp;pp.fd;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            p.ops = &amp;<a name="a63"></a><a class="code" href="rte__port__fd_8h.html#af45f3ebffd788fc60ce6687162d39b78">rte_port_fd_writer_nodrop_ops</a>;</div>
<div class="line">            p.arg_create = &amp;pp_nodrop.fd;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifdef RTE_LIB_KNI</span></div>
<div class="line">    <span class="keywordflow">case</span> PORT_OUT_KNI:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>kni *kni;</div>
<div class="line"> </div>
<div class="line">        kni = kni_find(params-&gt;dev_name);</div>
<div class="line">        <span class="keywordflow">if</span> (kni == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.kni.kni = kni-&gt;k;</div>
<div class="line">        pp.kni.tx_burst_sz = params-&gt;burst_size;</div>
<div class="line"> </div>
<div class="line">        pp_nodrop.kni.kni = kni-&gt;k;</div>
<div class="line">        pp_nodrop.kni.tx_burst_sz = params-&gt;burst_size;</div>
<div class="line">        pp_nodrop.kni.n_retries = params-&gt;n_retries;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;retry == 0) {</div>
<div class="line">            p.ops = &amp;<a name="a64"></a><a class="code" href="rte__port__kni_8h.html#a50448581e6d27c30b7904b590ae91718">rte_port_kni_writer_ops</a>;</div>
<div class="line">            p.arg_create = &amp;pp.kni;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            p.ops = &amp;<a name="a65"></a><a class="code" href="rte__port__kni_8h.html#a33e3ec944f138cbde903ce81da3d1b7e">rte_port_kni_writer_nodrop_ops</a>;</div>
<div class="line">            p.arg_create = &amp;pp_nodrop.kni;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> PORT_OUT_SINK:</div>
<div class="line">    {</div>
<div class="line">        pp.sink.file_name = params-&gt;sink.file_name;</div>
<div class="line">        pp.sink.max_n_pkts = params-&gt;sink.max_n_pkts;</div>
<div class="line"> </div>
<div class="line">        p.ops = &amp;<a name="a66"></a><a class="code" href="rte__port__source__sink_8h.html#a7ed2f0091ffeefe36f8069726060a6c2">rte_port_sink_ops</a>;</div>
<div class="line">        p.arg_create = &amp;pp.sink;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> PORT_OUT_CRYPTODEV:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span>cryptodev *cryptodev;</div>
<div class="line"> </div>
<div class="line">        cryptodev = cryptodev_find(params-&gt;dev_name);</div>
<div class="line">        <span class="keywordflow">if</span> (cryptodev == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;cryptodev.queue_id &gt;= cryptodev-&gt;n_queues)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.sym_crypto.cryptodev_id = cryptodev-&gt;dev_id;</div>
<div class="line">        pp.sym_crypto.queue_id = params-&gt;cryptodev.queue_id;</div>
<div class="line">        pp.sym_crypto.tx_burst_sz = params-&gt;burst_size;</div>
<div class="line">        pp.sym_crypto.crypto_op_offset = params-&gt;cryptodev.op_offset;</div>
<div class="line"> </div>
<div class="line">        pp_nodrop.sym_crypto.cryptodev_id = cryptodev-&gt;dev_id;</div>
<div class="line">        pp_nodrop.sym_crypto.queue_id = params-&gt;cryptodev.queue_id;</div>
<div class="line">        pp_nodrop.sym_crypto.tx_burst_sz = params-&gt;burst_size;</div>
<div class="line">        pp_nodrop.sym_crypto.n_retries = params-&gt;retry;</div>
<div class="line">        pp_nodrop.sym_crypto.crypto_op_offset =</div>
<div class="line">                params-&gt;cryptodev.op_offset;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;retry == 0) {</div>
<div class="line">            p.ops = &amp;<a name="a67"></a><a class="code" href="rte__port__sym__crypto_8h.html#aef70c7b0dfc1577b8508457d6577aa44">rte_port_sym_crypto_writer_ops</a>;</div>
<div class="line">            p.arg_create = &amp;pp.sym_crypto;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            p.ops = &amp;<a name="a68"></a><a class="code" href="rte__port__sym__crypto_8h.html#a221d3989fc75e046c1e6c3edf939347a">rte_port_sym_crypto_writer_nodrop_ops</a>;</div>
<div class="line">            p.arg_create = &amp;pp_nodrop.sym_crypto;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    p.f_action = NULL;</div>
<div class="line">    p.arg_ah = NULL;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Resource create */</span></div>
<div class="line">    status = <a name="a69"></a><a class="code" href="rte__pipeline_8h.html#a247f58fe13cba38922ccf5c60a2f86bb">rte_pipeline_port_out_create</a>(pipeline-&gt;p,</div>
<div class="line">        &amp;p,</div>
<div class="line">        &amp;port_id);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (status)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Pipeline */</span></div>
<div class="line">    pipeline-&gt;n_ports_out++;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a name="_a70"></a><a class="code" href="structrte__acl__field__def.html">rte_acl_field_def</a> table_acl_field_format_ipv4[] = {</div>
<div class="line">    <span class="comment">/* Protocol */</span></div>
<div class="line">    [0] = {</div>
<div class="line">        .<a name="a71"></a><a class="code" href="structrte__acl__field__def.html#a1d127017fb298b889f4ba24752d08b8e">type</a> = RTE_ACL_FIELD_TYPE_BITMASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint8_t),</div>
<div class="line">        .<a name="a72"></a><a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 0,</div>
<div class="line">        .<a name="a73"></a><a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 0,</div>
<div class="line">        .<a name="a74"></a><a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a name="a75"></a><a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a name="_a76"></a><a class="code" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a>, next_proto_id),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Source IP address (IPv4) */</span></div>
<div class="line">    [1] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_MASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint32_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 1,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 1,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a>, src_addr),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Destination IP address (IPv4) */</span></div>
<div class="line">    [2] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_MASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint32_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 2,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 2,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a>, dst_addr),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Source Port */</span></div>
<div class="line">    [3] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_RANGE,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint16_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 3,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 3,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a>) +</div>
<div class="line">            <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a name="_a77"></a><a class="code" href="structrte__tcp__hdr.html">rte_tcp_hdr</a>, src_port),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Destination Port */</span></div>
<div class="line">    [4] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_RANGE,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint16_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 4,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 3,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a>) +</div>
<div class="line">            <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__tcp__hdr.html">rte_tcp_hdr</a>, dst_port),</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structrte__acl__field__def.html">rte_acl_field_def</a> table_acl_field_format_ipv6[] = {</div>
<div class="line">    <span class="comment">/* Protocol */</span></div>
<div class="line">    [0] = {</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a1d127017fb298b889f4ba24752d08b8e">type</a> = RTE_ACL_FIELD_TYPE_BITMASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint8_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 0,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 0,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a name="_a78"></a><a class="code" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a>, proto),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Source IP address (IPv6) */</span></div>
<div class="line">    [1] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_MASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint32_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 1,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 1,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a>, src_addr[0]),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    [2] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_MASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint32_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 2,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 2,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a>, src_addr[4]),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    [3] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_MASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint32_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 3,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 3,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a>, src_addr[8]),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    [4] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_MASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint32_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 4,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 4,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a>, src_addr[12]),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Destination IP address (IPv6) */</span></div>
<div class="line">    [5] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_MASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint32_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 5,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 5,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a>, dst_addr[0]),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    [6] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_MASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint32_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 6,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 6,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a>, dst_addr[4]),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    [7] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_MASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint32_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 7,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 7,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a>, dst_addr[8]),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    [8] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_MASK,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint32_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 8,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 8,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a>, dst_addr[12]),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Source Port */</span></div>
<div class="line">    [9] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_RANGE,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint16_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 9,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 9,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a>) +</div>
<div class="line">            <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__tcp__hdr.html">rte_tcp_hdr</a>, src_port),</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Destination Port */</span></div>
<div class="line">    [10] = {</div>
<div class="line">        .type = RTE_ACL_FIELD_TYPE_RANGE,</div>
<div class="line">        .size = <span class="keyword">sizeof</span>(uint16_t),</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">field_index</a> = 10,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">input_index</a> = 9,</div>
<div class="line">        .<a class="code" href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a>) +</div>
<div class="line">            <a class="code" href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structrte__tcp__hdr.html">rte_tcp_hdr</a>, dst_port),</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">pipeline_table_create(<span class="keyword">const</span> <span class="keywordtype">char</span> *pipeline_name,</div>
<div class="line">    <span class="keyword">struct</span> table_params *params)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> name[NAME_MAX];</div>
<div class="line">    <span class="keyword">struct </span><a name="_a79"></a><a class="code" href="structrte__pipeline__table__params.html">rte_pipeline_table_params</a> p;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">union </span>{</div>
<div class="line">        <span class="keyword">struct </span><a name="_a80"></a><a class="code" href="structrte__table__acl__params.html">rte_table_acl_params</a> acl;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a81"></a><a class="code" href="structrte__table__array__params.html">rte_table_array_params</a> array;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a82"></a><a class="code" href="structrte__table__hash__params.html">rte_table_hash_params</a> hash;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a83"></a><a class="code" href="structrte__table__lpm__params.html">rte_table_lpm_params</a> lpm;</div>
<div class="line">        <span class="keyword">struct </span><a name="_a84"></a><a class="code" href="structrte__table__lpm__ipv6__params.html">rte_table_lpm_ipv6_params</a> lpm_ipv6;</div>
<div class="line">    } pp;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span>pipeline *pipeline;</div>
<div class="line">    <span class="keyword">struct </span>table *table;</div>
<div class="line">    <span class="keyword">struct </span>table_action_profile *ap;</div>
<div class="line">    <span class="keyword">struct </span>rte_table_action *action;</div>
<div class="line">    uint32_t table_id;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"> </div>
<div class="line">    memset(&amp;p, 0, <span class="keyword">sizeof</span>(p));</div>
<div class="line">    memset(&amp;pp, 0, <span class="keyword">sizeof</span>(pp));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Check input params */</span></div>
<div class="line">    <span class="keywordflow">if</span> ((pipeline_name == NULL) ||</div>
<div class="line">        (params == NULL))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    pipeline = pipeline_find(pipeline_name);</div>
<div class="line">    <span class="keywordflow">if</span> ((pipeline == NULL) ||</div>
<div class="line">        (pipeline-&gt;n_tables &gt;= <a name="a85"></a><a class="code" href="rte__pipeline_8h.html#ae53c3736fb2a1edc8e4b9b185d9d8fc3">RTE_PIPELINE_TABLE_MAX</a>))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    ap = NULL;</div>
<div class="line">    <span class="keywordflow">if</span> (params-&gt;action_profile_name) {</div>
<div class="line">        ap = table_action_profile_find(params-&gt;action_profile_name);</div>
<div class="line">        <span class="keywordflow">if</span> (ap == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    snprintf(name, NAME_MAX, <span class="stringliteral">&quot;%s_table%u&quot;</span>,</div>
<div class="line">        pipeline_name, pipeline-&gt;n_tables);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (params-&gt;match_type) {</div>
<div class="line">    <span class="keywordflow">case</span> TABLE_ACL:</div>
<div class="line">    {</div>
<div class="line">        uint32_t ip_header_offset = params-&gt;match.acl.ip_header_offset -</div>
<div class="line">            (<span class="keyword">sizeof</span>(<span class="keyword">struct </span><a name="_a86"></a><a class="code" href="structrte__mbuf.html">rte_mbuf</a>) + RTE_PKTMBUF_HEADROOM);</div>
<div class="line">        uint32_t i;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;match.acl.n_rules == 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.acl.name = name;</div>
<div class="line">        pp.acl.n_rules = params-&gt;match.acl.n_rules;</div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;match.acl.ip_version) {</div>
<div class="line">            memcpy(&amp;pp.acl.field_format,</div>
<div class="line">                &amp;table_acl_field_format_ipv4,</div>
<div class="line">                <span class="keyword">sizeof</span>(table_acl_field_format_ipv4));</div>
<div class="line">            pp.acl.n_rule_fields =</div>
<div class="line">                <a name="a87"></a><a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(table_acl_field_format_ipv4);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            memcpy(&amp;pp.acl.field_format,</div>
<div class="line">                &amp;table_acl_field_format_ipv6,</div>
<div class="line">                <span class="keyword">sizeof</span>(table_acl_field_format_ipv6));</div>
<div class="line">            pp.acl.n_rule_fields =</div>
<div class="line">                <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(table_acl_field_format_ipv6);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (i = 0; i &lt; pp.acl.n_rule_fields; i++)</div>
<div class="line">            pp.acl.field_format[i].offset += ip_header_offset;</div>
<div class="line"> </div>
<div class="line">        p.ops = &amp;<a name="a88"></a><a class="code" href="rte__table__acl_8h.html#a1ec0bc8eb1f77d82a87814f0b429b486">rte_table_acl_ops</a>;</div>
<div class="line">        p.arg_create = &amp;pp.acl;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> TABLE_ARRAY:</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;match.array.n_keys == 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        pp.array.n_entries = params-&gt;match.array.n_keys;</div>
<div class="line">        pp.array.offset = params-&gt;match.array.key_offset;</div>
<div class="line"> </div>
<div class="line">        p.ops = &amp;<a name="a89"></a><a class="code" href="rte__table__array_8h.html#a0bceb8639a24f2ae41aad51328415a4c">rte_table_array_ops</a>;</div>
<div class="line">        p.arg_create = &amp;pp.array;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> TABLE_HASH:</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">struct </span><a name="_a90"></a><a class="code" href="structrte__table__ops.html">rte_table_ops</a> *ops;</div>
<div class="line">        <a name="a91"></a><a class="code" href="rte__table__hash_8h.html#a49a5c7cb0c559f983bf21ec3c13967da">rte_table_hash_op_hash</a> f_hash;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;match.hash.n_keys == 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span> (params-&gt;match.hash.key_size) {</div>
<div class="line">        <span class="keywordflow">case</span>  8:</div>
<div class="line">            f_hash = rte_table_hash_crc_key8;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 16:</div>
<div class="line">            f_hash = rte_table_hash_crc_key16;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 24:</div>
<div class="line">            f_hash = rte_table_hash_crc_key24;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 32:</div>
<div class="line">            f_hash = rte_table_hash_crc_key32;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 40:</div>
<div class="line">            f_hash = rte_table_hash_crc_key40;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 48:</div>
<div class="line">            f_hash = rte_table_hash_crc_key48;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 56:</div>
<div class="line">            f_hash = rte_table_hash_crc_key56;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 64:</div>
<div class="line">            f_hash = rte_table_hash_crc_key64;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        pp.hash.name = name;</div>
<div class="line">        pp.hash.key_size = params-&gt;match.hash.key_size;</div>
<div class="line">        pp.hash.key_offset = params-&gt;match.hash.key_offset;</div>
<div class="line">        pp.hash.key_mask = params-&gt;match.hash.key_mask;</div>
<div class="line">        pp.hash.n_keys = params-&gt;match.hash.n_keys;</div>
<div class="line">        pp.hash.n_buckets = params-&gt;match.hash.n_buckets;</div>
<div class="line">        pp.hash.f_hash = f_hash;</div>
<div class="line">        pp.hash.seed = 0;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;match.hash.extendable_bucket)</div>
<div class="line">            <span class="keywordflow">switch</span> (params-&gt;match.hash.key_size) {</div>
<div class="line">            <span class="keywordflow">case</span>  8:</div>
<div class="line">                ops = &amp;rte_table_hash_key8_ext_ops;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 16:</div>
<div class="line">                ops = &amp;rte_table_hash_key16_ext_ops;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">default</span>:</div>
<div class="line">                ops = &amp;<a name="a92"></a><a class="code" href="rte__table__hash_8h.html#ad7d24416b687345b68e9820d65e7e5d2">rte_table_hash_ext_ops</a>;</div>
<div class="line">            }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            <span class="keywordflow">switch</span> (params-&gt;match.hash.key_size) {</div>
<div class="line">            <span class="keywordflow">case</span>  8:</div>
<div class="line">                ops = &amp;rte_table_hash_key8_lru_ops;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> 16:</div>
<div class="line">                ops = &amp;rte_table_hash_key16_lru_ops;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">default</span>:</div>
<div class="line">                ops = &amp;<a name="a93"></a><a class="code" href="rte__table__hash_8h.html#a34bd949f43231bf0ce977b90fc02a0c1">rte_table_hash_lru_ops</a>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">        p.ops = ops;</div>
<div class="line">        p.arg_create = &amp;pp.hash;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> TABLE_LPM:</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;match.lpm.n_rules == 0)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span> (params-&gt;match.lpm.key_size) {</div>
<div class="line">        <span class="keywordflow">case</span> 4:</div>
<div class="line">        {</div>
<div class="line">            pp.lpm.name = name;</div>
<div class="line">            pp.lpm.n_rules = params-&gt;match.lpm.n_rules;</div>
<div class="line">            pp.lpm.number_tbl8s = TABLE_LPM_NUMBER_TBL8;</div>
<div class="line">            pp.lpm.flags = 0;</div>
<div class="line">            pp.lpm.entry_unique_size = p.action_data_size +</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a name="_a94"></a><a class="code" href="structrte__pipeline__table__entry.html">rte_pipeline_table_entry</a>);</div>
<div class="line">            pp.lpm.offset = params-&gt;match.lpm.key_offset;</div>
<div class="line"> </div>
<div class="line">            p.ops = &amp;<a name="a95"></a><a class="code" href="rte__table__lpm_8h.html#ad8ce9bc1c0f2a5b25ea367b4b3d52c0c">rte_table_lpm_ops</a>;</div>
<div class="line">            p.arg_create = &amp;pp.lpm;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> 16:</div>
<div class="line">        {</div>
<div class="line">            pp.lpm_ipv6.name = name;</div>
<div class="line">            pp.lpm_ipv6.n_rules = params-&gt;match.lpm.n_rules;</div>
<div class="line">            pp.lpm_ipv6.number_tbl8s = TABLE_LPM_NUMBER_TBL8;</div>
<div class="line">            pp.lpm_ipv6.entry_unique_size = p.action_data_size +</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__pipeline__table__entry.html">rte_pipeline_table_entry</a>);</div>
<div class="line">            pp.lpm_ipv6.offset = params-&gt;match.lpm.key_offset;</div>
<div class="line"> </div>
<div class="line">            p.ops = &amp;<a name="a96"></a><a class="code" href="rte__table__lpm__ipv6_8h.html#a06f62028822d03a1e159ff7c7ec56b3c">rte_table_lpm_ipv6_ops</a>;</div>
<div class="line">            p.arg_create = &amp;pp.lpm_ipv6;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> TABLE_STUB:</div>
<div class="line">    {</div>
<div class="line">        p.ops = &amp;<a name="a97"></a><a class="code" href="rte__table__stub_8h.html#ac83a23a9e9a7428c839c5f6f158d7ffa">rte_table_stub_ops</a>;</div>
<div class="line">        p.arg_create = NULL;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Resource create */</span></div>
<div class="line">    <a name="a98"></a><a class="code" href="structrte__pipeline__table__entry.html#ab65480a4c6171d9ea813e0b1be3afef2">action</a> = NULL;</div>
<div class="line">    p.f_action_hit = NULL;</div>
<div class="line">    p.f_action_miss = NULL;</div>
<div class="line">    p.arg_ah = NULL;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (ap) {</div>
<div class="line">        <a class="code" href="structrte__pipeline__table__entry.html#ab65480a4c6171d9ea813e0b1be3afef2">action</a> = <a name="a99"></a><a class="code" href="rte__table__action_8h.html#a8b9e354e85accefc088dd592d2c01ebc">rte_table_action_create</a>(ap-&gt;ap,</div>
<div class="line">            pipeline-&gt;cpu_id);</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="structrte__pipeline__table__entry.html#ab65480a4c6171d9ea813e0b1be3afef2">action</a> == NULL)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">        status = <a name="a100"></a><a class="code" href="rte__table__action_8h.html#a018b8c3988eb1ed6298fe75f562215b1">rte_table_action_table_params_get</a>(</div>
<div class="line">            <a class="code" href="structrte__pipeline__table__entry.html#ab65480a4c6171d9ea813e0b1be3afef2">action</a>,</div>
<div class="line">            &amp;p);</div>
<div class="line">        <span class="keywordflow">if</span> (status ||</div>
<div class="line">            ((p.action_data_size +</div>
<div class="line">            <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__pipeline__table__entry.html">rte_pipeline_table_entry</a>)) &gt;</div>
<div class="line">            TABLE_RULE_ACTION_SIZE_MAX)) {</div>
<div class="line">            <a name="a101"></a><a class="code" href="rte__table__action_8h.html#a476266b3409df527c20e4acca5cf5283">rte_table_action_free</a>(<a class="code" href="structrte__pipeline__table__entry.html#ab65480a4c6171d9ea813e0b1be3afef2">action</a>);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (params-&gt;match_type == TABLE_LPM) {</div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;match.lpm.key_size == 4)</div>
<div class="line">            pp.lpm.entry_unique_size = p.action_data_size +</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__pipeline__table__entry.html">rte_pipeline_table_entry</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (params-&gt;match.lpm.key_size == 16)</div>
<div class="line">            pp.lpm_ipv6.entry_unique_size = p.action_data_size +</div>
<div class="line">                <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__pipeline__table__entry.html">rte_pipeline_table_entry</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    status = <a name="a102"></a><a class="code" href="rte__pipeline_8h.html#af1cb4d7ac4516443e6f9d82a4beebed6">rte_pipeline_table_create</a>(pipeline-&gt;p,</div>
<div class="line">        &amp;p,</div>
<div class="line">        &amp;<a name="a103"></a><a class="code" href="structrte__pipeline__table__entry.html#a4783596f73bb7e535d78875dbf3397b0">table_id</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (status) {</div>
<div class="line">        <a class="code" href="rte__table__action_8h.html#a476266b3409df527c20e4acca5cf5283">rte_table_action_free</a>(<a class="code" href="structrte__pipeline__table__entry.html#ab65480a4c6171d9ea813e0b1be3afef2">action</a>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Pipeline */</span></div>
<div class="line">    table = &amp;pipeline-&gt;table[pipeline-&gt;n_tables];</div>
<div class="line">    memcpy(&amp;table-&gt;params, params, <span class="keyword">sizeof</span>(*params));</div>
<div class="line">    table-&gt;ap = ap;</div>
<div class="line">    table-&gt;a = <a class="code" href="structrte__pipeline__table__entry.html#ab65480a4c6171d9ea813e0b1be3afef2">action</a>;</div>
<div class="line">    TAILQ_INIT(&amp;table-&gt;rules);</div>
<div class="line">    table-&gt;rule_default = NULL;</div>
<div class="line"> </div>
<div class="line">    pipeline-&gt;n_tables++;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>table_rule *</div>
<div class="line">table_rule_find(<span class="keyword">struct</span> table *table,</div>
<div class="line">    <span class="keyword">struct</span> table_rule_match *match)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>table_rule *rule;</div>
<div class="line"> </div>
<div class="line">    TAILQ_FOREACH(rule, &amp;table-&gt;rules, node)</div>
<div class="line">        <span class="keywordflow">if</span> (memcmp(&amp;rule-&gt;match, match, <span class="keyword">sizeof</span>(*match)) == 0)</div>
<div class="line">            <span class="keywordflow">return</span> rule;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> NULL;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span></div>
<div class="line">table_rule_add(<span class="keyword">struct</span> table *table,</div>
<div class="line">    <span class="keyword">struct</span> table_rule *new_rule)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>table_rule *existing_rule;</div>
<div class="line"> </div>
<div class="line">    existing_rule = table_rule_find(table, &amp;new_rule-&gt;match);</div>
<div class="line">    <span class="keywordflow">if</span> (existing_rule == NULL)</div>
<div class="line">        TAILQ_INSERT_TAIL(&amp;table-&gt;rules, new_rule, node);</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        TAILQ_INSERT_AFTER(&amp;table-&gt;rules, existing_rule, new_rule, node);</div>
<div class="line">        TAILQ_REMOVE(&amp;table-&gt;rules, existing_rule, node);</div>
<div class="line">        free(existing_rule);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span></div>
<div class="line">table_rule_add_bulk(<span class="keyword">struct</span> table *table,</div>
<div class="line">    <span class="keyword">struct</span> table_rule_list *list,</div>
<div class="line">    uint32_t n_rules)</div>
<div class="line">{</div>
<div class="line">    uint32_t i;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_rules; i++) {</div>
<div class="line">        <span class="keyword">struct </span>table_rule *existing_rule, *new_rule;</div>
<div class="line"> </div>
<div class="line">        new_rule = TAILQ_FIRST(list);</div>
<div class="line">        <span class="keywordflow">if</span> (new_rule == NULL)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        TAILQ_REMOVE(list, new_rule, node);</div>
<div class="line"> </div>
<div class="line">        existing_rule = table_rule_find(table, &amp;new_rule-&gt;match);</div>
<div class="line">        <span class="keywordflow">if</span> (existing_rule == NULL)</div>
<div class="line">            TAILQ_INSERT_TAIL(&amp;table-&gt;rules, new_rule, node);</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">            TAILQ_INSERT_AFTER(&amp;table-&gt;rules, existing_rule, new_rule, node);</div>
<div class="line">            TAILQ_REMOVE(&amp;table-&gt;rules, existing_rule, node);</div>
<div class="line">            free(existing_rule);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span></div>
<div class="line">table_rule_delete(<span class="keyword">struct</span> table *table,</div>
<div class="line">    <span class="keyword">struct</span> table_rule_match *match)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>table_rule *rule;</div>
<div class="line"> </div>
<div class="line">    rule = table_rule_find(table, match);</div>
<div class="line">    <span class="keywordflow">if</span> (rule == NULL)</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">    TAILQ_REMOVE(&amp;table-&gt;rules, rule, node);</div>
<div class="line">    free(rule);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span></div>
<div class="line">table_rule_default_add(<span class="keyword">struct</span> table *table,</div>
<div class="line">    <span class="keyword">struct</span> table_rule *rule)</div>
<div class="line">{</div>
<div class="line">    free(table-&gt;rule_default);</div>
<div class="line">    table-&gt;rule_default = rule;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span></div>
<div class="line">table_rule_default_delete(<span class="keyword">struct</span> table *table)</div>
<div class="line">{</div>
<div class="line">    free(table-&gt;rule_default);</div>
<div class="line">    table-&gt;rule_default = NULL;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<div class="ttc" id="astructrte__port__kni__writer__nodrop__params_html_a9f23347bc6d858fef6360d38c591ed1c"><div class="ttname"><a href="structrte__port__kni__writer__nodrop__params.html#a9f23347bc6d858fef6360d38c591ed1c">rte_port_kni_writer_nodrop_params::kni</a></div><div class="ttdeci">struct rte_kni * kni</div><div class="ttdef"><b>Definition:</b> <a href="rte__port__kni_8h_source.html#l00052">rte_port_kni.h:52</a></div></div>
<div class="ttc" id="astructrte__port__kni__writer__params_html_a9f23347bc6d858fef6360d38c591ed1c"><div class="ttname"><a href="structrte__port__kni__writer__params.html#a9f23347bc6d858fef6360d38c591ed1c">rte_port_kni_writer_params::kni</a></div><div class="ttdeci">struct rte_kni * kni</div><div class="ttdef"><b>Definition:</b> <a href="rte__port__kni_8h_source.html#l00041">rte_port_kni.h:41</a></div></div>
<div class="ttc" id="astructrte__pipeline__port__out__params_html"><div class="ttname"><a href="structrte__pipeline__port__out__params.html">rte_pipeline_port_out_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__pipeline_8h_source.html#l00704">rte_pipeline.h:704</a></div></div>
<div class="ttc" id="arte__pipeline_8h_html_af1cb4d7ac4516443e6f9d82a4beebed6"><div class="ttname"><a href="rte__pipeline_8h.html#af1cb4d7ac4516443e6f9d82a4beebed6">rte_pipeline_table_create</a></div><div class="ttdeci">int rte_pipeline_table_create(struct rte_pipeline *p, struct rte_pipeline_table_params *params, uint32_t *table_id)</div></div>
<div class="ttc" id="astructrte__pipeline__table__entry_html_a4783596f73bb7e535d78875dbf3397b0"><div class="ttname"><a href="structrte__pipeline__table__entry.html#a4783596f73bb7e535d78875dbf3397b0">rte_pipeline_table_entry::table_id</a></div><div class="ttdeci">uint32_t table_id</div><div class="ttdef"><b>Definition:</b> <a href="rte__pipeline_8h_source.html#l00225">rte_pipeline.h:225</a></div></div>
<div class="ttc" id="arte__pipeline_8h_html_ae53c3736fb2a1edc8e4b9b185d9d8fc3"><div class="ttname"><a href="rte__pipeline_8h.html#ae53c3736fb2a1edc8e4b9b185d9d8fc3">RTE_PIPELINE_TABLE_MAX</a></div><div class="ttdeci">#define RTE_PIPELINE_TABLE_MAX</div><div class="ttdef"><b>Definition:</b> <a href="rte__pipeline_8h_source.html#l00204">rte_pipeline.h:204</a></div></div>
<div class="ttc" id="astructrte__port__ethdev__reader__params_html"><div class="ttname"><a href="structrte__port__ethdev__reader__params.html">rte_port_ethdev_reader_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__ethdev_8h_source.html#l00026">rte_port_ethdev.h:26</a></div></div>
<div class="ttc" id="astructrte__table__hash__params_html"><div class="ttname"><a href="structrte__table__hash__params.html">rte_table_hash_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__table__hash_8h_source.html#l00063">rte_table_hash.h:63</a></div></div>
<div class="ttc" id="arte__table__acl_8h_html"><div class="ttname"><a href="rte__table__acl_8h.html">rte_table_acl.h</a></div></div>
<div class="ttc" id="astructrte__port__ethdev__writer__params_html"><div class="ttname"><a href="structrte__port__ethdev__writer__params.html">rte_port_ethdev_writer_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__ethdev_8h_source.html#l00038">rte_port_ethdev.h:38</a></div></div>
<div class="ttc" id="astructrte__acl__field__def_html"><div class="ttname"><a href="structrte__acl__field__def.html">rte_acl_field_def</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__acl_8h_source.html#l00051">rte_acl.h:51</a></div></div>
<div class="ttc" id="astructrte__port__ring__writer__nodrop__params_html"><div class="ttname"><a href="structrte__port__ring__writer__nodrop__params.html">rte_port_ring_writer_nodrop_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__ring_8h_source.html#l00056">rte_port_ring.h:56</a></div></div>
<div class="ttc" id="astructrte__acl__field__def_html_a894bdfa2d603d8343f8ef01dda6fcd23"><div class="ttname"><a href="structrte__acl__field__def.html#a894bdfa2d603d8343f8ef01dda6fcd23">rte_acl_field_def::offset</a></div><div class="ttdeci">uint32_t offset</div><div class="ttdef"><b>Definition:</b> <a href="rte__acl_8h_source.html#l00056">rte_acl.h:56</a></div></div>
<div class="ttc" id="astructrte__port__fd__reader__params_html"><div class="ttname"><a href="structrte__port__fd__reader__params.html">rte_port_fd_reader_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__fd_8h_source.html#l00027">rte_port_fd.h:27</a></div></div>
<div class="ttc" id="arte__port__sym__crypto_8h_html_a2ea706cf2bdf0be3887541de6276721b"><div class="ttname"><a href="rte__port__sym__crypto_8h.html#a2ea706cf2bdf0be3887541de6276721b">rte_port_sym_crypto_reader_ops</a></div><div class="ttdeci">struct rte_port_in_ops rte_port_sym_crypto_reader_ops</div></div>
<div class="ttc" id="arte__ring_8h_html_ae4dece63653850041afd5c16d3d6e052"><div class="ttname"><a href="rte__ring_8h.html#ae4dece63653850041afd5c16d3d6e052">rte_ring_create</a></div><div class="ttdeci">struct rte_ring * rte_ring_create(const char *name, unsigned int count, int socket_id, unsigned int flags)</div></div>
<div class="ttc" id="arte__port__kni_8h_html_a33e3ec944f138cbde903ce81da3d1b7e"><div class="ttname"><a href="rte__port__kni_8h.html#a33e3ec944f138cbde903ce81da3d1b7e">rte_port_kni_writer_nodrop_ops</a></div><div class="ttdeci">struct rte_port_out_ops rte_port_kni_writer_nodrop_ops</div></div>
<div class="ttc" id="arte__pipeline_8h_html_a247f58fe13cba38922ccf5c60a2f86bb"><div class="ttname"><a href="rte__pipeline_8h.html#a247f58fe13cba38922ccf5c60a2f86bb">rte_pipeline_port_out_create</a></div><div class="ttdeci">int rte_pipeline_port_out_create(struct rte_pipeline *p, struct rte_pipeline_port_out_params *params, uint32_t *port_id)</div></div>
<div class="ttc" id="arte__port__ring_8h_html_a21140815d53c059aaadb55f28a24497e"><div class="ttname"><a href="rte__port__ring_8h.html#a21140815d53c059aaadb55f28a24497e">rte_port_ring_reader_ops</a></div><div class="ttdeci">struct rte_port_in_ops rte_port_ring_reader_ops</div></div>
<div class="ttc" id="astructrte__port__ring__reader__params_html_a1dfc25cca5a340eff30700b60fd41339"><div class="ttname"><a href="structrte__port__ring__reader__params.html#a1dfc25cca5a340eff30700b60fd41339">rte_port_ring_reader_params::ring</a></div><div class="ttdeci">struct rte_ring * ring</div><div class="ttdef"><b>Definition:</b> <a href="rte__port__ring_8h_source.html#l00036">rte_port_ring.h:36</a></div></div>
<div class="ttc" id="astructrte__port__sym__crypto__writer__params_html"><div class="ttname"><a href="structrte__port__sym__crypto__writer__params.html">rte_port_sym_crypto_writer_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__sym__crypto_8h_source.html#l00051">rte_port_sym_crypto.h:51</a></div></div>
<div class="ttc" id="arte__port__sym__crypto_8h_html"><div class="ttname"><a href="rte__port__sym__crypto_8h.html">rte_port_sym_crypto.h</a></div></div>
<div class="ttc" id="astructrte__port__sched__reader__params_html_afac65a177b53f7589c4bfd38423bde94"><div class="ttname"><a href="structrte__port__sched__reader__params.html#afac65a177b53f7589c4bfd38423bde94">rte_port_sched_reader_params::sched</a></div><div class="ttdeci">struct rte_sched_port * sched</div><div class="ttdef"><b>Definition:</b> <a href="rte__port__sched_8h_source.html#l00030">rte_port_sched.h:30</a></div></div>
<div class="ttc" id="astructrte__port__sched__writer__params_html"><div class="ttname"><a href="structrte__port__sched__writer__params.html">rte_port_sched_writer_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__sched_8h_source.html#l00037">rte_port_sched.h:37</a></div></div>
<div class="ttc" id="arte__port__ring_8h_html_a40f51cecdbb7adb17cb61b699c4836d3"><div class="ttname"><a href="rte__port__ring_8h.html#a40f51cecdbb7adb17cb61b699c4836d3">rte_port_ring_writer_nodrop_ops</a></div><div class="ttdeci">struct rte_port_out_ops rte_port_ring_writer_nodrop_ops</div></div>
<div class="ttc" id="astructrte__port__sched__reader__params_html"><div class="ttname"><a href="structrte__port__sched__reader__params.html">rte_port_sched_reader_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__sched_8h_source.html#l00028">rte_port_sched.h:28</a></div></div>
<div class="ttc" id="arte__pipeline_8h_html_adc4634b81c75f146f3afac17dbbe727c"><div class="ttname"><a href="rte__pipeline_8h.html#adc4634b81c75f146f3afac17dbbe727c">rte_pipeline_port_in_connect_to_table</a></div><div class="ttdeci">int rte_pipeline_port_in_connect_to_table(struct rte_pipeline *p, uint32_t port_id, uint32_t table_id)</div></div>
<div class="ttc" id="astructrte__pipeline__table__entry_html"><div class="ttname"><a href="structrte__pipeline__table__entry.html">rte_pipeline_table_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__pipeline_8h_source.html#l00215">rte_pipeline.h:215</a></div></div>
<div class="ttc" id="arte__string__fns_8h_html"><div class="ttname"><a href="rte__string__fns_8h.html">rte_string_fns.h</a></div></div>
<div class="ttc" id="astructrte__port__sym__crypto__writer__nodrop__params_html"><div class="ttname"><a href="structrte__port__sym__crypto__writer__nodrop__params.html">rte_port_sym_crypto_writer_nodrop_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__sym__crypto_8h_source.html#l00069">rte_port_sym_crypto.h:69</a></div></div>
<div class="ttc" id="arte__port__sched_8h_html"><div class="ttname"><a href="rte__port__sched_8h.html">rte_port_sched.h</a></div></div>
<div class="ttc" id="arte__port__kni_8h_html"><div class="ttname"><a href="rte__port__kni_8h.html">rte_port_kni.h</a></div></div>
<div class="ttc" id="arte__table__hash_8h_html_a34bd949f43231bf0ce977b90fc02a0c1"><div class="ttname"><a href="rte__table__hash_8h.html#a34bd949f43231bf0ce977b90fc02a0c1">rte_table_hash_lru_ops</a></div><div class="ttdeci">struct rte_table_ops rte_table_hash_lru_ops</div></div>
<div class="ttc" id="astructrte__acl__field__def_html_a1d127017fb298b889f4ba24752d08b8e"><div class="ttname"><a href="structrte__acl__field__def.html#a1d127017fb298b889f4ba24752d08b8e">rte_acl_field_def::type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdef"><b>Definition:</b> <a href="rte__acl_8h_source.html#l00052">rte_acl.h:52</a></div></div>
<div class="ttc" id="arte__table__stub_8h_html"><div class="ttname"><a href="rte__table__stub_8h.html">rte_table_stub.h</a></div></div>
<div class="ttc" id="arte__port__sym__crypto_8h_html_a221d3989fc75e046c1e6c3edf939347a"><div class="ttname"><a href="rte__port__sym__crypto_8h.html#a221d3989fc75e046c1e6c3edf939347a">rte_port_sym_crypto_writer_nodrop_ops</a></div><div class="ttdeci">struct rte_port_out_ops rte_port_sym_crypto_writer_nodrop_ops</div></div>
<div class="ttc" id="arte__table__acl_8h_html_a1ec0bc8eb1f77d82a87814f0b429b486"><div class="ttname"><a href="rte__table__acl_8h.html#a1ec0bc8eb1f77d82a87814f0b429b486">rte_table_acl_ops</a></div><div class="ttdeci">struct rte_table_ops rte_table_acl_ops</div></div>
<div class="ttc" id="astructrte__pipeline__table__params_html"><div class="ttname"><a href="structrte__pipeline__table__params.html">rte_pipeline_table_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__pipeline_8h_source.html#l00306">rte_pipeline.h:306</a></div></div>
<div class="ttc" id="arte__port__ethdev_8h_html_a3b78a74a428484403e04cfff80c0aea0"><div class="ttname"><a href="rte__port__ethdev_8h.html#a3b78a74a428484403e04cfff80c0aea0">rte_port_ethdev_writer_ops</a></div><div class="ttdeci">struct rte_port_out_ops rte_port_ethdev_writer_ops</div></div>
<div class="ttc" id="arte__port__ethdev_8h_html_a30ce5487b28f5119579f3e909d62cac6"><div class="ttname"><a href="rte__port__ethdev_8h.html#a30ce5487b28f5119579f3e909d62cac6">rte_port_ethdev_writer_nodrop_ops</a></div><div class="ttdeci">struct rte_port_out_ops rte_port_ethdev_writer_nodrop_ops</div></div>
<div class="ttc" id="arte__port__sched_8h_html_a776d4fbec3b3b4d2b1e1fe45a699e583"><div class="ttname"><a href="rte__port__sched_8h.html#a776d4fbec3b3b4d2b1e1fe45a699e583">rte_port_sched_writer_ops</a></div><div class="ttdeci">struct rte_port_out_ops rte_port_sched_writer_ops</div></div>
<div class="ttc" id="arte__ring_8h_html_a564e012c1eb4ae08f9eea3acfd08b377"><div class="ttname"><a href="rte__ring_8h.html#a564e012c1eb4ae08f9eea3acfd08b377">rte_ring_free</a></div><div class="ttdeci">void rte_ring_free(struct rte_ring *r)</div></div>
<div class="ttc" id="astructrte__mbuf_html"><div class="ttname"><a href="structrte__mbuf.html">rte_mbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__mbuf__core_8h_source.html#l00473">rte_mbuf_core.h:473</a></div></div>
<div class="ttc" id="astructrte__port__kni__writer__params_html"><div class="ttname"><a href="structrte__port__kni__writer__params.html">rte_port_kni_writer_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__kni_8h_source.html#l00039">rte_port_kni.h:39</a></div></div>
<div class="ttc" id="arte__port__ring_8h_html"><div class="ttname"><a href="rte__port__ring_8h.html">rte_port_ring.h</a></div></div>
<div class="ttc" id="arte__port__ethdev_8h_html_ae118ef74190911c882e0ce7029affb55"><div class="ttname"><a href="rte__port__ethdev_8h.html#ae118ef74190911c882e0ce7029affb55">rte_port_ethdev_reader_ops</a></div><div class="ttdeci">struct rte_port_in_ops rte_port_ethdev_reader_ops</div></div>
<div class="ttc" id="arte__port__sched_8h_html_ab1ac2ae5677783ecf1f497a75c76ddf3"><div class="ttname"><a href="rte__port__sched_8h.html#ab1ac2ae5677783ecf1f497a75c76ddf3">rte_port_sched_reader_ops</a></div><div class="ttdeci">struct rte_port_in_ops rte_port_sched_reader_ops</div></div>
<div class="ttc" id="arte__port_8h_html_ad0b862300dcd7ddddee0871a90f1b310"><div class="ttname"><a href="rte__port_8h.html#ad0b862300dcd7ddddee0871a90f1b310">RTE_PORT_IN_BURST_SIZE_MAX</a></div><div class="ttdeci">#define RTE_PORT_IN_BURST_SIZE_MAX</div><div class="ttdef"><b>Definition:</b> <a href="rte__port_8h_source.html#l00053">rte_port.h:53</a></div></div>
<div class="ttc" id="astructrte__acl__field__def_html_a92f339699e74f468bf5355e4d76f6a79"><div class="ttname"><a href="structrte__acl__field__def.html#a92f339699e74f468bf5355e4d76f6a79">rte_acl_field_def::input_index</a></div><div class="ttdeci">uint8_t input_index</div><div class="ttdef"><b>Definition:</b> <a href="rte__acl_8h_source.html#l00055">rte_acl.h:55</a></div></div>
<div class="ttc" id="arte__table__hash_8h_html_a49a5c7cb0c559f983bf21ec3c13967da"><div class="ttname"><a href="rte__table__hash_8h.html#a49a5c7cb0c559f983bf21ec3c13967da">rte_table_hash_op_hash</a></div><div class="ttdeci">uint64_t(* rte_table_hash_op_hash)(void *key, void *key_mask, uint32_t key_size, uint64_t seed)</div><div class="ttdef"><b>Definition:</b> <a href="rte__table__hash_8h_source.html#l00056">rte_table_hash.h:56</a></div></div>
<div class="ttc" id="arte__port__source__sink_8h_html_a4b25b2bf1aba2b7a044ca28923b0351f"><div class="ttname"><a href="rte__port__source__sink_8h.html#a4b25b2bf1aba2b7a044ca28923b0351f">rte_port_source_ops</a></div><div class="ttdeci">struct rte_port_in_ops rte_port_source_ops</div></div>
<div class="ttc" id="arte__table__lpm__ipv6_8h_html"><div class="ttname"><a href="rte__table__lpm__ipv6_8h.html">rte_table_lpm_ipv6.h</a></div></div>
<div class="ttc" id="astructrte__port__fd__writer__nodrop__params_html_a6f8059414f0228f0256115e024eeed4b"><div class="ttname"><a href="structrte__port__fd__writer__nodrop__params.html#a6f8059414f0228f0256115e024eeed4b">rte_port_fd_writer_nodrop_params::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="rte__port__fd_8h_source.html#l00058">rte_port_fd.h:58</a></div></div>
<div class="ttc" id="arte__ip_8h_html"><div class="ttname"><a href="rte__ip_8h.html">rte_ip.h</a></div></div>
<div class="ttc" id="arte__ring__core_8h_html_a127c66adbeab4653a47649993b94f35b"><div class="ttname"><a href="rte__ring__core_8h.html#a127c66adbeab4653a47649993b94f35b">RING_F_SP_ENQ</a></div><div class="ttdeci">#define RING_F_SP_ENQ</div><div class="ttdef"><b>Definition:</b> <a href="rte__ring__core_8h_source.html#l00161">rte_ring_core.h:161</a></div></div>
<div class="ttc" id="astructrte__ring_html"><div class="ttname"><a href="structrte__ring.html">rte_ring</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ring__core_8h_source.html#l00123">rte_ring_core.h:123</a></div></div>
<div class="ttc" id="arte__pipeline_8h_html_a85ce2e4661092748a84409a1d6eae14c"><div class="ttname"><a href="rte__pipeline_8h.html#a85ce2e4661092748a84409a1d6eae14c">rte_pipeline_free</a></div><div class="ttdeci">int rte_pipeline_free(struct rte_pipeline *p)</div></div>
<div class="ttc" id="astructrte__port__sched__writer__params_html_afac65a177b53f7589c4bfd38423bde94"><div class="ttname"><a href="structrte__port__sched__writer__params.html#afac65a177b53f7589c4bfd38423bde94">rte_port_sched_writer_params::sched</a></div><div class="ttdeci">struct rte_sched_port * sched</div><div class="ttdef"><b>Definition:</b> <a href="rte__port__sched_8h_source.html#l00039">rte_port_sched.h:39</a></div></div>
<div class="ttc" id="arte__port__fd_8h_html_a5cfe37ce10416a525ebaf7a561a6d0cf"><div class="ttname"><a href="rte__port__fd_8h.html#a5cfe37ce10416a525ebaf7a561a6d0cf">rte_port_fd_reader_ops</a></div><div class="ttdeci">struct rte_port_in_ops rte_port_fd_reader_ops</div></div>
<div class="ttc" id="arte__common_8h_html_ac963da91b35efa4700b73a1f4eb1d8a6"><div class="ttname"><a href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a></div><div class="ttdeci">#define RTE_DIM(a)</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00809">rte_common.h:809</a></div></div>
<div class="ttc" id="astructpipeline__params_html"><div class="ttname"><a href="structpipeline__params.html">pipeline_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__eth__softnic__internals_8h_source.html#l00368">rte_eth_softnic_internals.h:368</a></div></div>
<div class="ttc" id="astructrte__port__ring__reader__params_html"><div class="ttname"><a href="structrte__port__ring__reader__params.html">rte_port_ring_reader_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__ring_8h_source.html#l00034">rte_port_ring.h:34</a></div></div>
<div class="ttc" id="arte__table__stub_8h_html_ac83a23a9e9a7428c839c5f6f158d7ffa"><div class="ttname"><a href="rte__table__stub_8h.html#ac83a23a9e9a7428c839c5f6f158d7ffa">rte_table_stub_ops</a></div><div class="ttdeci">struct rte_table_ops rte_table_stub_ops</div></div>
<div class="ttc" id="arte__pipeline_8h_html_af8a48f99a99731883005dfe93c5406e6"><div class="ttname"><a href="rte__pipeline_8h.html#af8a48f99a99731883005dfe93c5406e6">rte_pipeline_port_in_enable</a></div><div class="ttdeci">int rte_pipeline_port_in_enable(struct rte_pipeline *p, uint32_t port_id)</div></div>
<div class="ttc" id="arte__pipeline_8h_html_ab0c0f093519ccc9fbb76e7c5696fd266"><div class="ttname"><a href="rte__pipeline_8h.html#ab0c0f093519ccc9fbb76e7c5696fd266">rte_pipeline_port_in_create</a></div><div class="ttdeci">int rte_pipeline_port_in_create(struct rte_pipeline *p, struct rte_pipeline_port_in_params *params, uint32_t *port_id)</div></div>
<div class="ttc" id="astructrte__port__sym__crypto__reader__params_html"><div class="ttname"><a href="structrte__port__sym__crypto__reader__params.html">rte_port_sym_crypto_reader_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__sym__crypto_8h_source.html#l00032">rte_port_sym_crypto.h:32</a></div></div>
<div class="ttc" id="arte__table__hash_8h_html_ad7d24416b687345b68e9820d65e7e5d2"><div class="ttname"><a href="rte__table__hash_8h.html#ad7d24416b687345b68e9820d65e7e5d2">rte_table_hash_ext_ops</a></div><div class="ttdeci">struct rte_table_ops rte_table_hash_ext_ops</div></div>
<div class="ttc" id="arte__port__kni_8h_html_aa2ff1b8f5e97315c68a936b8661ea39b"><div class="ttname"><a href="rte__port__kni_8h.html#aa2ff1b8f5e97315c68a936b8661ea39b">rte_port_kni_reader_ops</a></div><div class="ttdeci">struct rte_port_in_ops rte_port_kni_reader_ops</div></div>
<div class="ttc" id="arte__common_8h_html"><div class="ttname"><a href="rte__common_8h.html">rte_common.h</a></div></div>
<div class="ttc" id="arte__table__array_8h_html"><div class="ttname"><a href="rte__table__array_8h.html">rte_table_array.h</a></div></div>
<div class="ttc" id="astructrte__port__sink__params_html"><div class="ttname"><a href="structrte__port__sink__params.html">rte_port_sink_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__source__sink_8h_source.html#l00041">rte_port_source_sink.h:41</a></div></div>
<div class="ttc" id="astructrte__table__ops_html"><div class="ttname"><a href="structrte__table__ops.html">rte_table_ops</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__table_8h_source.html#l00257">rte_table.h:257</a></div></div>
<div class="ttc" id="astructrte__pipeline__params_html"><div class="ttname"><a href="structrte__pipeline__params.html">rte_pipeline_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__pipeline_8h_source.html#l00073">rte_pipeline.h:73</a></div></div>
<div class="ttc" id="astructrte__port__ring__writer__nodrop__params_html_a1dfc25cca5a340eff30700b60fd41339"><div class="ttname"><a href="structrte__port__ring__writer__nodrop__params.html#a1dfc25cca5a340eff30700b60fd41339">rte_port_ring_writer_nodrop_params::ring</a></div><div class="ttdeci">struct rte_ring * ring</div><div class="ttdef"><b>Definition:</b> <a href="rte__port__ring_8h_source.html#l00058">rte_port_ring.h:58</a></div></div>
<div class="ttc" id="astructrte__tcp__hdr_html"><div class="ttname"><a href="structrte__tcp__hdr.html">rte_tcp_hdr</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__tcp_8h_source.html#l00028">rte_tcp.h:28</a></div></div>
<div class="ttc" id="astructrte__port__source__params_html"><div class="ttname"><a href="structrte__port__source__params.html">rte_port_source_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__source__sink_8h_source.html#l00024">rte_port_source_sink.h:24</a></div></div>
<div class="ttc" id="astructrte__port__ethdev__writer__nodrop__params_html"><div class="ttname"><a href="structrte__port__ethdev__writer__nodrop__params.html">rte_port_ethdev_writer_nodrop_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__ethdev_8h_source.html#l00054">rte_port_ethdev.h:54</a></div></div>
<div class="ttc" id="arte__table__array_8h_html_a0bceb8639a24f2ae41aad51328415a4c"><div class="ttname"><a href="rte__table__array_8h.html#a0bceb8639a24f2ae41aad51328415a4c">rte_table_array_ops</a></div><div class="ttdeci">struct rte_table_ops rte_table_array_ops</div></div>
<div class="ttc" id="arte__port__in__action_8h_html_ac3535b16fab92a56ac8fc65811d3ec8a"><div class="ttname"><a href="rte__port__in__action_8h.html#ac3535b16fab92a56ac8fc65811d3ec8a">rte_port_in_action_free</a></div><div class="ttdeci">__rte_experimental int rte_port_in_action_free(struct rte_port_in_action *action)</div></div>
<div class="ttc" id="astructrte__port__kni__reader__params_html_a9f23347bc6d858fef6360d38c591ed1c"><div class="ttname"><a href="structrte__port__kni__reader__params.html#a9f23347bc6d858fef6360d38c591ed1c">rte_port_kni_reader_params::kni</a></div><div class="ttdeci">struct rte_kni * kni</div><div class="ttdef"><b>Definition:</b> <a href="rte__port__kni_8h_source.html#l00031">rte_port_kni.h:31</a></div></div>
<div class="ttc" id="arte__common_8h_html_a276e8a32e0bbf024aadd9420b8f2d3b3"><div class="ttname"><a href="rte__common_8h.html#a276e8a32e0bbf024aadd9420b8f2d3b3">offsetof</a></div><div class="ttdeci">#define offsetof(TYPE, MEMBER)</div><div class="ttdef"><b>Definition:</b> <a href="rte__common_8h_source.html#l00753">rte_common.h:753</a></div></div>
<div class="ttc" id="arte__table__hash_8h_html"><div class="ttname"><a href="rte__table__hash_8h.html">rte_table_hash.h</a></div></div>
<div class="ttc" id="arte__tcp_8h_html"><div class="ttname"><a href="rte__tcp_8h.html">rte_tcp.h</a></div></div>
<div class="ttc" id="astructrte__ipv4__hdr_html"><div class="ttname"><a href="structrte__ipv4__hdr.html">rte_ipv4_hdr</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ip_8h_source.html#l00033">rte_ip.h:33</a></div></div>
<div class="ttc" id="arte__port__in__action_8h_html_ae28a252c914440f7e21e29ad98e943f5"><div class="ttname"><a href="rte__port__in__action_8h.html#ae28a252c914440f7e21e29ad98e943f5">rte_port_in_action_params_get</a></div><div class="ttdeci">__rte_experimental int rte_port_in_action_params_get(struct rte_port_in_action *action, struct rte_pipeline_port_in_params *params)</div></div>
<div class="ttc" id="astructrte__port__fd__writer__nodrop__params_html"><div class="ttname"><a href="structrte__port__fd__writer__nodrop__params.html">rte_port_fd_writer_nodrop_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__fd_8h_source.html#l00056">rte_port_fd.h:56</a></div></div>
<div class="ttc" id="astructrte__port__ring__writer__params_html_a1dfc25cca5a340eff30700b60fd41339"><div class="ttname"><a href="structrte__port__ring__writer__params.html#a1dfc25cca5a340eff30700b60fd41339">rte_port_ring_writer_params::ring</a></div><div class="ttdeci">struct rte_ring * ring</div><div class="ttdef"><b>Definition:</b> <a href="rte__port__ring_8h_source.html#l00045">rte_port_ring.h:45</a></div></div>
<div class="ttc" id="arte__port__sym__crypto_8h_html_aef70c7b0dfc1577b8508457d6577aa44"><div class="ttname"><a href="rte__port__sym__crypto_8h.html#aef70c7b0dfc1577b8508457d6577aa44">rte_port_sym_crypto_writer_ops</a></div><div class="ttdeci">struct rte_port_out_ops rte_port_sym_crypto_writer_ops</div></div>
<div class="ttc" id="astructrte__pipeline__port__in__params_html"><div class="ttname"><a href="structrte__pipeline__port__in__params.html">rte_pipeline_port_in_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__pipeline_8h_source.html#l00568">rte_pipeline.h:568</a></div></div>
<div class="ttc" id="arte__table__action_8h_html_a018b8c3988eb1ed6298fe75f562215b1"><div class="ttname"><a href="rte__table__action_8h.html#a018b8c3988eb1ed6298fe75f562215b1">rte_table_action_table_params_get</a></div><div class="ttdeci">__rte_experimental int rte_table_action_table_params_get(struct rte_table_action *action, struct rte_pipeline_table_params *params)</div></div>
<div class="ttc" id="astructrte__port__fd__reader__params_html_a6f8059414f0228f0256115e024eeed4b"><div class="ttname"><a href="structrte__port__fd__reader__params.html#a6f8059414f0228f0256115e024eeed4b">rte_port_fd_reader_params::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="rte__port__fd_8h_source.html#l00029">rte_port_fd.h:29</a></div></div>
<div class="ttc" id="arte__port__kni_8h_html_a50448581e6d27c30b7904b590ae91718"><div class="ttname"><a href="rte__port__kni_8h.html#a50448581e6d27c30b7904b590ae91718">rte_port_kni_writer_ops</a></div><div class="ttdeci">struct rte_port_out_ops rte_port_kni_writer_ops</div></div>
<div class="ttc" id="astructrte__port__fd__writer__params_html_a6f8059414f0228f0256115e024eeed4b"><div class="ttname"><a href="structrte__port__fd__writer__params.html#a6f8059414f0228f0256115e024eeed4b">rte_port_fd_writer_params::fd</a></div><div class="ttdeci">int fd</div><div class="ttdef"><b>Definition:</b> <a href="rte__port__fd_8h_source.html#l00044">rte_port_fd.h:44</a></div></div>
<div class="ttc" id="arte__port__ring_8h_html_a59fd9348c9a8ae494c504f265ad20b23"><div class="ttname"><a href="rte__port__ring_8h.html#a59fd9348c9a8ae494c504f265ad20b23">rte_port_ring_writer_ops</a></div><div class="ttdeci">struct rte_port_out_ops rte_port_ring_writer_ops</div></div>
<div class="ttc" id="arte__port__source__sink_8h_html_a7ed2f0091ffeefe36f8069726060a6c2"><div class="ttname"><a href="rte__port__source__sink_8h.html#a7ed2f0091ffeefe36f8069726060a6c2">rte_port_sink_ops</a></div><div class="ttdeci">struct rte_port_out_ops rte_port_sink_ops</div></div>
<div class="ttc" id="astructrte__port__fd__writer__params_html"><div class="ttname"><a href="structrte__port__fd__writer__params.html">rte_port_fd_writer_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__fd_8h_source.html#l00042">rte_port_fd.h:42</a></div></div>
<div class="ttc" id="arte__table__action_8h_html_a8b9e354e85accefc088dd592d2c01ebc"><div class="ttname"><a href="rte__table__action_8h.html#a8b9e354e85accefc088dd592d2c01ebc">rte_table_action_create</a></div><div class="ttdeci">__rte_experimental struct rte_table_action * rte_table_action_create(struct rte_table_action_profile *profile, uint32_t socket_id)</div></div>
<div class="ttc" id="astructrte__ipv6__hdr_html"><div class="ttname"><a href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__ip_8h_source.html#l00387">rte_ip.h:387</a></div></div>
<div class="ttc" id="arte__table__action_8h_html_a476266b3409df527c20e4acca5cf5283"><div class="ttname"><a href="rte__table__action_8h.html#a476266b3409df527c20e4acca5cf5283">rte_table_action_free</a></div><div class="ttdeci">__rte_experimental int rte_table_action_free(struct rte_table_action *action)</div></div>
<div class="ttc" id="astructrte__table__array__params_html"><div class="ttname"><a href="structrte__table__array__params.html">rte_table_array_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__table__array_8h_source.html#l00025">rte_table_array.h:25</a></div></div>
<div class="ttc" id="arte__table__lpm_8h_html_ad8ce9bc1c0f2a5b25ea367b4b3d52c0c"><div class="ttname"><a href="rte__table__lpm_8h.html#ad8ce9bc1c0f2a5b25ea367b4b3d52c0c">rte_table_lpm_ops</a></div><div class="ttdeci">struct rte_table_ops rte_table_lpm_ops</div></div>
<div class="ttc" id="arte__ring__core_8h_html_a421a61b2f94cdf65b3a6ac146c492fb9"><div class="ttname"><a href="rte__ring__core_8h.html#a421a61b2f94cdf65b3a6ac146c492fb9">RING_F_SC_DEQ</a></div><div class="ttdeci">#define RING_F_SC_DEQ</div><div class="ttdef"><b>Definition:</b> <a href="rte__ring__core_8h_source.html#l00162">rte_ring_core.h:162</a></div></div>
<div class="ttc" id="astructrte__table__acl__params_html"><div class="ttname"><a href="structrte__table__acl__params.html">rte_table_acl_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__table__acl_8h_source.html#l00030">rte_table_acl.h:30</a></div></div>
<div class="ttc" id="astructrte__table__lpm__params_html"><div class="ttname"><a href="structrte__table__lpm__params.html">rte_table_lpm_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__table__lpm_8h_source.html#l00050">rte_table_lpm.h:50</a></div></div>
<div class="ttc" id="arte__pipeline_8h_html_ad650149ed178057bfb54bda0b6e39e05"><div class="ttname"><a href="rte__pipeline_8h.html#ad650149ed178057bfb54bda0b6e39e05">rte_pipeline_create</a></div><div class="ttdeci">struct rte_pipeline * rte_pipeline_create(struct rte_pipeline_params *params)</div></div>
<div class="ttc" id="arte__port__source__sink_8h_html"><div class="ttname"><a href="rte__port__source__sink_8h.html">rte_port_source_sink.h</a></div></div>
<div class="ttc" id="astructrte__port__kni__writer__nodrop__params_html"><div class="ttname"><a href="structrte__port__kni__writer__nodrop__params.html">rte_port_kni_writer_nodrop_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__kni_8h_source.html#l00050">rte_port_kni.h:50</a></div></div>
<div class="ttc" id="arte__table__lpm__ipv6_8h_html_a06f62028822d03a1e159ff7c7ec56b3c"><div class="ttname"><a href="rte__table__lpm__ipv6_8h.html#a06f62028822d03a1e159ff7c7ec56b3c">rte_table_lpm_ipv6_ops</a></div><div class="ttdeci">struct rte_table_ops rte_table_lpm_ipv6_ops</div></div>
<div class="ttc" id="arte__port__in__action_8h_html_ab79c741b4d4d0013ef966196df0d4869"><div class="ttname"><a href="rte__port__in__action_8h.html#ab79c741b4d4d0013ef966196df0d4869">rte_port_in_action_create</a></div><div class="ttdeci">__rte_experimental struct rte_port_in_action * rte_port_in_action_create(struct rte_port_in_action_profile *profile, uint32_t socket_id)</div></div>
<div class="ttc" id="astructrte__port__ring__writer__params_html"><div class="ttname"><a href="structrte__port__ring__writer__params.html">rte_port_ring_writer_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__ring_8h_source.html#l00043">rte_port_ring.h:43</a></div></div>
<div class="ttc" id="astructrte__acl__field__def_html_aa63bd1fe49046f2c9ef0478a050b7c3a"><div class="ttname"><a href="structrte__acl__field__def.html#aa63bd1fe49046f2c9ef0478a050b7c3a">rte_acl_field_def::field_index</a></div><div class="ttdeci">uint8_t field_index</div><div class="ttdef"><b>Definition:</b> <a href="rte__acl_8h_source.html#l00054">rte_acl.h:54</a></div></div>
<div class="ttc" id="astructrte__port__kni__reader__params_html"><div class="ttname"><a href="structrte__port__kni__reader__params.html">rte_port_kni_reader_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__port__kni_8h_source.html#l00029">rte_port_kni.h:29</a></div></div>
<div class="ttc" id="arte__table__lpm_8h_html"><div class="ttname"><a href="rte__table__lpm_8h.html">rte_table_lpm.h</a></div></div>
<div class="ttc" id="astructrte__pipeline__table__entry_html_ab65480a4c6171d9ea813e0b1be3afef2"><div class="ttname"><a href="structrte__pipeline__table__entry.html#ab65480a4c6171d9ea813e0b1be3afef2">rte_pipeline_table_entry::action</a></div><div class="ttdeci">enum rte_pipeline_action action</div><div class="ttdef"><b>Definition:</b> <a href="rte__pipeline_8h_source.html#l00123">rte_pipeline.h:217</a></div></div>
<div class="ttc" id="arte__port__fd_8h_html_af45f3ebffd788fc60ce6687162d39b78"><div class="ttname"><a href="rte__port__fd_8h.html#af45f3ebffd788fc60ce6687162d39b78">rte_port_fd_writer_nodrop_ops</a></div><div class="ttdeci">struct rte_port_out_ops rte_port_fd_writer_nodrop_ops</div></div>
<div class="ttc" id="arte__port__fd_8h_html"><div class="ttname"><a href="rte__port__fd_8h.html">rte_port_fd.h</a></div></div>
<div class="ttc" id="arte__port__ethdev_8h_html"><div class="ttname"><a href="rte__port__ethdev_8h.html">rte_port_ethdev.h</a></div></div>
<div class="ttc" id="arte__port__fd_8h_html_ab16824d1b803617892d1aab7da1ee164"><div class="ttname"><a href="rte__port__fd_8h.html#ab16824d1b803617892d1aab7da1ee164">rte_port_fd_writer_ops</a></div><div class="ttdeci">struct rte_port_out_ops rte_port_fd_writer_ops</div></div>
<div class="ttc" id="astructrte__table__lpm__ipv6__params_html"><div class="ttname"><a href="structrte__table__lpm__ipv6__params.html">rte_table_lpm_ipv6_params</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__table__lpm__ipv6_8h_source.html#l00052">rte_table_lpm_ipv6.h:52</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
