<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DPDK: lib/librte_hash/rte_thash.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">20.11.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_5e14993b9b1571024c777dcdb495ae81.html">librte_hash</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_thash.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__byteorder_8h_source.html">rte_byteorder.h</a>&gt;</code><br />
<code>#include &lt;rte_config.h&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__ip_8h_source.html">rte_ip.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rte__common_8h_source.html">rte_common.h</a>&gt;</code><br />
</div>
<p><a href="rte__thash_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__ipv4__tuple.html">rte_ipv4_tuple</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__ipv6__tuple.html">rte_ipv6_tuple</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab3bc792319dae9ae1dd65f70a1715101"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__thash_8h.html#ab3bc792319dae9ae1dd65f70a1715101">RTE_THASH_V4_L3_LEN</a></td></tr>
<tr class="separator:ab3bc792319dae9ae1dd65f70a1715101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bc485fd380d5495b4ebf513b8a6540b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__thash_8h.html#a4bc485fd380d5495b4ebf513b8a6540b">RTE_THASH_V4_L4_LEN</a>&#160;&#160;&#160;((sizeof(struct <a class="el" href="structrte__ipv4__tuple.html">rte_ipv4_tuple</a>)) / 4)</td></tr>
<tr class="separator:a4bc485fd380d5495b4ebf513b8a6540b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba04c6149e45e9f06e314faac237633"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__thash_8h.html#a9ba04c6149e45e9f06e314faac237633">RTE_THASH_V6_L3_LEN</a></td></tr>
<tr class="separator:a9ba04c6149e45e9f06e314faac237633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4e1546c072526b2c303b681aaafa0e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__thash_8h.html#ae4e1546c072526b2c303b681aaafa0e9">RTE_THASH_V6_L4_LEN</a>&#160;&#160;&#160;((sizeof(struct <a class="el" href="structrte__ipv6__tuple.html">rte_ipv6_tuple</a>)) / 4)</td></tr>
<tr class="separator:ae4e1546c072526b2c303b681aaafa0e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a456567aa7b1a7cd2b5a2f26a064b1b77"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__thash_8h.html#a456567aa7b1a7cd2b5a2f26a064b1b77">rte_convert_rss_key</a> (const uint32_t *orig, uint32_t *targ, int len)</td></tr>
<tr class="separator:a456567aa7b1a7cd2b5a2f26a064b1b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ec1ef43be6fe4c48e9827cf32f2158"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__thash_8h.html#af3ec1ef43be6fe4c48e9827cf32f2158">rte_thash_load_v6_addrs</a> (const struct <a class="el" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a> *orig, union rte_thash_tuple *targ)</td></tr>
<tr class="separator:af3ec1ef43be6fe4c48e9827cf32f2158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0afee34617158876c8946d7652450d35"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__thash_8h.html#a0afee34617158876c8946d7652450d35">rte_softrss</a> (uint32_t *input_tuple, uint32_t input_len, const uint8_t *rss_key)</td></tr>
<tr class="separator:a0afee34617158876c8946d7652450d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00a9d49d177be1bf3ea42e0825b310bb"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__thash_8h.html#a00a9d49d177be1bf3ea42e0825b310bb">rte_softrss_be</a> (uint32_t *input_tuple, uint32_t input_len, const uint8_t *rss_key)</td></tr>
<tr class="separator:a00a9d49d177be1bf3ea42e0825b310bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>toeplitz hash functions. </p>

<p class="definition">Definition in file <a class="el" href="rte__thash_8h_source.html">rte_thash.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab3bc792319dae9ae1dd65f70a1715101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3bc792319dae9ae1dd65f70a1715101">&#9670;&nbsp;</a></span>RTE_THASH_V4_L3_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_THASH_V4_L3_LEN</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">            ((<span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__ipv4__tuple.html">rte_ipv4_tuple</a>) -   \</div>
<div class="line">            sizeof(((struct <a class="code" href="structrte__ipv4__tuple.html">rte_ipv4_tuple</a> *)0)-&gt;sctp_tag)) / 4)</div>
</div><!-- fragment --><p>Software implementation of the Toeplitz hash function used by RSS. Can be used either for packet distribution on single queue NIC or for simulating of RSS computation on specific NIC (for example after GRE header decapsulating) length in dwords of input tuple to calculate hash of ipv4 header only </p>

<p class="definition">Definition at line <a class="el" href="rte__thash_8h_source.html#l00047">47</a> of file <a class="el" href="rte__thash_8h_source.html">rte_thash.h</a>.</p>

</div>
</div>
<a id="a4bc485fd380d5495b4ebf513b8a6540b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bc485fd380d5495b4ebf513b8a6540b">&#9670;&nbsp;</a></span>RTE_THASH_V4_L4_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_THASH_V4_L4_LEN&#160;&#160;&#160;((sizeof(struct <a class="el" href="structrte__ipv4__tuple.html">rte_ipv4_tuple</a>)) / 4)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>length in dwords of input tuple to calculate hash of ipv4 header + transport header </p>

<p class="definition">Definition at line <a class="el" href="rte__thash_8h_source.html#l00055">55</a> of file <a class="el" href="rte__thash_8h_source.html">rte_thash.h</a>.</p>

</div>
</div>
<a id="a9ba04c6149e45e9f06e314faac237633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ba04c6149e45e9f06e314faac237633">&#9670;&nbsp;</a></span>RTE_THASH_V6_L3_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_THASH_V6_L3_LEN</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">            ((<span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structrte__ipv6__tuple.html">rte_ipv6_tuple</a>) -       \</div>
<div class="line">            sizeof(((struct <a class="code" href="structrte__ipv6__tuple.html">rte_ipv6_tuple</a> *)0)-&gt;sctp_tag)) / 4)</div>
</div><!-- fragment --><p>length in dwords of input tuple to calculate hash of ipv6 header only </p>

<p class="definition">Definition at line <a class="el" href="rte__thash_8h_source.html#l00061">61</a> of file <a class="el" href="rte__thash_8h_source.html">rte_thash.h</a>.</p>

</div>
</div>
<a id="ae4e1546c072526b2c303b681aaafa0e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4e1546c072526b2c303b681aaafa0e9">&#9670;&nbsp;</a></span>RTE_THASH_V6_L4_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTE_THASH_V6_L4_LEN&#160;&#160;&#160;((sizeof(struct <a class="el" href="structrte__ipv6__tuple.html">rte_ipv6_tuple</a>)) / 4)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>length in dwords of input tuple to calculate hash of ipv6 header + transport header </p>

<p class="definition">Definition at line <a class="el" href="rte__thash_8h_source.html#l00069">69</a> of file <a class="el" href="rte__thash_8h_source.html">rte_thash.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a456567aa7b1a7cd2b5a2f26a064b1b77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a456567aa7b1a7cd2b5a2f26a064b1b77">&#9670;&nbsp;</a></span>rte_convert_rss_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rte_convert_rss_key </td>
          <td>(</td>
          <td class="paramtype">const uint32_t *&#160;</td>
          <td class="paramname"><em>orig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>targ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prepare special converted key to use with <a class="el" href="rte__thash_8h.html#a00a9d49d177be1bf3ea42e0825b310bb">rte_softrss_be()</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">orig</td><td>pointer to original RSS key </td></tr>
    <tr><td class="paramname">targ</td><td>pointer to target RSS key </td></tr>
    <tr><td class="paramname">len</td><td>RSS key length </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rte__thash_8h_source.html#l00125">125</a> of file <a class="el" href="rte__thash_8h_source.html">rte_thash.h</a>.</p>

</div>
</div>
<a id="af3ec1ef43be6fe4c48e9827cf32f2158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ec1ef43be6fe4c48e9827cf32f2158">&#9670;&nbsp;</a></span>rte_thash_load_v6_addrs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rte_thash_load_v6_addrs </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structrte__ipv6__hdr.html">rte_ipv6_hdr</a> *&#160;</td>
          <td class="paramname"><em>orig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union rte_thash_tuple *&#160;</td>
          <td class="paramname"><em>targ</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prepare and load IPv6 addresses (src and dst) into target tuple </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">orig</td><td>Pointer to ipv6 header of the original packet </td></tr>
    <tr><td class="paramname">targ</td><td>Pointer to <a class="el" href="structrte__ipv6__tuple.html">rte_ipv6_tuple</a> structure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rte__thash_8h_source.html#l00142">142</a> of file <a class="el" href="rte__thash_8h_source.html">rte_thash.h</a>.</p>

</div>
</div>
<a id="a0afee34617158876c8946d7652450d35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0afee34617158876c8946d7652450d35">&#9670;&nbsp;</a></span>rte_softrss()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t rte_softrss </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>input_tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>input_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>rss_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generic implementation. Can be used with original rss_key </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input_tuple</td><td>Pointer to input tuple </td></tr>
    <tr><td class="paramname">input_len</td><td>Length of input_tuple in 4-bytes chunks </td></tr>
    <tr><td class="paramname">rss_key</td><td>Pointer to RSS hash key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated hash value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rte__thash_8h_source.html#l00180">180</a> of file <a class="el" href="rte__thash_8h_source.html">rte_thash.h</a>.</p>

</div>
</div>
<a id="a00a9d49d177be1bf3ea42e0825b310bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00a9d49d177be1bf3ea42e0825b310bb">&#9670;&nbsp;</a></span>rte_softrss_be()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t rte_softrss_be </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>input_tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>input_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>rss_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Optimized implementation. If you want the calculated hash value matches NIC RSS value you have to use special converted key with <a class="el" href="rte__thash_8h.html#a456567aa7b1a7cd2b5a2f26a064b1b77">rte_convert_rss_key()</a> fn. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input_tuple</td><td>Pointer to input tuple </td></tr>
    <tr><td class="paramname">input_len</td><td>Length of input_tuple in 4-bytes chunks </td></tr>
    <tr><td class="paramname">*rss_key</td><td>Pointer to RSS hash key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated hash value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rte__thash_8h_source.html#l00210">210</a> of file <a class="el" href="rte__thash_8h_source.html">rte_thash.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="astructrte__ipv6__tuple_html"><div class="ttname"><a href="structrte__ipv6__tuple.html">rte_ipv6_tuple</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__thash_8h_source.html#l00093">rte_thash.h:93</a></div></div>
<div class="ttc" id="astructrte__ipv4__tuple_html"><div class="ttname"><a href="structrte__ipv4__tuple.html">rte_ipv4_tuple</a></div><div class="ttdef"><b>Definition:</b> <a href="rte__thash_8h_source.html#l00075">rte_thash.h:75</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
